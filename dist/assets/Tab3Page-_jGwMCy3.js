import{i as J}from"./Icons-CAW4rpst.js";import{d as j,A as w,B as z,C as R,D as A,V as Y,i as g,H as F,J as G,K as H,Y as K,c as y,a as o,r,o as p,b as t,h as d,t as s,e as D,f as T,F as O,j as f,Z as L}from"./index-CitHbwVn.js";import{d as v,a as k,U as Z}from"./UserData-B9K-9VU0.js";const q=j({components:{IonRefresher:w,IonRefresherContent:z,S_TS:v},setup(){const a=R(new Z),e=R({isOpen:!1,duration:3e3,text:""});return A(()=>{Y(1).then(l=>{a.value=k.parseUserData(l)}).catch(l=>{e.value.isOpen=!0,e.value.text=JSON.stringify(l)})}),{userData:a,toastData:e,dayjs:g,S_TS:v,getColorOptions:F,getPriorityOptions:G,getGroupOptions:H,icons:J}},data(){return{}},methods:{handleRefresh(a){Y(1).then(e=>{this.userData=k.parseUserData(e);for(let l=0;l<this.userData.schedules.length;l++){const i=this.userData.schedules[l];i.startTs=g(i.startTs),i.endTs=g(i.endTs),i.repeatEndTs&&(i.repeatEndTs=g(i.repeatEndTs))}a.target.complete()}).catch(e=>{console.log("handleRefresh",e),this.toastData.isOpen=!0,this.toastData.text=JSON.stringify(e),a.target.complete()})}}}),Q={style:{display:"flex","align-items":"center"}};function W(a,e,l,i,X,x){const C=r("ion-title"),I=r("ion-toolbar"),E=r("ion-header"),N=r("ion-refresher-content"),B=r("ion-refresher"),u=r("ion-label"),m=r("ion-item"),c=r("ion-list"),b=r("Icon"),M=r("ion-toast"),U=r("ion-content"),P=r("ion-page");return p(),y(P,null,{default:o(()=>[t(E,null,{default:o(()=>[t(I,null,{default:o(()=>[t(C,null,{default:o(()=>e[2]||(e[2]=[d("Tab 3")])),_:1})]),_:1})]),_:1}),t(U,null,{default:o(()=>[t(B,{slot:"fixed",onIonRefresh:e[0]||(e[0]=n=>a.handleRefresh(n))},{default:o(()=>[t(N)]),_:1}),t(c,null,{default:o(()=>[t(m,null,{default:o(()=>[t(u,null,{default:o(()=>[d("Id: "+s(a.userData.id),1)]),_:1}),e[3]||(e[3]=d()),t(u,null,{default:o(()=>[d("Name: "+s(a.userData.name),1)]),_:1})]),_:1})]),_:1}),t(c,null,{default:o(()=>[t(m,null,{default:o(()=>[t(u,null,{default:o(()=>e[4]||(e[4]=[d("Schedule")])),_:1}),t(b,{icon:"mdi:roman-numeral-7",size:"large",height:"36",color:"#1a65eb"})]),_:1}),(p(!0),D(O,null,T(a.userData.schedules,(n,_)=>(p(),y(m,{key:_},{default:o(()=>[t(u,null,{default:o(()=>{var S,h;return[f("div",Q,[f("span",{class:"v-dot",style:L({"background-color":a.getColorOptions(n.color).tag,"margin-inline":"2px"})},null,4),t(b,{icon:a.getPriorityOptions(n.priority).icon,height:"36",color:a.getPriorityOptions(n.priority).color},null,8,["icon","color"]),t(u,null,{default:o(()=>[d(s("{"+a.getGroupOptions(n.groupId).label+"}"),1)]),_:2},1024),f("h2",null,"["+s(n.id)+"] "+s(n.title),1)]),f("p",null," range: "+s((S=n==null?void 0:n.startTs)==null?void 0:S.format("YYYY-MM-DD"))+" - "+s((h=n==null?void 0:n.endTs)==null?void 0:h.format("YYYY-MM-DD"))+" AllDay: "+s(n.allDay),1),f("p",null," Remind: "+s(n.reminder)+" | Repeat: "+s(n.repeat)+" | RepeatEnd: "+s(a.S_TS(n.repeatEndTs)),1),(p(!0),D(O,null,T(n.subtasks,(V,$)=>(p(),D("p",{key:$},s(V.name),1))),128))]}),_:2},1024)]),_:2},1024))),128))]),_:1}),t(c,null,{default:o(()=>[t(m,null,{default:o(()=>[t(u,null,{default:o(()=>e[5]||(e[5]=[d("Save")])),_:1})]),_:1}),(p(!0),D(O,null,T(a.userData.save,(n,_)=>(p(),y(m,{key:_},{default:o(()=>[t(u,null,{default:o(()=>[f("h6",null,s(_),1),f("p",null,s(n),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),t(M,{"is-open":a.toastData.isOpen,message:a.toastData.text,duration:a.toastData.duration,onDidDismiss:e[1]||(e[1]=()=>{a.toastData.isOpen=!1})},null,8,["is-open","message","duration"])]),_:1})]),_:1})}const ot=K(q,[["render",W]]);export{ot as default};
