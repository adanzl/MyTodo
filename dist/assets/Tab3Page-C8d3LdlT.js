import{g as R,d,b as y,U as j}from"./NetUtil.vue_vue_type_script_lang-CsB5WIaO.js";import{d as w,r as N,D as A,a3 as F,a4 as U,c as g,a as t,g as l,o as p,b as a,i as _,t as r,e as D,f as h,F as E,j as S}from"./index-Bc0n4A46.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P=w({setup(){const e=N(new j),n=N({isOpen:!1,duration:3e3,text:""});return A(()=>{R(1).then(i=>{e.value=JSON.parse(i.data);for(let o=0;o<e.value.schedules.length;o++){const u=e.value.schedules[o];u.startTs=d(u.startTs),u.endTs=d(u.endTs),u.repeatEndTs&&(u.repeatEndTs=d(u.repeatEndTs))}}).catch(i=>{n.value.isOpen=!0,n.value.text=JSON.stringify(i)})}),{userData:e,toastData:n,dayjs:d,SAVE_TS:y}},components:{IonRefresher:F,IonRefresherContent:U,SAVE_TS:y},data(){return{}},methods:{handleRefresh(e){R(1).then(n=>{this.userData=JSON.parse(n.data);for(let i=0;i<this.userData.schedules.length;i++){const o=this.userData.schedules[i];o.startTs=d(o.startTs),o.endTs=d(o.endTs),o.repeatEndTs&&(o.repeatEndTs=d(o.repeatEndTs))}e.target.complete()}).catch(n=>{console.log("handleRefresh",n),this.toastData.isOpen=!0,this.toastData.text=JSON.stringify(n),e.target.complete()})}}});function q(e,n,i,o,u,x){const Y=l("ion-title"),v=l("ion-toolbar"),k=l("ion-header"),M=l("ion-refresher-content"),V=l("ion-refresher"),m=l("ion-label"),f=l("ion-item"),T=l("ion-list"),B=l("ion-toast"),C=l("ion-content"),I=l("ion-page");return p(),g(I,null,{default:t(()=>[a(k,null,{default:t(()=>[a(v,null,{default:t(()=>[a(Y,null,{default:t(()=>n[2]||(n[2]=[_("Tab 3")])),_:1})]),_:1})]),_:1}),a(C,{"scroll-y":!1},{default:t(()=>[a(V,{slot:"fixed",onIonRefresh:n[0]||(n[0]=s=>e.handleRefresh(s))},{default:t(()=>[a(M)]),_:1}),a(T,null,{default:t(()=>[a(f,null,{default:t(()=>[a(m,null,{default:t(()=>[_("Id: "+r(e.userData.id),1)]),_:1})]),_:1}),a(f,null,{default:t(()=>[a(m,null,{default:t(()=>[_("Name: "+r(e.userData.name),1)]),_:1})]),_:1})]),_:1}),a(T,null,{default:t(()=>[a(f,null,{default:t(()=>[a(m,null,{default:t(()=>n[3]||(n[3]=[_("Schedule")])),_:1})]),_:1}),(p(!0),D(E,null,h(e.userData.schedules,(s,c)=>(p(),g(f,{key:c},{default:t(()=>[a(m,null,{default:t(()=>{var b,O;return[S("h2",null,"["+r(s.id)+"] "+r(s.title),1),S("p",null," range: "+r((b=s==null?void 0:s.startTs)==null?void 0:b.format("YYYY-MM-DD"))+" - "+r((O=s==null?void 0:s.endTs)==null?void 0:O.format("YYYY-MM-DD")),1),S("p",null," Remind: "+r(s.reminder)+" | Repeat: "+r(s.repeat)+" | RepeatEnd: "+r(e.SAVE_TS(s.repeatEndTs)),1),(p(!0),D(E,null,h(s.subTasks,(J,$)=>(p(),D("p",{key:$},r(J.name),1))),128))]}),_:2},1024)]),_:2},1024))),128))]),_:1}),a(T,null,{default:t(()=>[(p(!0),D(E,null,h(e.userData.save,(s,c)=>(p(),g(f,{key:c},{default:t(()=>[_(r(c)+" - "+r(s),1)]),_:2},1024))),128))]),_:1}),a(B,{"is-open":e.toastData.isOpen,message:e.toastData.text,duration:e.toastData.duration,onDidDismiss:n[1]||(n[1]=()=>{e.toastData.isOpen=!1})},null,8,["is-open","message","duration"])]),_:1})]),_:1})}const K=L(P,[["render",q]]);export{K as default};
