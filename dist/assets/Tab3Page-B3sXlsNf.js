import{g as O,d,b as R,U as j}from"./NetUtil.vue_vue_type_script_lang-BLg9R-4w.js";import{d as w,r as N,D as F,a4 as U,a5 as A,c as h,a as n,g as l,o as p,b as o,i as _,t as s,e as c,f as S,F as y,j as T}from"./index-DS90UvLX.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P=w({setup(){const t=N(new j),a=N({isOpen:!1,duration:3e3,text:""});return F(()=>{O(1).then(i=>{t.value=JSON.parse(i.data);for(let r=0;r<t.value.schedules.length;r++){const u=t.value.schedules[r];u.startTs=d(u.startTs),u.endTs=d(u.endTs),u.repeatEndTs&&(u.repeatEndTs=d(u.repeatEndTs))}}).catch(i=>{a.value.isOpen=!0,a.value.text=JSON.stringify(i)})}),{userData:t,toastData:a,dayjs:d,S_TS:R}},components:{IonRefresher:U,IonRefresherContent:A,S_TS:R},data(){return{}},methods:{handleRefresh(t){O(1).then(a=>{this.userData=JSON.parse(a.data);for(let i=0;i<this.userData.schedules.length;i++){const r=this.userData.schedules[i];r.startTs=d(r.startTs),r.endTs=d(r.endTs),r.repeatEndTs&&(r.repeatEndTs=d(r.repeatEndTs))}t.target.complete()}).catch(a=>{console.log("handleRefresh",a),this.toastData.isOpen=!0,this.toastData.text=JSON.stringify(a),t.target.complete()})}}});function q(t,a,i,r,u,x){const Y=l("ion-title"),v=l("ion-toolbar"),k=l("ion-header"),C=l("ion-refresher-content"),M=l("ion-refresher"),m=l("ion-label"),f=l("ion-item"),g=l("ion-list"),B=l("ion-toast"),I=l("ion-content"),J=l("ion-page");return p(),h(J,null,{default:n(()=>[o(k,null,{default:n(()=>[o(v,null,{default:n(()=>[o(Y,null,{default:n(()=>a[2]||(a[2]=[_("Tab 3")])),_:1})]),_:1})]),_:1}),o(I,{"scroll-y":!1},{default:n(()=>[o(M,{slot:"fixed",onIonRefresh:a[0]||(a[0]=e=>t.handleRefresh(e))},{default:n(()=>[o(C)]),_:1}),o(g,null,{default:n(()=>[o(f,null,{default:n(()=>[o(m,null,{default:n(()=>[_("Id: "+s(t.userData.id),1)]),_:1})]),_:1}),o(f,null,{default:n(()=>[o(m,null,{default:n(()=>[_("Name: "+s(t.userData.name),1)]),_:1})]),_:1})]),_:1}),o(g,null,{default:n(()=>[o(f,null,{default:n(()=>[o(m,null,{default:n(()=>a[3]||(a[3]=[_("Schedule")])),_:1})]),_:1}),(p(!0),c(y,null,S(t.userData.schedules,(e,D)=>(p(),h(f,{key:D},{default:n(()=>[o(m,null,{default:n(()=>{var b,E;return[T("h2",null,"["+s(e.id)+"] "+s(e.title),1),T("p",null,"Color:"+s(e.color),1),T("p",null," range: "+s((b=e==null?void 0:e.startTs)==null?void 0:b.format("YYYY-MM-DD"))+" - "+s((E=e==null?void 0:e.endTs)==null?void 0:E.format("YYYY-MM-DD"))+" AllDay: "+s(e.allDay),1),T("p",null," Remind: "+s(e.reminder)+" | Repeat: "+s(e.repeat)+" | RepeatEnd: "+s(t.S_TS(e.repeatEndTs)),1),(p(!0),c(y,null,S(e.subTasks,($,V)=>(p(),c("p",{key:V},s($.name),1))),128))]}),_:2},1024)]),_:2},1024))),128))]),_:1}),o(g,null,{default:n(()=>[(p(!0),c(y,null,S(t.userData.save,(e,D)=>(p(),h(f,{key:D},{default:n(()=>[_(s(D)+" - "+s(e),1)]),_:2},1024))),128))]),_:1}),o(B,{"is-open":t.toastData.isOpen,message:t.toastData.text,duration:t.toastData.duration,onDidDismiss:a[1]||(a[1]=()=>{t.toastData.isOpen=!1})},null,8,["is-open","message","duration"])]),_:1})]),_:1})}const K=L(P,[["render",q]]);export{K as default};
