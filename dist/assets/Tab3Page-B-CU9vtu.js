import{e as b,d as p,f as h,g as w,a as z,i as F,U}from"./NetUtil-TGExQta-.js";import{d as A,r as E,p as L,a7 as q,a8 as G,c as y,a as o,g as l,o as d,b as a,i as _,t as s,e as c,f as O,F as S,j as f,v as N}from"./index-DbL7hbmN.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K=A({setup(){const t=E(new U),e=E({isOpen:!1,duration:3e3,text:""});return L(()=>{b(1).then(i=>{t.value=JSON.parse(i.data);for(let r=0;r<t.value.schedules.length;r++){const u=t.value.schedules[r];u.startTs=p(u.startTs),u.endTs=p(u.endTs),u.repeatEndTs&&(u.repeatEndTs=p(u.repeatEndTs))}}).catch(i=>{e.value.isOpen=!0,e.value.text=JSON.stringify(i)})}),{userData:t,toastData:e,dayjs:p,S_TS:h,getColorOptions:w,getPriorityOptions:z,icons:F}},components:{IonRefresher:q,IonRefresherContent:G,S_TS:h},data(){return{}},methods:{handleRefresh(t){b(1).then(e=>{this.userData=JSON.parse(e.data);for(let i=0;i<this.userData.schedules.length;i++){const r=this.userData.schedules[i];r.startTs=p(r.startTs),r.endTs=p(r.endTs),r.repeatEndTs&&(r.repeatEndTs=p(r.repeatEndTs))}t.target.complete()}).catch(e=>{console.log("handleRefresh",e),this.toastData.isOpen=!0,this.toastData.text=JSON.stringify(e),t.target.complete()})}}}),Q={style:{display:"flex"}};function W(t,e,i,r,u,X){const Y=l("ion-title"),k=l("ion-toolbar"),C=l("ion-header"),M=l("ion-refresher-content"),B=l("ion-refresher"),m=l("ion-label"),g=l("ion-item"),T=l("ion-list"),I=l("ion-icon"),J=l("ion-toast"),P=l("ion-content"),$=l("ion-page");return d(),y($,null,{default:o(()=>[a(C,null,{default:o(()=>[a(k,null,{default:o(()=>[a(Y,null,{default:o(()=>e[2]||(e[2]=[_("Tab 3")])),_:1})]),_:1})]),_:1}),a(P,null,{default:o(()=>[a(B,{slot:"fixed",onIonRefresh:e[0]||(e[0]=n=>t.handleRefresh(n))},{default:o(()=>[a(M)]),_:1}),a(T,null,{default:o(()=>[a(g,null,{default:o(()=>[a(m,null,{default:o(()=>[_("Id: "+s(t.userData.id),1)]),_:1}),e[3]||(e[3]=_()),a(m,null,{default:o(()=>[_("Name: "+s(t.userData.name),1)]),_:1})]),_:1})]),_:1}),a(T,null,{default:o(()=>[a(g,null,{default:o(()=>[a(m,null,{default:o(()=>e[4]||(e[4]=[_("Schedule")])),_:1})]),_:1}),(d(!0),c(S,null,O(t.userData.schedules,(n,D)=>(d(),y(g,{key:D},{default:o(()=>[a(m,null,{default:o(()=>{var v,R;return[f("div",Q,[f("span",{class:"v-dot",style:N({"background-color":t.getColorOptions(n.color).tag,"margin-inline":"2px"})},null,4),a(I,{icon:t.icons.mdiRomanNums[t.getPriorityOptions(n.priority).icon],style:N([{color:t.getPriorityOptions(n.priority).color},{"font-size":"1.5rem"}])},null,8,["icon","style"]),f("h2",null,"["+s(n.id)+"] "+s(n.title),1)]),f("p",null," range: "+s((v=n==null?void 0:n.startTs)==null?void 0:v.format("YYYY-MM-DD"))+" - "+s((R=n==null?void 0:n.endTs)==null?void 0:R.format("YYYY-MM-DD"))+" AllDay: "+s(n.allDay),1),f("p",null," Remind: "+s(n.reminder)+" | Repeat: "+s(n.repeat)+" | RepeatEnd: "+s(t.S_TS(n.repeatEndTs)),1),(d(!0),c(S,null,O(n.subTasks,(V,j)=>(d(),c("p",{key:j},s(V.name),1))),128))]}),_:2},1024)]),_:2},1024))),128))]),_:1}),a(T,null,{default:o(()=>[a(g,null,{default:o(()=>[a(m,null,{default:o(()=>e[5]||(e[5]=[_("Save")])),_:1})]),_:1}),(d(!0),c(S,null,O(t.userData.save,(n,D)=>(d(),y(g,{key:D},{default:o(()=>[a(m,null,{default:o(()=>[f("h6",null,s(D),1),f("p",null,s(n),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),a(J,{"is-open":t.toastData.isOpen,message:t.toastData.text,duration:t.toastData.duration,onDidDismiss:e[1]||(e[1]=()=>{t.toastData.isOpen=!1})},null,8,["is-open","message","duration"])]),_:1})]),_:1})}const et=H(K,[["render",W]]);export{et as default};
