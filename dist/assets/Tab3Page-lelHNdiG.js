import{h as E,I as j,f as I,d,g as w,b as z,a as F,i as G,U}from"./NetUtil-DOsixJgN.js";import{d as A,a7 as L,a8 as q,r as R,p as H,c as y,a,g as l,o as f,b as e,i as m,t as s,e as D,f as O,F as h,j as _,v as K}from"./index-DSzBJlKm.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const W=A({components:{IonRefresher:L,IonRefresherContent:q,S_TS:E,Icon:j},setup(){const t=R(new U),n=R({isOpen:!1,duration:3e3,text:""});return H(()=>{I(1).then(i=>{t.value=JSON.parse(i.data);for(let r=0;r<t.value.schedules.length;r++){const u=t.value.schedules[r];u.startTs=d(u.startTs),u.endTs=d(u.endTs),u.repeatEndTs&&(u.repeatEndTs=d(u.repeatEndTs))}}).catch(i=>{n.value.isOpen=!0,n.value.text=JSON.stringify(i)})}),{userData:t,toastData:n,dayjs:d,S_TS:E,getColorOptions:w,getPriorityOptions:z,getGroupOptions:F,icons:G}},data(){return{}},methods:{handleRefresh(t){I(1).then(n=>{this.userData=JSON.parse(n.data);for(let i=0;i<this.userData.schedules.length;i++){const r=this.userData.schedules[i];r.startTs=d(r.startTs),r.endTs=d(r.endTs),r.repeatEndTs&&(r.repeatEndTs=d(r.repeatEndTs))}t.target.complete()}).catch(n=>{console.log("handleRefresh",n),this.toastData.isOpen=!0,this.toastData.text=JSON.stringify(n),t.target.complete()})}}}),X={style:{display:"flex","align-items":"center"}};function Z(t,n,i,r,u,x){const N=l("ion-title"),Y=l("ion-toolbar"),k=l("ion-header"),C=l("ion-refresher-content"),M=l("ion-refresher"),p=l("ion-label"),g=l("ion-item"),T=l("ion-list"),S=l("Icon"),B=l("ion-toast"),J=l("ion-content"),P=l("ion-page");return f(),y(P,null,{default:a(()=>[e(k,null,{default:a(()=>[e(Y,null,{default:a(()=>[e(N,null,{default:a(()=>n[2]||(n[2]=[m("Tab 3")])),_:1})]),_:1})]),_:1}),e(J,null,{default:a(()=>[e(M,{slot:"fixed",onIonRefresh:n[0]||(n[0]=o=>t.handleRefresh(o))},{default:a(()=>[e(C)]),_:1}),e(T,null,{default:a(()=>[e(g,null,{default:a(()=>[e(p,null,{default:a(()=>[m("Id: "+s(t.userData.id),1)]),_:1}),n[3]||(n[3]=m()),e(p,null,{default:a(()=>[m("Name: "+s(t.userData.name),1)]),_:1})]),_:1})]),_:1}),e(T,null,{default:a(()=>[e(g,null,{default:a(()=>[e(p,null,{default:a(()=>n[4]||(n[4]=[m("Schedule")])),_:1}),e(S,{icon:"mdi:roman-numeral-7",size:"large",height:"36",color:"#1a65eb"})]),_:1}),(f(!0),D(h,null,O(t.userData.schedules,(o,c)=>(f(),y(g,{key:c},{default:a(()=>[e(p,null,{default:a(()=>{var b,v;return[_("div",X,[_("span",{class:"v-dot",style:K({"background-color":t.getColorOptions(o.color).tag,"margin-inline":"2px"})},null,4),e(S,{icon:t.getPriorityOptions(o.priority).icon,height:"36",color:t.getPriorityOptions(o.priority).color},null,8,["icon","color"]),e(p,null,{default:a(()=>[m(s("{"+t.getGroupOptions(o.groupId).label+"}"),1)]),_:2},1024),_("h2",null,"["+s(o.id)+"] "+s(o.title),1)]),_("p",null," range: "+s((b=o==null?void 0:o.startTs)==null?void 0:b.format("YYYY-MM-DD"))+" - "+s((v=o==null?void 0:o.endTs)==null?void 0:v.format("YYYY-MM-DD"))+" AllDay: "+s(o.allDay),1),_("p",null," Remind: "+s(o.reminder)+" | Repeat: "+s(o.repeat)+" | RepeatEnd: "+s(t.S_TS(o.repeatEndTs)),1),(f(!0),D(h,null,O(o.subTasks,($,V)=>(f(),D("p",{key:V},s($.name),1))),128))]}),_:2},1024)]),_:2},1024))),128))]),_:1}),e(T,null,{default:a(()=>[e(g,null,{default:a(()=>[e(p,null,{default:a(()=>n[5]||(n[5]=[m("Save")])),_:1})]),_:1}),(f(!0),D(h,null,O(t.userData.save,(o,c)=>(f(),y(g,{key:c},{default:a(()=>[e(p,null,{default:a(()=>[_("h6",null,s(c),1),_("p",null,s(o),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(B,{"is-open":t.toastData.isOpen,message:t.toastData.text,duration:t.toastData.duration,onDidDismiss:n[1]||(n[1]=()=>{t.toastData.isOpen=!1})},null,8,["is-open","message","duration"])]),_:1})]),_:1})}const ot=Q(W,[["render",Z]]);export{ot as default};
