import{i as oo,g as Vt,D as xr,c as R,r as M,A as Ae,G as oe,a3 as ao,B as q,a2 as me,Y as en,ad as An,u as Gn,f as Fc,p as ro,ak as Hc,a1 as s,m as N,ax as Sr,v as se,a0 as Qo,Z as $e,$ as De,T as ea,N as pn,ae as Bs,bl as zc,bg as Wc,b1 as Uc,au as jc,a4 as Yc}from"./vue-vendor.bKAhnKYW.js";var Me="top",Ge="bottom",Ze="right",Ve="left",Cr="auto",io=[Me,Ge,Ze,Ve],wn="start",Zn="end",qc="clippingParents",As="viewport",In="popper",Kc="reference",mi=io.reduce(function(e,t){return e.concat([t+"-"+wn,t+"-"+Zn])},[]),$s=[].concat(io,[Cr]).reduce(function(e,t){return e.concat([t,t+"-"+wn,t+"-"+Zn])},[]),Xc="beforeRead",Gc="read",Zc="afterRead",Jc="beforeMain",Qc="main",eu="afterMain",tu="beforeWrite",nu="write",ou="afterWrite",au=[Xc,Gc,Zc,Jc,Qc,eu,tu,nu,ou];function gt(e){return e?(e.nodeName||"").toLowerCase():null}function rt(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function xn(e){var t=rt(e).Element;return e instanceof t||e instanceof Element}function Xe(e){var t=rt(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function kr(e){if(typeof ShadowRoot>"u")return!1;var t=rt(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function ru(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var o=t.styles[n]||{},a=t.attributes[n]||{},r=t.elements[n];!Xe(r)||!gt(r)||(Object.assign(r.style,o),Object.keys(a).forEach(function(i){var l=a[i];l===!1?r.removeAttribute(i):r.setAttribute(i,l===!0?"":l)}))})}function iu(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(o){var a=t.elements[o],r=t.attributes[o]||{},i=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:n[o]),l=i.reduce(function(c,d){return c[d]="",c},{});!Xe(a)||!gt(a)||(Object.assign(a.style,l),Object.keys(r).forEach(function(c){a.removeAttribute(c)}))})}}var Ps={name:"applyStyles",enabled:!0,phase:"write",fn:ru,effect:iu,requires:["computeStyles"]};function ht(e){return e.split("-")[0]}var Jt=Math.max,zo=Math.min,Sn=Math.round;function Cn(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),o=1,a=1;if(Xe(e)&&t){var r=e.offsetHeight,i=e.offsetWidth;i>0&&(o=Sn(n.width)/i||1),r>0&&(a=Sn(n.height)/r||1)}return{width:n.width/o,height:n.height/a,top:n.top/a,right:n.right/o,bottom:n.bottom/a,left:n.left/o,x:n.left/o,y:n.top/a}}function Tr(e){var t=Cn(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function _s(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&kr(n)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Et(e){return rt(e).getComputedStyle(e)}function su(e){return["table","td","th"].indexOf(gt(e))>=0}function Nt(e){return((xn(e)?e.ownerDocument:e.document)||window.document).documentElement}function ta(e){return gt(e)==="html"?e:e.assignedSlot||e.parentNode||(kr(e)?e.host:null)||Nt(e)}function gi(e){return!Xe(e)||Et(e).position==="fixed"?null:e.offsetParent}function lu(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Xe(e)){var o=Et(e);if(o.position==="fixed")return null}var a=ta(e);for(kr(a)&&(a=a.host);Xe(a)&&["html","body"].indexOf(gt(a))<0;){var r=Et(a);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return a;a=a.parentNode}return null}function so(e){for(var t=rt(e),n=gi(e);n&&su(n)&&Et(n).position==="static";)n=gi(n);return n&&(gt(n)==="html"||gt(n)==="body"&&Et(n).position==="static")?t:n||lu(e)||t}function Er(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function jn(e,t,n){return Jt(e,zo(t,n))}function cu(e,t,n){var o=jn(e,t,n);return o>n?n:o}function Ds(){return{top:0,right:0,bottom:0,left:0}}function Is(e){return Object.assign({},Ds(),e)}function Rs(e,t){return t.reduce(function(n,o){return n[o]=e,n},{})}var uu=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Is(typeof e!="number"?e:Rs(e,io))};function du(e){var t,n=e.state,o=e.name,a=e.options,r=n.elements.arrow,i=n.modifiersData.popperOffsets,l=ht(n.placement),c=Er(l),d=[Ve,Ze].indexOf(l)>=0,u=d?"height":"width";if(!(!r||!i)){var f=uu(a.padding,n),v=Tr(r),p=c==="y"?Me:Ve,x=c==="y"?Ge:Ze,g=n.rects.reference[u]+n.rects.reference[c]-i[c]-n.rects.popper[u],h=i[c]-n.rects.reference[c],y=so(r),m=y?c==="y"?y.clientHeight||0:y.clientWidth||0:0,w=g/2-h/2,b=f[p],S=m-v[u]-f[x],C=m/2-v[u]/2+w,O=jn(b,C,S),T=c;n.modifiersData[o]=(t={},t[T]=O,t.centerOffset=O-C,t)}}function fu(e){var t=e.state,n=e.options,o=n.element,a=o===void 0?"[data-popper-arrow]":o;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||!_s(t.elements.popper,a)||(t.elements.arrow=a))}var hu={name:"arrow",enabled:!0,phase:"main",fn:du,effect:fu,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function kn(e){return e.split("-")[1]}var vu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mu(e){var t=e.x,n=e.y,o=window,a=o.devicePixelRatio||1;return{x:Sn(t*a)/a||0,y:Sn(n*a)/a||0}}function bi(e){var t,n=e.popper,o=e.popperRect,a=e.placement,r=e.variation,i=e.offsets,l=e.position,c=e.gpuAcceleration,d=e.adaptive,u=e.roundOffsets,f=e.isFixed,v=i.x,p=v===void 0?0:v,x=i.y,g=x===void 0?0:x,h=typeof u=="function"?u({x:p,y:g}):{x:p,y:g};p=h.x,g=h.y;var y=i.hasOwnProperty("x"),m=i.hasOwnProperty("y"),w=Ve,b=Me,S=window;if(d){var C=so(n),O="clientHeight",T="clientWidth";if(C===rt(n)&&(C=Nt(n),Et(C).position!=="static"&&l==="absolute"&&(O="scrollHeight",T="scrollWidth")),C=C,a===Me||(a===Ve||a===Ze)&&r===Zn){b=Ge;var E=f&&C===S&&S.visualViewport?S.visualViewport.height:C[O];g-=E-o.height,g*=c?1:-1}if(a===Ve||(a===Me||a===Ge)&&r===Zn){w=Ze;var B=f&&C===S&&S.visualViewport?S.visualViewport.width:C[T];p-=B-o.width,p*=c?1:-1}}var k=Object.assign({position:l},d&&vu),_=u===!0?mu({x:p,y:g}):{x:p,y:g};if(p=_.x,g=_.y,c){var $;return Object.assign({},k,($={},$[b]=m?"0":"",$[w]=y?"0":"",$.transform=(S.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",$))}return Object.assign({},k,(t={},t[b]=m?g+"px":"",t[w]=y?p+"px":"",t.transform="",t))}function gu(e){var t=e.state,n=e.options,o=n.gpuAcceleration,a=o===void 0?!0:o,r=n.adaptive,i=r===void 0?!0:r,l=n.roundOffsets,c=l===void 0?!0:l,d={placement:ht(t.placement),variation:kn(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,bi(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,bi(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Ms={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:gu,data:{}},fo={passive:!0};function bu(e){var t=e.state,n=e.instance,o=e.options,a=o.scroll,r=a===void 0?!0:a,i=o.resize,l=i===void 0?!0:i,c=rt(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&d.forEach(function(u){u.addEventListener("scroll",n.update,fo)}),l&&c.addEventListener("resize",n.update,fo),function(){r&&d.forEach(function(u){u.removeEventListener("scroll",n.update,fo)}),l&&c.removeEventListener("resize",n.update,fo)}}var Vs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:bu,data:{}},yu={left:"right",right:"left",bottom:"top",top:"bottom"};function Do(e){return e.replace(/left|right|bottom|top/g,function(t){return yu[t]})}var pu={start:"end",end:"start"};function yi(e){return e.replace(/start|end/g,function(t){return pu[t]})}function Or(e){var t=rt(e),n=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:n,scrollTop:o}}function Br(e){return Cn(Nt(e)).left+Or(e).scrollLeft}function wu(e){var t=rt(e),n=Nt(e),o=t.visualViewport,a=n.clientWidth,r=n.clientHeight,i=0,l=0;return o&&(a=o.width,r=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(i=o.offsetLeft,l=o.offsetTop)),{width:a,height:r,x:i+Br(e),y:l}}function xu(e){var t,n=Nt(e),o=Or(e),a=(t=e.ownerDocument)==null?void 0:t.body,r=Jt(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),i=Jt(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-o.scrollLeft+Br(e),c=-o.scrollTop;return Et(a||n).direction==="rtl"&&(l+=Jt(n.clientWidth,a?a.clientWidth:0)-r),{width:r,height:i,x:l,y:c}}function Ar(e){var t=Et(e),n=t.overflow,o=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+o)}function Ns(e){return["html","body","#document"].indexOf(gt(e))>=0?e.ownerDocument.body:Xe(e)&&Ar(e)?e:Ns(ta(e))}function Yn(e,t){var n;t===void 0&&(t=[]);var o=Ns(e),a=o===((n=e.ownerDocument)==null?void 0:n.body),r=rt(o),i=a?[r].concat(r.visualViewport||[],Ar(o)?o:[]):o,l=t.concat(i);return a?l:l.concat(Yn(ta(i)))}function ja(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Su(e){var t=Cn(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function pi(e,t){return t===As?ja(wu(e)):xn(t)?Su(t):ja(xu(Nt(e)))}function Cu(e){var t=Yn(ta(e)),n=["absolute","fixed"].indexOf(Et(e).position)>=0,o=n&&Xe(e)?so(e):e;return xn(o)?t.filter(function(a){return xn(a)&&_s(a,o)&&gt(a)!=="body"}):[]}function ku(e,t,n){var o=t==="clippingParents"?Cu(e):[].concat(t),a=[].concat(o,[n]),r=a[0],i=a.reduce(function(l,c){var d=pi(e,c);return l.top=Jt(d.top,l.top),l.right=zo(d.right,l.right),l.bottom=zo(d.bottom,l.bottom),l.left=Jt(d.left,l.left),l},pi(e,r));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function Ls(e){var t=e.reference,n=e.element,o=e.placement,a=o?ht(o):null,r=o?kn(o):null,i=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,c;switch(a){case Me:c={x:i,y:t.y-n.height};break;case Ge:c={x:i,y:t.y+t.height};break;case Ze:c={x:t.x+t.width,y:l};break;case Ve:c={x:t.x-n.width,y:l};break;default:c={x:t.x,y:t.y}}var d=a?Er(a):null;if(d!=null){var u=d==="y"?"height":"width";switch(r){case wn:c[d]=c[d]-(t[u]/2-n[u]/2);break;case Zn:c[d]=c[d]+(t[u]/2-n[u]/2);break}}return c}function Jn(e,t){t===void 0&&(t={});var n=t,o=n.placement,a=o===void 0?e.placement:o,r=n.boundary,i=r===void 0?qc:r,l=n.rootBoundary,c=l===void 0?As:l,d=n.elementContext,u=d===void 0?In:d,f=n.altBoundary,v=f===void 0?!1:f,p=n.padding,x=p===void 0?0:p,g=Is(typeof x!="number"?x:Rs(x,io)),h=u===In?Kc:In,y=e.rects.popper,m=e.elements[v?h:u],w=ku(xn(m)?m:m.contextElement||Nt(e.elements.popper),i,c),b=Cn(e.elements.reference),S=Ls({reference:b,element:y,placement:a}),C=ja(Object.assign({},y,S)),O=u===In?C:b,T={top:w.top-O.top+g.top,bottom:O.bottom-w.bottom+g.bottom,left:w.left-O.left+g.left,right:O.right-w.right+g.right},E=e.modifiersData.offset;if(u===In&&E){var B=E[a];Object.keys(T).forEach(function(k){var _=[Ze,Ge].indexOf(k)>=0?1:-1,$=[Me,Ge].indexOf(k)>=0?"y":"x";T[k]+=B[$]*_})}return T}function Tu(e,t){t===void 0&&(t={});var n=t,o=n.placement,a=n.boundary,r=n.rootBoundary,i=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,d=c===void 0?$s:c,u=kn(o),f=u?l?mi:mi.filter(function(x){return kn(x)===u}):io,v=f.filter(function(x){return d.indexOf(x)>=0});v.length===0&&(v=f);var p=v.reduce(function(x,g){return x[g]=Jn(e,{placement:g,boundary:a,rootBoundary:r,padding:i})[ht(g)],x},{});return Object.keys(p).sort(function(x,g){return p[x]-p[g]})}function Eu(e){if(ht(e)===Cr)return[];var t=Do(e);return[yi(e),t,yi(t)]}function Ou(e){var t=e.state,n=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var a=n.mainAxis,r=a===void 0?!0:a,i=n.altAxis,l=i===void 0?!0:i,c=n.fallbackPlacements,d=n.padding,u=n.boundary,f=n.rootBoundary,v=n.altBoundary,p=n.flipVariations,x=p===void 0?!0:p,g=n.allowedAutoPlacements,h=t.options.placement,y=ht(h),m=y===h,w=c||(m||!x?[Do(h)]:Eu(h)),b=[h].concat(w).reduce(function(F,G){return F.concat(ht(G)===Cr?Tu(t,{placement:G,boundary:u,rootBoundary:f,padding:d,flipVariations:x,allowedAutoPlacements:g}):G)},[]),S=t.rects.reference,C=t.rects.popper,O=new Map,T=!0,E=b[0],B=0;B<b.length;B++){var k=b[B],_=ht(k),$=kn(k)===wn,H=[Me,Ge].indexOf(_)>=0,D=H?"width":"height",I=Jn(t,{placement:k,boundary:u,rootBoundary:f,altBoundary:v,padding:d}),X=H?$?Ze:Ve:$?Ge:Me;S[D]>C[D]&&(X=Do(X));var J=Do(X),ne=[];if(r&&ne.push(I[_]<=0),l&&ne.push(I[X]<=0,I[J]<=0),ne.every(function(F){return F})){E=k,T=!1;break}O.set(k,ne)}if(T)for(var A=x?3:1,W=function(F){var G=b.find(function(P){var ee=O.get(P);if(ee)return ee.slice(0,F).every(function(Q){return Q})});if(G)return E=G,"break"},j=A;j>0;j--){var te=W(j);if(te==="break")break}t.placement!==E&&(t.modifiersData[o]._skip=!0,t.placement=E,t.reset=!0)}}var Bu={name:"flip",enabled:!0,phase:"main",fn:Ou,requiresIfExists:["offset"],data:{_skip:!1}};function wi(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function xi(e){return[Me,Ze,Ge,Ve].some(function(t){return e[t]>=0})}function Au(e){var t=e.state,n=e.name,o=t.rects.reference,a=t.rects.popper,r=t.modifiersData.preventOverflow,i=Jn(t,{elementContext:"reference"}),l=Jn(t,{altBoundary:!0}),c=wi(i,o),d=wi(l,a,r),u=xi(c),f=xi(d);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}var $u={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Au};function Pu(e,t,n){var o=ht(e),a=[Ve,Me].indexOf(o)>=0?-1:1,r=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,i=r[0],l=r[1];return i=i||0,l=(l||0)*a,[Ve,Ze].indexOf(o)>=0?{x:l,y:i}:{x:i,y:l}}function _u(e){var t=e.state,n=e.options,o=e.name,a=n.offset,r=a===void 0?[0,0]:a,i=$s.reduce(function(u,f){return u[f]=Pu(f,t.rects,r),u},{}),l=i[t.placement],c=l.x,d=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=d),t.modifiersData[o]=i}var Du={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_u};function Iu(e){var t=e.state,n=e.name;t.modifiersData[n]=Ls({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var Fs={name:"popperOffsets",enabled:!0,phase:"read",fn:Iu,data:{}};function Ru(e){return e==="x"?"y":"x"}function Mu(e){var t=e.state,n=e.options,o=e.name,a=n.mainAxis,r=a===void 0?!0:a,i=n.altAxis,l=i===void 0?!1:i,c=n.boundary,d=n.rootBoundary,u=n.altBoundary,f=n.padding,v=n.tether,p=v===void 0?!0:v,x=n.tetherOffset,g=x===void 0?0:x,h=Jn(t,{boundary:c,rootBoundary:d,padding:f,altBoundary:u}),y=ht(t.placement),m=kn(t.placement),w=!m,b=Er(y),S=Ru(b),C=t.modifiersData.popperOffsets,O=t.rects.reference,T=t.rects.popper,E=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,B=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,_={x:0,y:0};if(C){if(r){var $,H=b==="y"?Me:Ve,D=b==="y"?Ge:Ze,I=b==="y"?"height":"width",X=C[b],J=X+h[H],ne=X-h[D],A=p?-T[I]/2:0,W=m===wn?O[I]:T[I],j=m===wn?-T[I]:-O[I],te=t.elements.arrow,F=p&&te?Tr(te):{width:0,height:0},G=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Ds(),P=G[H],ee=G[D],Q=jn(0,O[I],F[I]),re=w?O[I]/2-A-Q-P-B.mainAxis:W-Q-P-B.mainAxis,he=w?-O[I]/2+A+Q+ee+B.mainAxis:j+Q+ee+B.mainAxis,ge=t.elements.arrow&&so(t.elements.arrow),ze=ge?b==="y"?ge.clientTop||0:ge.clientLeft||0:0,Yt=($=k?.[b])!=null?$:0,co=X+re-Yt-ze,Vc=X+he-Yt,si=jn(p?zo(J,co):J,X,p?Jt(ne,Vc):ne);C[b]=si,_[b]=si-X}if(l){var li,Nc=b==="x"?Me:Ve,Lc=b==="x"?Ge:Ze,qt=C[S],uo=S==="y"?"height":"width",ci=qt+h[Nc],ui=qt-h[Lc],pa=[Me,Ve].indexOf(y)!==-1,di=(li=k?.[S])!=null?li:0,fi=pa?ci:qt-O[uo]-T[uo]-di+B.altAxis,hi=pa?qt+O[uo]+T[uo]-di-B.altAxis:ui,vi=p&&pa?cu(fi,qt,hi):jn(p?fi:ci,qt,p?hi:ui);C[S]=vi,_[S]=vi-qt}t.modifiersData[o]=_}}var Vu={name:"preventOverflow",enabled:!0,phase:"main",fn:Mu,requiresIfExists:["offset"]};function Nu(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Lu(e){return e===rt(e)||!Xe(e)?Or(e):Nu(e)}function Fu(e){var t=e.getBoundingClientRect(),n=Sn(t.width)/e.offsetWidth||1,o=Sn(t.height)/e.offsetHeight||1;return n!==1||o!==1}function Hu(e,t,n){n===void 0&&(n=!1);var o=Xe(t),a=Xe(t)&&Fu(t),r=Nt(t),i=Cn(e,a),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!n)&&((gt(t)!=="body"||Ar(r))&&(l=Lu(t)),Xe(t)?(c=Cn(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):r&&(c.x=Br(r))),{x:i.left+l.scrollLeft-c.x,y:i.top+l.scrollTop-c.y,width:i.width,height:i.height}}function zu(e){var t=new Map,n=new Set,o=[];e.forEach(function(r){t.set(r.name,r)});function a(r){n.add(r.name);var i=[].concat(r.requires||[],r.requiresIfExists||[]);i.forEach(function(l){if(!n.has(l)){var c=t.get(l);c&&a(c)}}),o.push(r)}return e.forEach(function(r){n.has(r.name)||a(r)}),o}function Wu(e){var t=zu(e);return au.reduce(function(n,o){return n.concat(t.filter(function(a){return a.phase===o}))},[])}function Uu(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function ju(e){var t=e.reduce(function(n,o){var a=n[o.name];return n[o.name]=a?Object.assign({},a,o,{options:Object.assign({},a.options,o.options),data:Object.assign({},a.data,o.data)}):o,n},{});return Object.keys(t).map(function(n){return t[n]})}var Si={placement:"bottom",modifiers:[],strategy:"absolute"};function Ci(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function $r(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,o=n===void 0?[]:n,a=t.defaultOptions,r=a===void 0?Si:a;return function(i,l,c){c===void 0&&(c=r);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Si,r),modifiersData:{},elements:{reference:i,popper:l},attributes:{},styles:{}},u=[],f=!1,v={state:d,setOptions:function(g){var h=typeof g=="function"?g(d.options):g;x(),d.options=Object.assign({},r,d.options,h),d.scrollParents={reference:xn(i)?Yn(i):i.contextElement?Yn(i.contextElement):[],popper:Yn(l)};var y=Wu(ju([].concat(o,d.options.modifiers)));return d.orderedModifiers=y.filter(function(m){return m.enabled}),p(),v.update()},forceUpdate:function(){if(!f){var g=d.elements,h=g.reference,y=g.popper;if(Ci(h,y)){d.rects={reference:Hu(h,so(y),d.options.strategy==="fixed"),popper:Tr(y)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(T){return d.modifiersData[T.name]=Object.assign({},T.data)});for(var m=0;m<d.orderedModifiers.length;m++){if(d.reset===!0){d.reset=!1,m=-1;continue}var w=d.orderedModifiers[m],b=w.fn,S=w.options,C=S===void 0?{}:S,O=w.name;typeof b=="function"&&(d=b({state:d,options:C,name:O,instance:v})||d)}}}},update:Uu(function(){return new Promise(function(g){v.forceUpdate(),g(d)})}),destroy:function(){x(),f=!0}};if(!Ci(i,l))return v;v.setOptions(c).then(function(g){!f&&c.onFirstUpdate&&c.onFirstUpdate(g)});function p(){d.orderedModifiers.forEach(function(g){var h=g.name,y=g.options,m=y===void 0?{}:y,w=g.effect;if(typeof w=="function"){var b=w({state:d,name:h,instance:v,options:m}),S=function(){};u.push(b||S)}})}function x(){u.forEach(function(g){return g()}),u=[]}return v}}$r();var Yu=[Vs,Fs,Ms,Ps];$r({defaultModifiers:Yu});var qu=[Vs,Fs,Ms,Ps,Du,Bu,Vu,hu,$u],Kp=$r({defaultModifiers:qu});function Be(e,t){Ku(e)&&(e="100%");var n=Xu(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function ho(e){return Math.min(1,Math.max(0,e))}function Ku(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function Xu(e){return typeof e=="string"&&e.indexOf("%")!==-1}function Hs(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function vo(e){return e<=1?"".concat(Number(e)*100,"%"):e}function Zt(e){return e.length===1?"0"+e:String(e)}function Gu(e,t,n){return{r:Be(e,255)*255,g:Be(t,255)*255,b:Be(n,255)*255}}function ki(e,t,n){e=Be(e,255),t=Be(t,255),n=Be(n,255);var o=Math.max(e,t,n),a=Math.min(e,t,n),r=0,i=0,l=(o+a)/2;if(o===a)i=0,r=0;else{var c=o-a;switch(i=l>.5?c/(2-o-a):c/(o+a),o){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4;break}r/=6}return{h:r,s:i,l}}function wa(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Zu(e,t,n){var o,a,r;if(e=Be(e,360),t=Be(t,100),n=Be(n,100),t===0)a=n,r=n,o=n;else{var i=n<.5?n*(1+t):n+t-n*t,l=2*n-i;o=wa(l,i,e+1/3),a=wa(l,i,e),r=wa(l,i,e-1/3)}return{r:o*255,g:a*255,b:r*255}}function Ti(e,t,n){e=Be(e,255),t=Be(t,255),n=Be(n,255);var o=Math.max(e,t,n),a=Math.min(e,t,n),r=0,i=o,l=o-a,c=o===0?0:l/o;if(o===a)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4;break}r/=6}return{h:r,s:c,v:i}}function Ju(e,t,n){e=Be(e,360)*6,t=Be(t,100),n=Be(n,100);var o=Math.floor(e),a=e-o,r=n*(1-t),i=n*(1-a*t),l=n*(1-(1-a)*t),c=o%6,d=[n,i,r,r,l,n][c],u=[l,n,n,i,r,r][c],f=[r,r,l,n,n,i][c];return{r:d*255,g:u*255,b:f*255}}function Ei(e,t,n,o){var a=[Zt(Math.round(e).toString(16)),Zt(Math.round(t).toString(16)),Zt(Math.round(n).toString(16))];return o&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function Qu(e,t,n,o,a){var r=[Zt(Math.round(e).toString(16)),Zt(Math.round(t).toString(16)),Zt(Math.round(n).toString(16)),Zt(ed(o))];return a&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))&&r[3].startsWith(r[3].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}function ed(e){return Math.round(parseFloat(e)*255).toString(16)}function Oi(e){return We(e)/255}function We(e){return parseInt(e,16)}function td(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var Ya={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function nd(e){var t={r:0,g:0,b:0},n=1,o=null,a=null,r=null,i=!1,l=!1;return typeof e=="string"&&(e=rd(e)),typeof e=="object"&&(pt(e.r)&&pt(e.g)&&pt(e.b)?(t=Gu(e.r,e.g,e.b),i=!0,l=String(e.r).substr(-1)==="%"?"prgb":"rgb"):pt(e.h)&&pt(e.s)&&pt(e.v)?(o=vo(e.s),a=vo(e.v),t=Ju(e.h,o,a),i=!0,l="hsv"):pt(e.h)&&pt(e.s)&&pt(e.l)&&(o=vo(e.s),r=vo(e.l),t=Zu(e.h,o,r),i=!0,l="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=Hs(n),{ok:i,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var od="[-\\+]?\\d+%?",ad="[-\\+]?\\d*\\.\\d+%?",Dt="(?:".concat(ad,")|(?:").concat(od,")"),xa="[\\s|\\(]+(".concat(Dt,")[,|\\s]+(").concat(Dt,")[,|\\s]+(").concat(Dt,")\\s*\\)?"),Sa="[\\s|\\(]+(".concat(Dt,")[,|\\s]+(").concat(Dt,")[,|\\s]+(").concat(Dt,")[,|\\s]+(").concat(Dt,")\\s*\\)?"),nt={CSS_UNIT:new RegExp(Dt),rgb:new RegExp("rgb"+xa),rgba:new RegExp("rgba"+Sa),hsl:new RegExp("hsl"+xa),hsla:new RegExp("hsla"+Sa),hsv:new RegExp("hsv"+xa),hsva:new RegExp("hsva"+Sa),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function rd(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(Ya[e])e=Ya[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=nt.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=nt.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=nt.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=nt.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=nt.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=nt.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=nt.hex8.exec(e),n?{r:We(n[1]),g:We(n[2]),b:We(n[3]),a:Oi(n[4]),format:t?"name":"hex8"}:(n=nt.hex6.exec(e),n?{r:We(n[1]),g:We(n[2]),b:We(n[3]),format:t?"name":"hex"}:(n=nt.hex4.exec(e),n?{r:We(n[1]+n[1]),g:We(n[2]+n[2]),b:We(n[3]+n[3]),a:Oi(n[4]+n[4]),format:t?"name":"hex8"}:(n=nt.hex3.exec(e),n?{r:We(n[1]+n[1]),g:We(n[2]+n[2]),b:We(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function pt(e){return!!nt.CSS_UNIT.exec(String(e))}var Xp=(function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var o;if(t instanceof e)return t;typeof t=="number"&&(t=td(t)),this.originalInput=t;var a=nd(t);this.originalInput=t,this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this.roundA=Math.round(100*this.a)/100,this.format=(o=n.format)!==null&&o!==void 0?o:a.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=a.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,o,a,r=t.r/255,i=t.g/255,l=t.b/255;return r<=.03928?n=r/12.92:n=Math.pow((r+.055)/1.055,2.4),i<=.03928?o=i/12.92:o=Math.pow((i+.055)/1.055,2.4),l<=.03928?a=l/12.92:a=Math.pow((l+.055)/1.055,2.4),.2126*n+.7152*o+.0722*a},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=Hs(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=Ti(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=Ti(this.r,this.g,this.b),n=Math.round(t.h*360),o=Math.round(t.s*100),a=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(o,"%, ").concat(a,"%)"):"hsva(".concat(n,", ").concat(o,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=ki(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=ki(this.r,this.g,this.b),n=Math.round(t.h*360),o=Math.round(t.s*100),a=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(o,"%, ").concat(a,"%)"):"hsla(".concat(n,", ").concat(o,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),Ei(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),Qu(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),o=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(o,")"):"rgba(".concat(t,", ").concat(n,", ").concat(o,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(Be(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(Be(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+Ei(this.r,this.g,this.b,!1),n=0,o=Object.entries(Ya);n<o.length;n++){var a=o[n],r=a[0],i=a[1];if(t===i)return r}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var o=!1,a=this.a<1&&this.a>=0,r=!n&&a&&(t.startsWith("hex")||t==="name");return r?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(o=this.toRgbString()),t==="prgb"&&(o=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(o=this.toHexString()),t==="hex3"&&(o=this.toHexString(!0)),t==="hex4"&&(o=this.toHex8String(!0)),t==="hex8"&&(o=this.toHex8String()),t==="name"&&(o=this.toName()),t==="hsl"&&(o=this.toHslString()),t==="hsv"&&(o=this.toHsvString()),o||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=ho(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=ho(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=ho(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=ho(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),o=(n.h+t)%360;return n.h=o<0?360+o:o,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var o=this.toRgb(),a=new e(t).toRgb(),r=n/100,i={r:(a.r-o.r)*r+o.r,g:(a.g-o.g)*r+o.g,b:(a.b-o.b)*r+o.b,a:(a.a-o.a)*r+o.a};return new e(i)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var o=this.toHsl(),a=360/n,r=[this];for(o.h=(o.h-(a*t>>1)+720)%360;--t;)o.h=(o.h+a)%360,r.push(new e(o));return r},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),o=n.h,a=n.s,r=n.v,i=[],l=1/t;t--;)i.push(new e({h:o,s:a,v:r})),r=(r+l)%1;return i},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),o=new e(t).toRgb(),a=n.a+o.a*(1-n.a);return new e({r:(n.r*n.a+o.r*o.a*(1-n.a))/a,g:(n.g*n.a+o.g*o.a*(1-n.a))/a,b:(n.b*n.a+o.b*o.a*(1-n.a))/a,a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),o=n.h,a=[this],r=360/t,i=1;i<t;i++)a.push(new e({h:(o+i*r)%360,s:n.s,l:n.l}));return a},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e})(),Bi=!1,Gt,qa,Ka,Io,Ro,zs,Mo,Xa,Ga,Za,Ws,Ja,Qa,Us,js;function Re(){if(!Bi){Bi=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(Ja=/\b(iPhone|iP[ao]d)/.exec(e),Qa=/\b(iP[ao]d)/.exec(e),Za=/Android/i.exec(e),Us=/FBAN\/\w+;/i.exec(e),js=/Mobile/i.exec(e),Ws=!!/Win64/.exec(e),t){Gt=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,Gt&&document&&document.documentMode&&(Gt=document.documentMode);var o=/(?:Trident\/(\d+.\d+))/.exec(e);zs=o?parseFloat(o[1])+4:Gt,qa=t[2]?parseFloat(t[2]):NaN,Ka=t[3]?parseFloat(t[3]):NaN,Io=t[4]?parseFloat(t[4]):NaN,Io?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),Ro=t&&t[1]?parseFloat(t[1]):NaN):Ro=NaN}else Gt=qa=Ka=Ro=Io=NaN;if(n){if(n[1]){var a=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);Mo=a?parseFloat(a[1].replace("_",".")):!0}else Mo=!1;Xa=!!n[2],Ga=!!n[3]}else Mo=Xa=Ga=!1}}var er={ie:function(){return Re()||Gt},ieCompatibilityMode:function(){return Re()||zs>Gt},ie64:function(){return er.ie()&&Ws},firefox:function(){return Re()||qa},opera:function(){return Re()||Ka},webkit:function(){return Re()||Io},safari:function(){return er.webkit()},chrome:function(){return Re()||Ro},windows:function(){return Re()||Xa},osx:function(){return Re()||Mo},linux:function(){return Re()||Ga},iphone:function(){return Re()||Ja},mobile:function(){return Re()||Ja||Qa||Za||js},nativeApp:function(){return Re()||Us},android:function(){return Re()||Za},ipad:function(){return Re()||Qa}},id=er,sd=!!(typeof window<"u"&&window.document&&window.document.createElement),ld={canUseDOM:sd},Ys=ld,qs;Ys.canUseDOM&&(qs=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function cd(e,t){if(!Ys.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,o=n in document;if(!o){var a=document.createElement("div");a.setAttribute(n,"return;"),o=typeof a[n]=="function"}return!o&&qs&&e==="wheel"&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}var ud=cd,Ai=10,$i=40,Pi=800;function Ks(e){var t=0,n=0,o=0,a=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),o=t*Ai,a=n*Ai,"deltaY"in e&&(a=e.deltaY),"deltaX"in e&&(o=e.deltaX),(o||a)&&e.deltaMode&&(e.deltaMode==1?(o*=$i,a*=$i):(o*=Pi,a*=Pi)),o&&!t&&(t=o<1?-1:1),a&&!n&&(n=a<1?-1:1),{spinX:t,spinY:n,pixelX:o,pixelY:a}}Ks.getEventType=function(){return id.firefox()?"DOMMouseScroll":ud("wheel")?"wheel":"mousewheel"};var Gp=Ks;const ie=e=>e!=null,Tn=e=>typeof e=="function",Ye=e=>e!==null&&typeof e=="object",Pr=e=>Ye(e)&&Tn(e.then)&&Tn(e.catch),gn=e=>Object.prototype.toString.call(e)==="[object Date]"&&!Number.isNaN(e.getTime());function Xs(e){return e=e.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(e)||/^0[0-9-]{10,13}$/.test(e)}const Gs=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),dd=()=>Lt?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function tr(){}const Z=Object.assign,Lt=typeof window<"u";function _i(e,t){const n=t.split(".");let o=e;return n.forEach(a=>{var r;o=Ye(o)&&(r=o[a])!=null?r:""}),o}function de(e,t,n){return t.reduce((o,a)=>((!n||e[a]!==void 0)&&(o[a]=e[a]),o),{})}const Wo=e=>Array.isArray(e)?e:[e],ve=null,z=[Number,String],V={type:Boolean,default:!0},xe=e=>({type:e,required:!0}),Te=()=>({type:Array,default:()=>[]}),vt=e=>({type:Number,default:e}),K=e=>({type:z,default:e}),Y=e=>({type:String,default:e});var Ft=typeof window<"u";function Ne(e){return Ft?requestAnimationFrame(e):-1}function Zs(e){Ft&&cancelAnimationFrame(e)}function It(e){Ne(()=>Ne(e))}var fd=e=>e===window,Di=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),fe=e=>{const t=Gn(e);if(fd(t)){const n=t.innerWidth,o=t.innerHeight;return Di(n,o)}return t?.getBoundingClientRect?t.getBoundingClientRect():Di(0,0)};function hd(e=!1){const t=M(e);return[t,(o=!t.value)=>{t.value=o}]}function Pe(e){const t=oo(e,null);if(t){const n=Vt(),{link:o,unlink:a,internalChildren:r}=t;o(n),xr(()=>a(n));const i=R(()=>r.indexOf(n));return{parent:t,index:i}}return{parent:null,index:M(-1)}}function vd(e){const t=[],n=o=>{Array.isArray(o)&&o.forEach(a=>{var r;Hc(a)&&(t.push(a),(r=a.component)!=null&&r.subTree&&(t.push(a.component.subTree),n(a.component.subTree.children)),a.children&&n(a.children))})};return n(e),t}var Ii=(e,t)=>{const n=e.indexOf(t);return n===-1?e.findIndex(o=>t.key!==void 0&&t.key!==null&&o.type===t.type&&o.key===t.key):n};function md(e,t,n){const o=vd(e.subTree.children);n.sort((r,i)=>Ii(o,r.vnode)-Ii(o,i.vnode));const a=n.map(r=>r.proxy);t.sort((r,i)=>{const l=a.indexOf(r),c=a.indexOf(i);return l-c})}function Ie(e){const t=me([]),n=me([]),o=Vt();return{children:t,linkChildren:r=>{ro(e,Object.assign({link:c=>{c.proxy&&(n.push(c),t.push(c.proxy),md(o,t,n))},unlink:c=>{const d=n.indexOf(c);t.splice(d,1),n.splice(d,1)},children:t,internalChildren:n},r))}}}var nr=1e3,or=60*nr,ar=60*or,Ri=24*ar;function gd(e){const t=Math.floor(e/Ri),n=Math.floor(e%Ri/ar),o=Math.floor(e%ar/or),a=Math.floor(e%or/nr),r=Math.floor(e%nr);return{total:e,days:t,hours:n,minutes:o,seconds:a,milliseconds:r}}function bd(e,t){return Math.floor(e/1e3)===Math.floor(t/1e3)}function yd(e){let t,n,o,a;const r=M(e.time),i=R(()=>gd(r.value)),l=()=>{o=!1,Zs(t)},c=()=>Math.max(n-Date.now(),0),d=g=>{var h,y;r.value=g,(h=e.onChange)==null||h.call(e,i.value),g===0&&(l(),(y=e.onFinish)==null||y.call(e))},u=()=>{t=Ne(()=>{o&&(d(c()),r.value>0&&u())})},f=()=>{t=Ne(()=>{if(o){const g=c();(!bd(g,r.value)||g===0)&&d(g),r.value>0&&f()}})},v=()=>{Ft&&(e.millisecond?u():f())},p=()=>{o||(n=Date.now()+r.value,o=!0,v())},x=(g=e.time)=>{l(),r.value=g};return en(l),ao(()=>{a&&(o=!0,a=!1,v())}),An(()=>{o&&(l(),a=!0)}),{start:p,pause:l,reset:x,current:i}}function $n(e){let t;Ae(()=>{e(),oe(()=>{t=!0})}),ao(()=>{t&&e()})}function Ce(e,t,n={}){if(!Ft)return;const{target:o=window,passive:a=!1,capture:r=!1}=n;let i=!1,l;const c=f=>{if(i)return;const v=Gn(f);v&&!l&&(v.addEventListener(e,t,{capture:r,passive:a}),l=!0)},d=f=>{if(i)return;const v=Gn(f);v&&l&&(v.removeEventListener(e,t,r),l=!1)};xr(()=>d(o)),An(()=>d(o)),$n(()=>c(o));let u;return Fc(o)&&(u=q(o,(f,v)=>{d(v),c(f)})),()=>{u?.(),d(o),i=!0}}function na(e,t,n={}){if(!Ft)return;const{eventName:o="click"}=n;Ce(o,r=>{(Array.isArray(e)?e:[e]).every(c=>{const d=Gn(c);return d&&!d.contains(r.target)})&&t(r)},{target:document})}var mo,Ca;function pd(){if(!mo&&(mo=M(0),Ca=M(0),Ft)){const e=()=>{mo.value=window.innerWidth,Ca.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:mo,height:Ca}}var wd=/scroll|auto|overlay/i,Js=Ft?window:void 0;function xd(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function Qs(e,t=Js){let n=e;for(;n&&n!==t&&xd(n);){const{overflowY:o}=window.getComputedStyle(n);if(wd.test(o))return n;n=n.parentNode}return t}function Pn(e,t=Js){const n=M();return Ae(()=>{e.value&&(n.value=Qs(e.value,t))}),n}var go;function Sd(){if(!go&&(go=M("visible"),Ft)){const e=()=>{go.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return go}var el=Symbol("van-field");function Ht(e){const t=oo(el,null);t&&!t.customValue.value&&(t.customValue.value=e,q(e,()=>{t.resetValidation(),t.validateWithTrigger("onChange")}))}function Mt(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function Uo(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function lo(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function oa(e){Uo(window,e),Uo(document.body,e)}function Mi(e,t){if(e===window)return 0;const n=t?Mt(t):lo();return fe(e).top+n}const Cd=dd();function tl(){Cd&&oa(lo())}const _r=e=>e.stopPropagation();function be(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&_r(e)}function En(e){const t=Gn(e);if(!t)return!1;const n=window.getComputedStyle(t),o=n.display==="none",a=t.offsetParent===null&&n.position!=="fixed";return o||a}const{width:aa,height:On}=pd();function ce(e){if(ie(e))return Gs(e)?`${e}px`:String(e)}function zt(e){if(ie(e)){if(Array.isArray(e))return{width:ce(e[0]),height:ce(e[1])};const t=ce(e);return{width:t,height:t}}}function tn(e){const t={};return e!==void 0&&(t.zIndex=+e),t}let ka;function kd(){if(!ka){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;ka=parseFloat(t)}return ka}function Td(e){return e=e.replace(/rem/g,""),+e*kd()}function Ed(e){return e=e.replace(/vw/g,""),+e*aa.value/100}function Od(e){return e=e.replace(/vh/g,""),+e*On.value/100}function Dr(e){if(typeof e=="number")return e;if(Lt){if(e.includes("rem"))return Td(e);if(e.includes("vw"))return Ed(e);if(e.includes("vh"))return Od(e)}return parseFloat(e)}const Bd=/-(\w)/g,nl=e=>e.replace(Bd,(t,n)=>n.toUpperCase()),Ad=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"");function Ee(e,t=2){let n=e+"";for(;n.length<t;)n="0"+n;return n}const Oe=(e,t,n)=>Math.min(Math.max(e,t),n);function Vi(e,t,n){const o=e.indexOf(t);return o===-1?e:t==="-"&&o!==0?e.slice(0,o):e.slice(0,o+1)+e.slice(o).replace(n,"")}function rr(e,t=!0,n=!0){t?e=Vi(e,".",/\./g):e=e.split(".")[0],n?e=Vi(e,"-",/-/g):e=e.replace(/-/,"");const o=t?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(o,"")}function ol(e,t){return Math.round((e+t)*1e10)/1e10}const{hasOwnProperty:$d}=Object.prototype;function Pd(e,t,n){const o=t[n];ie(o)&&(!$d.call(e,n)||!Ye(o)?e[n]=o:e[n]=al(Object(e[n]),o))}function al(e,t){return Object.keys(t).forEach(n=>{Pd(e,t,n)}),e}var _d={name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码不正确",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const Ni=M("zh-CN"),Li=me({"zh-CN":_d}),rl={messages(){return Li[Ni.value]},use(e,t){Ni.value=e,this.add({[e]:t})},add(e={}){al(Li,e)}};var Dd=rl;function Id(e){const t=nl(e)+".";return(n,...o)=>{const a=Dd.messages(),r=_i(a,t+n)||_i(a,n);return Tn(r)?r(...o):r}}function ir(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,o)=>n+ir(e,o),""):Object.keys(t).reduce((n,o)=>n+(t[o]?ir(e,o):""),""):""}function Rd(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${ir(t,n)}`)}function L(e){const t=`van-${e}`;return[t,Rd(t),Id(t)]}const Wt="van-hairline",il=`${Wt}--top`,sl=`${Wt}--left`,Ir=`${Wt}--bottom`,qn=`${Wt}--surround`,ra=`${Wt}--top-bottom`,Md=`${Wt}-unset--top-bottom`,Le="van-haptics-feedback",ll=Symbol("van-form");function Ut(e,{args:t=[],done:n,canceled:o}){if(e){const a=e.apply(null,t);Pr(a)?a.then(r=>{r?n():o&&o()}).catch(tr):a?n():o&&o()}else n()}function U(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(nl(`-${n}`),e))},e}const cl=Symbol();function ia(e){const t=oo(cl,null);t&&q(t,n=>{n&&e()})}const ul=(e,t)=>{const n=M(),o=()=>{n.value=fe(e).height};return Ae(()=>{if(oe(o),t)for(let a=1;a<=3;a++)setTimeout(o,100*a)}),ia(()=>oe(o)),n};function sa(e,t){const n=ul(e,!0);return o=>s("div",{class:t("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[o()])}const[dl,Fi]=L("action-bar"),Rr=Symbol(dl),Vd={placeholder:Boolean,safeAreaInsetBottom:V};var Nd=N({name:dl,props:Vd,setup(e,{slots:t}){const n=M(),o=sa(n,Fi),{linkChildren:a}=Ie(Rr);a();const r=()=>{var i;return s("div",{ref:n,class:[Fi(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(i=t.default)==null?void 0:i.call(t)])};return()=>e.placeholder?o(r):r()}});const fl=U(Nd);function le(e){const t=Vt();t&&Z(t.proxy,e)}const jt={to:[String,Object],url:String,replace:Boolean};function hl({to:e,url:t,replace:n,$router:o}){e&&o?o[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function nn(){const e=Vt().proxy;return()=>hl(e)}const[Ld,Hi]=L("badge"),Fd={dot:Boolean,max:z,tag:Y("div"),color:String,offset:Array,content:z,showZero:V,position:Y("top-right")};var Hd=N({name:Ld,props:Fd,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:i,showZero:l}=e;return ie(i)&&i!==""&&(l||i!==0&&i!=="0")},o=()=>{const{dot:i,max:l,content:c}=e;if(!i&&n())return t.content?t.content():ie(l)&&Gs(c)&&+c>l?`${l}+`:c},a=R(()=>{const i={background:e.color};if(e.offset){const[l,c]=e.offset;t.default?(i.top=ce(c),typeof l=="number"?i.right=ce(-l):i.right=l.startsWith("-")?l.replace("-",""):`-${l}`):(i.marginTop=ce(c),i.marginLeft=ce(l))}return i}),r=()=>{if(n()||e.dot)return s("div",{class:Hi([e.position,{dot:e.dot,fixed:!!t.default}]),style:a.value},[o()])};return()=>{if(t.default){const{tag:i}=e;return s(i,{class:Hi("wrapper")},{default:()=>[t.default(),r()]})}return r()}}});const on=U(Hd);let vl=2e3;const zd=()=>++vl,Wd=e=>{vl=e},[ml,Ud]=L("config-provider"),gl=Symbol(ml),jd={tag:Y("div"),zIndex:Number,themeVars:Object,iconPrefix:String};function Yd(e){const t={};return Object.keys(e).forEach(n=>{t[`--van-${Ad(n)}`]=e[n]}),t}var qd=N({name:ml,props:jd,setup(e,{slots:t}){const n=R(()=>{if(e.themeVars)return Yd(e.themeVars)});return ro(gl,e),Sr(()=>{e.zIndex!==void 0&&Wd(e.zIndex)}),()=>s(e.tag,{class:Ud(),style:n.value},{default:()=>{var o;return[(o=t.default)==null?void 0:o.call(t)]}})}});const[Kd,zi]=L("icon"),Xd=e=>e?.includes("/"),Gd={dot:Boolean,tag:Y("i"),name:String,size:z,badge:z,color:String,badgeProps:Object,classPrefix:String};var Zd=N({name:Kd,props:Gd,setup(e,{slots:t}){const n=oo(gl,null),o=R(()=>e.classPrefix||n?.iconPrefix||zi());return()=>{const{tag:a,dot:r,name:i,size:l,badge:c,color:d}=e,u=Xd(i);return s(on,se({dot:r,tag:a,class:[o.value,u?"":`${o.value}-${i}`],style:{color:d,fontSize:ce(l)},content:c},e.badgeProps),{default:()=>{var f;return[(f=t.default)==null?void 0:f.call(t),u&&s("img",{class:zi("image"),src:i},null)]}})}}});const ae=U(Zd),[Jd,Kn]=L("loading"),Qd=Array(12).fill(null).map((e,t)=>s("i",{class:Kn("line",String(t+1))},null)),ef=s("svg",{class:Kn("circular"),viewBox:"25 25 50 50"},[s("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),tf={size:z,type:Y("circular"),color:String,vertical:Boolean,textSize:z,textColor:String};var nf=N({name:Jd,props:tf,setup(e,{slots:t}){const n=R(()=>Z({color:e.color},zt(e.size))),o=()=>{var a;if(t.default)return s("span",{class:Kn("text"),style:{fontSize:ce(e.textSize),color:(a=e.textColor)!=null?a:e.color}},[t.default()])};return()=>{const{type:a,vertical:r}=e;return s("div",{class:Kn([a,{vertical:r}]),"aria-live":"polite","aria-busy":!0},[s("span",{class:Kn("spinner",a),style:n.value},[a==="spinner"?Qd:ef]),o()])}}});const it=U(nf),[of,an]=L("button"),af=Z({},jt,{tag:Y("button"),text:String,icon:String,type:Y("default"),size:Y("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:Y("button"),loadingSize:z,loadingText:String,loadingType:String,iconPosition:Y("left")});var rf=N({name:of,props:af,emits:["click"],setup(e,{emit:t,slots:n}){const o=nn(),a=()=>n.loading?n.loading():s(it,{size:e.loadingSize,type:e.loadingType,class:an("loading")},null),r=()=>{if(e.loading)return a();if(n.icon)return s("div",{class:an("icon")},[n.icon()]);if(e.icon)return s(ae,{name:e.icon,class:an("icon"),classPrefix:e.iconPrefix},null)},i=()=>{let d;if(e.loading?d=e.loadingText:d=n.default?n.default():e.text,d)return s("span",{class:an("text")},[d])},l=()=>{const{color:d,plain:u}=e;if(d){const f={color:u?d:"white"};return u||(f.background=d),d.includes("gradient")?f.border=0:f.borderColor=d,f}},c=d=>{e.loading?be(d):e.disabled||(t("click",d),o())};return()=>{const{tag:d,type:u,size:f,block:v,round:p,plain:x,square:g,loading:h,disabled:y,hairline:m,nativeType:w,iconPosition:b}=e,S=[an([u,f,{plain:x,block:v,round:p,square:g,loading:h,disabled:y,hairline:m}]),{[qn]:m}];return s(d,{type:w,class:S,style:l(),disabled:y,onClick:c},{default:()=>[s("div",{class:an("content")},[b==="left"&&r(),i(),b==="right"&&r()])]})}}});const Fe=U(rf),[sf,lf]=L("action-bar-button"),cf=Z({},jt,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var uf=N({name:sf,props:cf,setup(e,{slots:t}){const n=nn(),{parent:o,index:a}=Pe(Rr),r=R(()=>{if(o){const l=o.children[a.value-1];return!(l&&"isButton"in l)}}),i=R(()=>{if(o){const l=o.children[a.value+1];return!(l&&"isButton"in l)}});return le({isButton:!0}),()=>{const{type:l,icon:c,text:d,color:u,loading:f,disabled:v}=e;return s(Fe,{class:lf([l,{last:i.value,first:r.value}]),size:"large",type:l,icon:c,color:u,loading:f,disabled:v,onClick:n},{default:()=>[t.default?t.default():d]})}}});const sr=U(uf),[df,Ta]=L("action-bar-icon"),ff=Z({},jt,{dot:Boolean,text:String,icon:String,color:String,badge:z,iconClass:ve,badgeProps:Object,iconPrefix:String});var hf=N({name:df,props:ff,setup(e,{slots:t}){const n=nn();Pe(Rr);const o=()=>{const{dot:a,badge:r,icon:i,color:l,iconClass:c,badgeProps:d,iconPrefix:u}=e;return t.icon?s(on,se({dot:a,class:Ta("icon"),content:r},d),{default:t.icon}):s(ae,{tag:"div",dot:a,name:i,badge:r,color:l,class:[Ta("icon"),c],badgeProps:d,classPrefix:u},null)};return()=>s("div",{role:"button",class:Ta(),tabindex:0,onClick:n},[o(),t.default?t.default():e.text])}});const vf=U(hf),_n={show:Boolean,zIndex:z,overlay:V,duration:z,teleport:[String,Object],lockScroll:V,lazyRender:V,beforeClose:Function,overlayStyle:Object,overlayClass:ve,transitionAppear:Boolean,closeOnClickOverlay:V},Mr=Object.keys(_n);function mf(e,t){return e>t?"horizontal":t>e?"vertical":""}function yt(){const e=M(0),t=M(0),n=M(0),o=M(0),a=M(0),r=M(0),i=M(""),l=()=>i.value==="vertical",c=()=>i.value==="horizontal",d=()=>{n.value=0,o.value=0,a.value=0,r.value=0,i.value=""};return{move:v=>{const p=v.touches[0];n.value=(p.clientX<0?0:p.clientX)-e.value,o.value=p.clientY-t.value,a.value=Math.abs(n.value),r.value=Math.abs(o.value);const x=10;(!i.value||a.value<x&&r.value<x)&&(i.value=mf(a.value,r.value))},start:v=>{d(),e.value=v.touches[0].clientX,t.value=v.touches[0].clientY},reset:d,startX:e,startY:t,deltaX:n,deltaY:o,offsetX:a,offsetY:r,direction:i,isVertical:l,isHorizontal:c}}let Rn=0;const Wi="van-overflow-hidden";function gf(e,t){const n=yt(),o="01",a="10",r=u=>{n.move(u);const f=n.deltaY.value>0?a:o,v=Qs(u.target,e.value),{scrollHeight:p,offsetHeight:x,scrollTop:g}=v;let h="11";g===0?h=x>=p?"00":"01":g+x>=p&&(h="10"),h!=="11"&&n.isVertical()&&!(parseInt(h,2)&parseInt(f,2))&&be(u,!0)},i=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",r,{passive:!1}),Rn||document.body.classList.add(Wi),Rn++},l=()=>{Rn&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",r),Rn--,Rn||document.body.classList.remove(Wi))},c=()=>t()&&i(),d=()=>t()&&l();$n(c),An(d),en(d),q(t,u=>{u?i():l()})}function Vr(e){const t=M(!1);return q(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const[bf,yf]=L("overlay"),pf={show:Boolean,zIndex:z,duration:z,className:ve,lockScroll:V,lazyRender:V,customStyle:Object};var wf=N({name:bf,props:pf,setup(e,{slots:t}){const n=M(),o=Vr(()=>e.show||!e.lazyRender),a=i=>{e.lockScroll&&be(i,!0)},r=o(()=>{var i;const l=Z(tn(e.zIndex),e.customStyle);return ie(e.duration)&&(l.animationDuration=`${e.duration}s`),$e(s("div",{ref:n,style:l,class:[yf(),e.className]},[(i=t.default)==null?void 0:i.call(t)]),[[De,e.show]])});return Ce("touchmove",a,{target:n}),()=>s(Qo,{name:"van-fade",appear:!0},{default:r})}});const bl=U(wf),xf=Z({},_n,{round:Boolean,position:Y("center"),closeIcon:Y("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:Y("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Sf,Ui]=L("popup");var Cf=N({name:Sf,inheritAttrs:!1,props:xf,emits:["open","close","opened","closed","keydown","update:show","click-overlay","click-close-icon"],setup(e,{emit:t,attrs:n,slots:o}){let a,r;const i=M(),l=M(),c=Vr(()=>e.show||!e.lazyRender),d=R(()=>{const S={zIndex:i.value};if(ie(e.duration)){const C=e.position==="center"?"animationDuration":"transitionDuration";S[C]=`${e.duration}s`}return S}),u=()=>{a||(a=!0,i.value=e.zIndex!==void 0?+e.zIndex:zd(),t("open"))},f=()=>{a&&Ut(e.beforeClose,{done(){a=!1,t("close"),t("update:show",!1)}})},v=S=>{t("click-overlay",S),e.closeOnClickOverlay&&f()},p=()=>{if(e.overlay)return s(bl,{show:e.show,class:e.overlayClass,zIndex:i.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0,onClick:v},{default:o["overlay-content"]})},x=S=>{t("click-close-icon",S),f()},g=()=>{if(e.closeable)return s(ae,{role:"button",tabindex:0,name:e.closeIcon,class:[Ui("close-icon",e.closeIconPosition),Le],classPrefix:e.iconPrefix,onClick:x},null)},h=()=>t("opened"),y=()=>t("closed"),m=S=>t("keydown",S),w=c(()=>{var S;const{round:C,position:O,safeAreaInsetTop:T,safeAreaInsetBottom:E}=e;return $e(s("div",se({ref:l,style:d.value,role:"dialog",tabindex:0,class:[Ui({round:C,[O]:O}),{"van-safe-area-top":T,"van-safe-area-bottom":E}],onKeydown:m},n),[(S=o.default)==null?void 0:S.call(o),g()]),[[De,e.show]])}),b=()=>{const{position:S,transition:C,transitionAppear:O}=e,T=S==="center"?"van-fade":`van-popup-slide-${S}`;return s(Qo,{name:C||T,appear:O,onAfterEnter:h,onAfterLeave:y},{default:w})};return q(()=>e.show,S=>{S&&!a&&(u(),n.tabindex===0&&oe(()=>{var C;(C=l.value)==null||C.focus()})),!S&&a&&(a=!1,t("close"))}),le({popupRef:l}),gf(l,()=>e.show&&e.lockScroll),Ce("popstate",()=>{e.closeOnPopstate&&(f(),r=!1)}),Ae(()=>{e.show&&u()}),ao(()=>{r&&(t("update:show",!0),r=!1)}),An(()=>{e.show&&e.teleport&&(f(),r=!0)}),ro(cl,()=>e.show),()=>e.teleport?s(ea,{to:e.teleport},{default:()=>[p(),b()]}):s(pn,null,[p(),b()])}});const st=U(Cf),[kf,Je]=L("action-sheet"),Tf=Z({},_n,{title:String,round:V,actions:Te(),closeIcon:Y("cross"),closeable:V,cancelText:String,description:String,closeOnPopstate:V,closeOnClickAction:Boolean,safeAreaInsetBottom:V}),Ef=[...Mr,"round","closeOnPopstate","safeAreaInsetBottom"];var Of=N({name:kf,props:Tf,emits:["select","cancel","update:show"],setup(e,{slots:t,emit:n}){const o=u=>n("update:show",u),a=()=>{o(!1),n("cancel")},r=()=>{if(e.title)return s("div",{class:Je("header")},[e.title,e.closeable&&s(ae,{name:e.closeIcon,class:[Je("close"),Le],onClick:a},null)])},i=()=>{if(t.cancel||e.cancelText)return[s("div",{class:Je("gap")},null),s("button",{type:"button",class:Je("cancel"),onClick:a},[t.cancel?t.cancel():e.cancelText])]},l=(u,f)=>u.loading?s(it,{class:Je("loading-icon")},null):t.action?t.action({action:u,index:f}):[s("span",{class:Je("name")},[u.name]),u.subname&&s("div",{class:Je("subname")},[u.subname])],c=(u,f)=>{const{color:v,loading:p,callback:x,disabled:g,className:h}=u,y=()=>{g||p||(x&&x(u),e.closeOnClickAction&&o(!1),oe(()=>n("select",u,f)))};return s("button",{type:"button",style:{color:v},class:[Je("item",{loading:p,disabled:g}),h],onClick:y},[l(u,f)])},d=()=>{if(e.description||t.description){const u=t.description?t.description():e.description;return s("div",{class:Je("description")},[u])}};return()=>s(st,se({class:Je(),position:"bottom","onUpdate:show":o},de(e,Ef)),{default:()=>{var u;return[r(),d(),s("div",{class:Je("content")},[e.actions.map(c),(u=t.default)==null?void 0:u.call(t)]),i()]}})}});const Bf=U(Of);function Qn(e){if(!ie(e))return e;if(Array.isArray(e))return e.map(t=>Qn(t));if(Ye(e)){const t={};return Object.keys(e).forEach(n=>{t[n]=Qn(e[n])}),t}return e}const ji=200,Yi=300,Af=15,[yl,Ea]=L("picker-column");function $f(e){const{transform:t}=window.getComputedStyle(e),n=t.slice(7,t.length-1).split(", ")[5];return Number(n)}const pl=Symbol(yl),Oa=e=>Ye(e)&&e.disabled;var Pf=N({name:yl,props:{textKey:xe(String),readonly:Boolean,allowHtml:Boolean,className:ve,itemHeight:xe(Number),defaultIndex:vt(0),swipeDuration:xe(z),initialOptions:Te(),visibleItemCount:xe(z)},emits:["change"],setup(e,{emit:t,slots:n}){let o,a,r,i,l;const c=M(),d=M(),u=me({index:e.defaultIndex,offset:0,duration:0,options:Qn(e.initialOptions)}),f=yt(),v=()=>u.options.length,p=()=>e.itemHeight*(+e.visibleItemCount-1)/2,x=$=>{$=Oe($,0,v());for(let H=$;H<v();H++)if(!Oa(u.options[H]))return H;for(let H=$-1;H>=0;H--)if(!Oa(u.options[H]))return H},g=($,H)=>{$=x($)||0;const D=-$*e.itemHeight,I=()=>{$!==u.index&&(u.index=$,H&&t("change",$))};o&&D!==u.offset?l=I:I(),u.offset=D},h=$=>{JSON.stringify($)!==JSON.stringify(u.options)&&(u.options=Qn($),g(e.defaultIndex))},y=$=>{o||e.readonly||(l=null,u.duration=ji,g($,!0))},m=$=>Ye($)&&e.textKey in $?$[e.textKey]:$,w=$=>Oe(Math.round(-$/e.itemHeight),0,v()-1),b=($,H)=>{const D=Math.abs($/H);$=u.offset+D/.003*($<0?-1:1);const I=w($);u.duration=+e.swipeDuration,g(I,!0)},S=()=>{o=!1,u.duration=0,l&&(l(),l=null)},C=$=>{if(!e.readonly){if(f.start($),o){const H=$f(d.value);u.offset=Math.min(0,H-p()),a=u.offset}else a=u.offset;u.duration=0,r=Date.now(),i=a,l=null}},O=$=>{if(e.readonly)return;f.move($),f.isVertical()&&(o=!0,be($,!0)),u.offset=Oe(a+f.deltaY.value,-(v()*e.itemHeight),e.itemHeight);const H=Date.now();H-r>Yi&&(r=H,i=u.offset)},T=()=>{if(e.readonly)return;const $=u.offset-i,H=Date.now()-r;if(H<Yi&&Math.abs($)>Af){b($,H);return}const I=w(u.offset);u.duration=ji,g(I,!0),setTimeout(()=>{o=!1},0)},E=()=>{const $={height:`${e.itemHeight}px`};return u.options.map((H,D)=>{const I=m(H),X=Oa(H),J={role:"button",style:$,tabindex:X?-1:0,class:Ea("item",{disabled:X,selected:D===u.index}),onClick:()=>y(D)},ne={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:I};return s("li",J,[n.option?n.option(H):s("div",ne,null)])})},B=$=>{const{options:H}=u;for(let D=0;D<H.length;D++)if(m(H[D])===$)return g(D)},k=()=>u.options[u.index],_=()=>u.options.length;return g(u.index),Pe(pl),le({state:u,setIndex:g,getValue:k,setValue:B,setOptions:h,hasOptions:_,stopMomentum:S}),q(()=>e.initialOptions,h),q(()=>e.defaultIndex,$=>g($)),Ce("touchmove",O,{target:c}),()=>s("div",{ref:c,class:[Ea(),e.className],onTouchstartPassive:C,onTouchend:T,onTouchcancel:T},[s("ul",{ref:d,style:{transform:`translate3d(0, ${u.offset+p()}px, 0)`,transitionDuration:`${u.duration}ms`,transitionProperty:u.duration?"all":"none"},class:Ea("wrapper"),onTransitionend:S},[E()])])}});const[_f,wt,qi]=L("picker"),la={title:String,loading:Boolean,readonly:Boolean,allowHtml:Boolean,itemHeight:K(44),showToolbar:V,swipeDuration:K(1e3),visibleItemCount:K(6),cancelButtonText:String,confirmButtonText:String},Df=Z({},la,{columns:Te(),valueKey:String,defaultIndex:K(0),toolbarPosition:Y("top"),columnsFieldNames:Object});var If=N({name:_f,props:Df,emits:["confirm","cancel","change"],setup(e,{emit:t,slots:n}){const o=M(!1),a=M(),r=M([]),i=R(()=>{const{columnsFieldNames:A}=e;return{text:A?.text||e.valueKey||"text",values:A?.values||"values",children:A?.children||"children"}}),{children:l,linkChildren:c}=Ie(pl);c();const d=R(()=>Dr(e.itemHeight)),u=R(()=>{const A=e.columns[0];if(typeof A=="object"){if(i.value.children in A)return"cascade";if(i.value.values in A)return"object"}return"plain"}),f=()=>{var A;const W=[];let j={[i.value.children]:e.columns};for(;j&&j[i.value.children];){const te=j[i.value.children];let F=(A=j.defaultIndex)!=null?A:+e.defaultIndex;for(;te[F]&&te[F].disabled;)if(F<te.length-1)F++;else{F=0;break}W.push({[i.value.values]:j[i.value.children],className:j.className,defaultIndex:F}),j=te[F]}r.value=W},v=()=>{const{columns:A}=e;u.value==="plain"?r.value=[{[i.value.values]:A}]:u.value==="cascade"?f():r.value=A,o.value=r.value.some(W=>W[i.value.values]&&W[i.value.values].length!==0)||l.some(W=>W.hasOptions)},p=()=>l.map(A=>A.state.index),x=(A,W)=>{const j=l[A];j&&(j.setOptions(W),o.value=!0)},g=A=>{let W={[i.value.children]:e.columns};const j=p();for(let te=0;te<=A;te++)W=W[i.value.children][j[te]];for(;W&&W[i.value.children];)A++,x(A,W[i.value.children]),W=W[i.value.children][W.defaultIndex||0]},h=A=>l[A],y=A=>{const W=h(A);if(W)return W.getValue()},m=(A,W)=>{const j=h(A);j&&(j.setValue(W),u.value==="cascade"&&g(A))},w=A=>{const W=h(A);if(W)return W.state.index},b=(A,W)=>{const j=h(A);j&&(j.setIndex(W),u.value==="cascade"&&g(A))},S=A=>{const W=h(A);if(W)return W.state.options},C=()=>l.map(A=>A.getValue()),O=A=>{A.forEach((W,j)=>{m(j,W)})},T=A=>{A.forEach((W,j)=>{b(j,W)})},E=A=>{u.value==="plain"?t(A,y(0),w(0)):t(A,C(),p())},B=A=>{u.value==="cascade"&&g(A),u.value==="plain"?t("change",y(0),w(0)):t("change",C(),A)},k=()=>{l.forEach(A=>A.stopMomentum()),E("confirm")},_=()=>E("cancel"),$=()=>{if(n.title)return n.title();if(e.title)return s("div",{class:[wt("title"),"van-ellipsis"]},[e.title])},H=()=>{const A=e.cancelButtonText||qi("cancel");return s("button",{type:"button",class:[wt("cancel"),Le],onClick:_},[n.cancel?n.cancel():A])},D=()=>{const A=e.confirmButtonText||qi("confirm");return s("button",{type:"button",class:[wt("confirm"),Le],onClick:k},[n.confirm?n.confirm():A])},I=()=>{if(e.showToolbar){const A=n.toolbar||n.default;return s("div",{class:wt("toolbar")},[A?A():[H(),$(),D()]])}},X=()=>r.value.map((A,W)=>{var j;return s(Pf,{textKey:i.value.text,readonly:e.readonly,allowHtml:e.allowHtml,className:A.className,itemHeight:d.value,defaultIndex:(j=A.defaultIndex)!=null?j:+e.defaultIndex,swipeDuration:e.swipeDuration,initialOptions:A[i.value.values],visibleItemCount:e.visibleItemCount,onChange:()=>B(W)},{option:n.option})}),J=A=>{if(o.value){const W={height:`${d.value}px`},j={backgroundSize:`100% ${(A-d.value)/2}px`};return[s("div",{class:wt("mask"),style:j},null),s("div",{class:[Md,wt("frame")],style:W},null)]}},ne=()=>{const A=d.value*+e.visibleItemCount,W={height:`${A}px`};return s("div",{ref:a,class:wt("columns"),style:W},[X(),J(A)])};return q(()=>e.columns,v,{immediate:!0}),Ce("touchmove",be,{target:a}),le({confirm:k,getValues:C,setValues:O,getIndexes:p,setIndexes:T,getColumnIndex:w,setColumnIndex:b,getColumnValue:y,setColumnValue:m,getColumnValues:S,setColumnValues:x}),()=>{var A,W;return s("div",{class:wt()},[e.toolbarPosition==="top"?I():null,e.loading?s(it,{class:wt("loading")},null):null,(A=n["columns-top"])==null?void 0:A.call(n),ne(),(W=n["columns-bottom"])==null?void 0:W.call(n),e.toolbarPosition==="bottom"?I():null])}}});const ca=U(If),[Rf,Mf]=L("area"),Ba="000000",Vf=["title","cancel","confirm","toolbar","columns-top","columns-bottom"],Nf=["title","loading","readonly","itemHeight","swipeDuration","visibleItemCount","cancelButtonText","confirmButtonText"],Lf=e=>e[0]==="9",Ff=Z({},la,{value:String,columnsNum:K(3),columnsPlaceholder:Te(),areaList:{type:Object,default:()=>({})},isOverseaCode:{type:Function,default:Lf}});var Hf=N({name:Rf,props:Ff,emits:["change","confirm","cancel"],setup(e,{emit:t,slots:n}){const o=M(),a=me({code:e.value,columns:[{values:[]},{values:[]},{values:[]}]}),r=R(()=>{const{areaList:m}=e;return{province:m.province_list||{},city:m.city_list||{},county:m.county_list||{}}}),i=R(()=>{const{columnsPlaceholder:m}=e;return{province:m[0]||"",city:m[1]||"",county:m[2]||""}}),l=()=>{if(e.columnsPlaceholder.length)return Ba;const{county:m,city:w}=r.value,b=Object.keys(m);if(b[0])return b[0];const S=Object.keys(w);return S[0]?S[0]:""},c=(m,w)=>{let b=[];if(m!=="province"&&!w)return b;const S=r.value[m];if(b=Object.keys(S).map(C=>({code:C,name:S[C]})),w&&(m==="city"&&e.isOverseaCode(w)&&(w="9"),b=b.filter(C=>C.code.indexOf(w)===0)),i.value[m]&&b.length){let C="";m==="city"?C=Ba.slice(2,4):m==="county"&&(C=Ba.slice(4,6)),b.unshift({code:w+C,name:i.value[m]})}return b},d=(m,w)=>{let b=w.length;m==="province"&&(b=e.isOverseaCode(w)?1:2),m==="city"&&(b=4),w=w.slice(0,b);const S=c(m,b>2?w.slice(0,b-2):"");for(let C=0;C<S.length;C++)if(S[C].code.slice(0,b)===w)return C;return 0},u=()=>{const m=o.value;if(!m)return;let w=a.code||l();const b=c("province"),S=c("city",w.slice(0,2));m.setColumnValues(0,b),m.setColumnValues(1,S),S.length&&w.slice(2,4)==="00"&&!e.isOverseaCode(w)&&([{code:w}]=S),m.setColumnValues(2,c("county",w.slice(0,4))),m.setIndexes([d("province",w),d("city",w),d("county",w)])},f=m=>m.map((w,b)=>(w&&(w=Qn(w),(!w.code||w.name===e.columnsPlaceholder[b])&&(w.code="",w.name="")),w)),v=()=>{if(o.value){const m=o.value.getValues().filter(Boolean);return f(m)}return[]},p=()=>{const m=v(),w={code:"",country:"",province:"",city:"",county:""};if(!m.length)return w;const b=m.map(C=>C.name),S=m.filter(C=>C.code);return w.code=S.length?S[S.length-1].code:"",e.isOverseaCode(w.code)?(w.country=b[1]||"",w.province=b[2]||""):(w.province=b[0]||"",w.city=b[1]||"",w.county=b[2]||""),w},x=(m="")=>{a.code=m,u()},g=(m,w)=>{if(a.code=m[w].code,u(),o.value){const b=f(o.value.getValues());t("change",b,w)}},h=(m,w)=>{u(),t("confirm",f(m),w)},y=(...m)=>t("cancel",...m);return Ae(u),q(()=>e.value,m=>{a.code=m,u()}),q(()=>e.areaList,u,{deep:!0}),q(()=>e.columnsNum,()=>{oe(u)}),le({reset:x,getArea:p,getValues:v}),()=>{const m=a.columns.slice(0,+e.columnsNum);return s(ca,se({ref:o,class:Mf(),columns:m,columnsFieldNames:{text:"name"},onChange:g,onCancel:y,onConfirm:h},de(e,Nf)),de(n,Vf))}}});const wl=U(Hf),[zf,rn]=L("cell"),ua={icon:String,size:String,title:z,value:z,label:z,center:Boolean,isLink:Boolean,border:V,required:Boolean,iconPrefix:String,valueClass:ve,labelClass:ve,titleClass:ve,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},Wf=Z({},ua,jt);var Uf=N({name:zf,props:Wf,setup(e,{slots:t}){const n=nn(),o=()=>{if(t.label||ie(e.label))return s("div",{class:[rn("label"),e.labelClass]},[t.label?t.label():e.label])},a=()=>{if(t.title||ie(e.title))return s("div",{class:[rn("title"),e.titleClass],style:e.titleStyle},[t.title?t.title():s("span",null,[e.title]),o()])},r=()=>{const c=t.value||t.default;if(c||ie(e.value)){const u=t.title||ie(e.title);return s("div",{class:[rn("value",{alone:!u}),e.valueClass]},[c?c():s("span",null,[e.value])])}},i=()=>{if(t.icon)return t.icon();if(e.icon)return s(ae,{name:e.icon,class:rn("left-icon"),classPrefix:e.iconPrefix},null)},l=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const c=e.arrowDirection&&e.arrowDirection!=="right"?`arrow-${e.arrowDirection}`:"arrow";return s(ae,{name:c,class:rn("right-icon")},null)}};return()=>{var c,d;const{size:u,center:f,border:v,isLink:p,required:x}=e,g=(c=e.clickable)!=null?c:p,h={center:f,required:x,clickable:g,borderless:!v};return u&&(h[u]=!!u),s("div",{class:rn(h),role:g?"button":void 0,tabindex:g?0:void 0,onClick:n},[i(),a(),r(),l(),(d=t.extra)==null?void 0:d.call(t)])}}});const lt=U(Uf),[jf,Yf]=L("form"),qf={colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:z,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:V,showErrorMessage:V,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var Kf=N({name:jf,props:qf,emits:["submit","failed"],setup(e,{emit:t,slots:n}){const{children:o,linkChildren:a}=Ie(ll),r=h=>h?o.filter(y=>h.includes(y.name)):o,i=h=>new Promise((y,m)=>{const w=[];r(h).reduce((S,C)=>S.then(()=>{if(!w.length)return C.validate().then(O=>{O&&w.push(O)})}),Promise.resolve()).then(()=>{w.length?m(w):y()})}),l=h=>new Promise((y,m)=>{const w=r(h);Promise.all(w.map(b=>b.validate())).then(b=>{b=b.filter(Boolean),b.length?m(b):y()})}),c=h=>{const y=o.find(m=>m.name===h);return y?new Promise((m,w)=>{y.validate().then(b=>{b?w(b):m()})}):Promise.reject()},d=h=>typeof h=="string"?c(h):e.validateFirst?i(h):l(h),u=h=>{typeof h=="string"&&(h=[h]),r(h).forEach(m=>{m.resetValidation()})},f=()=>o.reduce((h,y)=>(h[y.name]=y.getValidationStatus(),h),{}),v=(h,y)=>{o.some(m=>m.name===h?(m.$el.scrollIntoView(y),!0):!1)},p=()=>o.reduce((h,y)=>(h[y.name]=y.formValue.value,h),{}),x=()=>{const h=p();d().then(()=>t("submit",h)).catch(y=>{t("failed",{values:h,errors:y}),e.scrollToError&&y[0].name&&v(y[0].name)})},g=h=>{be(h),x()};return a({props:e}),le({submit:x,validate:d,getValues:p,scrollToField:v,resetValidation:u,getValidationStatus:f}),()=>{var h;return s("form",{class:Yf(),onSubmit:g},[(h=n.default)==null?void 0:h.call(n)])}}});const Nr=U(Kf);function xl(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function Xf(e,t){if(xl(e)){if(t.required)return!1;if(t.validateEmpty===!1)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function Gf(e,t){return new Promise(n=>{const o=t.validator(e,t);if(Pr(o)){o.then(n);return}n(o)})}function Ki(e,t){const{message:n}=t;return Tn(n)?n(e,t):n||""}function Zf({target:e}){e.composing=!0}function Xi({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function Jf(e,t){const n=lo();e.style.height="auto";let o=e.scrollHeight;if(Ye(t)){const{maxHeight:a,minHeight:r}=t;a!==void 0&&(o=Math.min(o,a)),r!==void 0&&(o=Math.max(o,r))}o&&(e.style.height=`${o}px`,oa(n))}function Qf(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function xt(e){return[...e].length}function Aa(e,t){return[...e].slice(0,t).join("")}let eh=0;function Dn(){const e=Vt(),{name:t="unknown"}=e?.type||{};return`${t}-${++eh}`}const[th,qe]=L("field"),Lr={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:z,formatter:Function,clearIcon:Y("clear"),modelValue:K(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:Y("focus"),formatTrigger:Y("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},nh=Z({},ua,Lr,{rows:z,type:Y("text"),rules:Array,autosize:[Boolean,Object],labelWidth:z,labelClass:ve,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var oh=N({name:th,props:nh,emits:["blur","focus","clear","keypress","click-input","end-validate","start-validate","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:t,slots:n}){const o=Dn(),a=me({status:"unvalidated",focused:!1,validateMessage:""}),r=M(),i=M(),l=M(),{parent:c}=Pe(ll),d=()=>{var P;return String((P=e.modelValue)!=null?P:"")},u=P=>{if(ie(e[P]))return e[P];if(c&&ie(c.props[P]))return c.props[P]},f=R(()=>{const P=u("readonly");if(e.clearable&&!P){const ee=d()!=="",Q=e.clearTrigger==="always"||e.clearTrigger==="focus"&&a.focused;return ee&&Q}return!1}),v=R(()=>l.value&&n.input?l.value():e.modelValue),p=P=>P.reduce((ee,Q)=>ee.then(()=>{if(a.status==="failed")return;let{value:re}=v;if(Q.formatter&&(re=Q.formatter(re,Q)),!Xf(re,Q)){a.status="failed",a.validateMessage=Ki(re,Q);return}if(Q.validator)return xl(re)&&Q.validateEmpty===!1?void 0:Gf(re,Q).then(he=>{he&&typeof he=="string"?(a.status="failed",a.validateMessage=he):he===!1&&(a.status="failed",a.validateMessage=Ki(re,Q))})}),Promise.resolve()),x=()=>{a.status="unvalidated",a.validateMessage=""},g=()=>t("end-validate",{status:a.status}),h=(P=e.rules)=>new Promise(ee=>{x(),P?(t("start-validate"),p(P).then(()=>{a.status==="failed"?(ee({name:e.name,message:a.validateMessage}),g()):(a.status="passed",ee(),g())})):ee()}),y=P=>{if(c&&e.rules){const{validateTrigger:ee}=c.props,Q=Wo(ee).includes(P),re=e.rules.filter(he=>he.trigger?Wo(he.trigger).includes(P):Q);re.length&&h(re)}},m=P=>{var ee;const{maxlength:Q}=e;if(ie(Q)&&xt(P)>Q){const re=d();if(re&&xt(re)===+Q)return re;const he=(ee=r.value)==null?void 0:ee.selectionEnd;if(a.focused&&he){const ge=[...P],ze=ge.length-+Q;return ge.splice(he-ze,ze),ge.join("")}return Aa(P,+Q)}return P},w=(P,ee="onChange")=>{const Q=P;P=m(P);const re=xt(Q)-xt(P);if(e.type==="number"||e.type==="digit"){const ge=e.type==="number";P=rr(P,ge,ge)}let he=0;if(e.formatter&&ee===e.formatTrigger){const{formatter:ge,maxlength:ze}=e;if(P=ge(P),ie(ze)&&xt(P)>ze&&(P=Aa(P,+ze)),r.value&&a.focused){const{selectionEnd:Yt}=r.value,co=Aa(Q,Yt);he=xt(ge(co))-xt(co)}}if(r.value&&r.value.value!==P)if(a.focused){let{selectionStart:ge,selectionEnd:ze}=r.value;if(r.value.value=P,ie(ge)&&ie(ze)){const Yt=xt(P);re?(ge-=re,ze-=re):he&&(ge+=he,ze+=he),r.value.setSelectionRange(Math.min(ge,Yt),Math.min(ze,Yt))}}else r.value.value=P;P!==e.modelValue&&t("update:modelValue",P)},b=P=>{P.target.composing||w(P.target.value)},S=()=>{var P;return(P=r.value)==null?void 0:P.blur()},C=()=>{var P;return(P=r.value)==null?void 0:P.focus()},O=()=>{const P=r.value;e.type==="textarea"&&e.autosize&&P&&Jf(P,e.autosize)},T=P=>{a.focused=!0,t("focus",P),oe(O),u("readonly")&&S()},E=P=>{u("readonly")||(a.focused=!1,w(d(),"onBlur"),t("blur",P),y("onBlur"),oe(O),tl())},B=P=>t("click-input",P),k=P=>t("click-left-icon",P),_=P=>t("click-right-icon",P),$=P=>{be(P),t("update:modelValue",""),t("clear",P)},H=R(()=>{if(typeof e.error=="boolean")return e.error;if(c&&c.props.showError&&a.status==="failed")return!0}),D=R(()=>{const P=u("labelWidth");if(P)return{width:ce(P)}}),I=P=>{P.keyCode===13&&(!(c&&c.props.submitOnEnter)&&e.type!=="textarea"&&be(P),e.type==="search"&&S()),t("keypress",P)},X=()=>e.id||`${o}-input`,J=()=>a.status,ne=()=>{const P=qe("control",[u("inputAlign"),{error:H.value,custom:!!n.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(n.input)return s("div",{class:P,onClick:B},[n.input()]);const ee={id:X(),ref:r,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:P,disabled:u("disabled"),readonly:u("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${o}-label`:void 0,onBlur:E,onFocus:T,onInput:b,onClick:B,onChange:Xi,onKeypress:I,onCompositionend:Xi,onCompositionstart:Zf};return e.type==="textarea"?s("textarea",ee,null):s("input",se(Qf(e.type),ee),null)},A=()=>{const P=n["left-icon"];if(e.leftIcon||P)return s("div",{class:qe("left-icon"),onClick:k},[P?P():s(ae,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},W=()=>{const P=n["right-icon"];if(e.rightIcon||P)return s("div",{class:qe("right-icon"),onClick:_},[P?P():s(ae,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},j=()=>{if(e.showWordLimit&&e.maxlength){const P=xt(d());return s("div",{class:qe("word-limit")},[s("span",{class:qe("word-num")},[P]),Bs("/"),e.maxlength])}},te=()=>{if(c&&c.props.showErrorMessage===!1)return;const P=e.errorMessage||a.validateMessage;if(P){const ee=n["error-message"],Q=u("errorMessageAlign");return s("div",{class:qe("error-message",Q)},[ee?ee({message:P}):P])}},F=()=>{const P=u("colon")?":":"";if(n.label)return[n.label(),P];if(e.label)return s("label",{id:`${o}-label`,for:X()},[e.label+P])},G=()=>[s("div",{class:qe("body")},[ne(),f.value&&s(ae,{ref:i,name:e.clearIcon,class:qe("clear")},null),W(),n.button&&s("div",{class:qe("button")},[n.button()])]),j(),te()];return le({blur:S,focus:C,validate:h,formValue:v,resetValidation:x,getValidationStatus:J}),ro(el,{customValue:l,resetValidation:x,validateWithTrigger:y}),q(()=>e.modelValue,()=>{w(d()),x(),y("onChange"),oe(O)}),Ae(()=>{w(d(),e.formatTrigger),oe(O)}),Ce("touchstart",$,{target:R(()=>{var P;return(P=i.value)==null?void 0:P.$el})}),()=>{const P=u("disabled"),ee=u("labelAlign"),Q=F(),re=A();return s(lt,{size:e.size,icon:e.leftIcon,class:qe({error:H.value,disabled:P,[`label-${ee}`]:ee}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:D.value,valueClass:qe("value"),titleClass:[qe("label",[ee,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:re?()=>re:null,title:Q?()=>Q:null,value:G,extra:n.extra})}}});const ft=U(oh);function da(){const e=me({show:!1}),t=a=>{e.show=a},n=a=>{Z(e,a,{transitionAppear:!0}),t(!0)},o=()=>t(!1);return le({open:n,close:o,toggle:t}),{open:n,close:o,state:e,toggle:t}}function fa(e){const t=zc(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}let Mn=0;function ah(e){e?(Mn||document.body.classList.add("van-toast--unclickable"),Mn++):Mn&&(Mn--,Mn||document.body.classList.remove("van-toast--unclickable"))}const[rh,Vn]=L("toast"),ih=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],sh={icon:String,show:Boolean,type:Y("text"),overlay:Boolean,message:z,iconSize:z,duration:vt(2e3),position:Y("middle"),teleport:[String,Object],className:ve,iconPrefix:String,transition:Y("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:ve,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var Sl=N({name:rh,props:sh,emits:["update:show"],setup(e,{emit:t}){let n,o=!1;const a=()=>{const u=e.show&&e.forbidClick;o!==u&&(o=u,ah(o))},r=u=>t("update:show",u),i=()=>{e.closeOnClick&&r(!1)},l=()=>clearTimeout(n),c=()=>{const{icon:u,type:f,iconSize:v,iconPrefix:p,loadingType:x}=e;if(u||f==="success"||f==="fail")return s(ae,{name:u||f,size:v,class:Vn("icon"),classPrefix:p},null);if(f==="loading")return s(it,{class:Vn("loading"),size:v,type:x},null)},d=()=>{const{type:u,message:f}=e;if(ie(f)&&f!=="")return u==="html"?s("div",{key:0,class:Vn("text"),innerHTML:String(f)},null):s("div",{class:Vn("text")},[f])};return q(()=>[e.show,e.forbidClick],a),q(()=>[e.show,e.type,e.message,e.duration],()=>{l(),e.show&&e.duration>0&&(n=setTimeout(()=>{r(!1)},e.duration))}),Ae(a),xr(a),()=>s(st,se({class:[Vn([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:i,onClosed:l,"onUpdate:show":r},de(e,ih)),{default:()=>[c(),d()]})}});const Cl={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let ot=[],ha=!1,jo=Z({},Cl);const Yo=new Map;function kl(e){return Ye(e)?e:{message:e}}function lh(){const{instance:e,unmount:t}=fa({setup(){const n=M(""),{open:o,state:a,close:r,toggle:i}=da(),l=()=>{ha&&(ot=ot.filter(d=>d!==e),t())},c=()=>s(Sl,se(a,{onClosed:l,"onUpdate:show":i}),null);return q(n,d=>{a.message=d}),Vt().render=c,{open:o,clear:r,message:n}}});return e}function ch(){if(!ot.length||ha){const e=lh();ot.push(e)}return ot[ot.length-1]}function He(e={}){if(!Lt)return{};const t=ch(),n=kl(e);return t.open(Z({},jo,Yo.get(n.type||jo.type),n)),t}const Fr=e=>t=>He(Z({type:e},kl(t)));He.loading=Fr("loading");He.success=Fr("success");He.fail=Fr("fail");He.clear=e=>{var t;ot.length&&(e?(ot.forEach(n=>{n.clear()}),ot=[]):ha?(t=ot.shift())==null||t.clear():ot[0].clear())};function uh(e,t){typeof e=="string"?Yo.set(e,t):Z(jo,e)}He.setDefaultOptions=uh;He.resetDefaultOptions=e=>{typeof e=="string"?Yo.delete(e):(jo=Z({},Cl),Yo.clear())};He.allowMultiple=(e=!0)=>{ha=e};He.install=e=>{e.use(U(Sl)),e.config.globalProperties.$toast=He};const[dh,$a]=L("switch"),fh={size:z,loading:Boolean,disabled:Boolean,modelValue:ve,activeColor:String,inactiveColor:String,activeValue:{type:ve,default:!0},inactiveValue:{type:ve,default:!1}};var hh=N({name:dh,props:fh,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const o=()=>e.modelValue===e.activeValue,a=()=>{if(!e.disabled&&!e.loading){const i=o()?e.inactiveValue:e.activeValue;t("update:modelValue",i),t("change",i)}},r=()=>{if(e.loading){const i=o()?e.activeColor:e.inactiveColor;return s(it,{class:$a("loading"),color:i},null)}if(n.node)return n.node()};return Ht(()=>e.modelValue),()=>{var i;const{size:l,loading:c,disabled:d,activeColor:u,inactiveColor:f}=e,v=o(),p={fontSize:ce(l),backgroundColor:v?u:f};return s("div",{role:"switch",class:$a({on:v,loading:c,disabled:d}),style:p,tabindex:d?void 0:0,"aria-checked":v,onClick:a},[s("div",{class:$a("node")},[r()]),(i=n.background)==null?void 0:i.call(n)])}}});const Hr=U(hh),[vh,Pa]=L("address-edit-detail"),Gi=L("address-edit")[2];var mh=N({name:vh,props:{show:Boolean,rows:z,value:String,rules:Array,focused:Boolean,maxlength:z,searchResult:Array,showSearchResult:Boolean},emits:["blur","focus","input","select-search"],setup(e,{emit:t}){const n=M(),o=()=>e.focused&&e.searchResult&&e.showSearchResult,a=u=>{t("select-search",u),t("input",`${u.address||""} ${u.name||""}`.trim())},r=u=>{if(u.name){const f=u.name.replace(e.value,`<span class=${Pa("keyword")}>${e.value}</span>`);return s("div",{innerHTML:f},null)}},i=()=>{if(!o())return;const{searchResult:u}=e;return u.map(f=>s(lt,{clickable:!0,key:f.name+f.address,icon:"location-o",label:f.address,class:Pa("search-item"),border:!1,onClick:()=>a(f)},{title:()=>r(f)}))},l=u=>t("blur",u),c=u=>t("focus",u),d=u=>t("input",u);return()=>{if(e.show)return s(pn,null,[s(ft,{autosize:!0,clearable:!0,ref:n,class:Pa(),rows:e.rows,type:"textarea",rules:e.rules,label:Gi("addressDetail"),border:!o(),maxlength:e.maxlength,modelValue:e.value,placeholder:Gi("addressDetail"),onBlur:l,onFocus:c,"onUpdate:modelValue":d},null),i()])}}});const[gh,sn,ye]=L("address-edit"),Tl={name:"",tel:"",city:"",county:"",country:"",province:"",areaCode:"",isDefault:!1,postalCode:"",addressDetail:""},bh=e=>/^\d{6}$/.test(e),yh={areaList:Object,isSaving:Boolean,isDeleting:Boolean,validator:Function,showArea:V,showDetail:V,showDelete:Boolean,showPostal:Boolean,disableArea:Boolean,searchResult:Array,telMaxlength:z,showSetDefault:Boolean,saveButtonText:String,areaPlaceholder:String,deleteButtonText:String,showSearchResult:Boolean,detailRows:K(1),detailMaxlength:K(200),areaColumnsPlaceholder:Te(),addressInfo:{type:Object,default:()=>Z({},Tl)},telValidator:{type:Function,default:Xs},postalValidator:{type:Function,default:bh}};var ph=N({name:gh,props:yh,emits:["save","focus","delete","click-area","change-area","change-detail","select-search","change-default"],setup(e,{emit:t,slots:n}){const o=M(),a=me({}),r=M(!1),i=M(!1),l=R(()=>Ye(e.areaList)&&Object.keys(e.areaList).length),c=R(()=>{const{country:C,province:O,city:T,county:E,areaCode:B}=a;if(B){const k=[C,O,T,E];return O&&O===T&&k.splice(1,1),k.filter(Boolean).join("/")}return""}),d=R(()=>{var C;return((C=e.searchResult)==null?void 0:C.length)&&i.value}),u=()=>{if(o.value){const C=o.value.getArea();C.areaCode=C.code,delete C.code,Z(a,C)}},f=C=>{i.value=C==="addressDetail",t("focus",C)},v=R(()=>{const{validator:C,telValidator:O,postalValidator:T}=e,E=(B,k)=>({validator:_=>{if(C){const $=C(B,_);if($)return $}return _?!0:k}});return{name:[E("name",ye("nameEmpty"))],tel:[E("tel",ye("telInvalid")),{validator:O,message:ye("telInvalid")}],areaCode:[E("areaCode",ye("areaEmpty"))],addressDetail:[E("addressDetail",ye("addressEmpty"))],postalCode:[E("addressDetail",ye("postalEmpty")),{validator:T,message:ye("postalEmpty")}]}}),p=()=>t("save",a),x=C=>{a.addressDetail=C,t("change-detail",C)},g=C=>{C=C.filter(Boolean),C.some(O=>!O.code)?He(ye("areaEmpty")):(r.value=!1,u(),t("change-area",C))},h=()=>t("delete",a),y=()=>{var C;return((C=o.value)==null?void 0:C.getValues())||[]},m=C=>{a.areaCode=C||"",C&&oe(u)},w=()=>{setTimeout(()=>{i.value=!1})},b=C=>{a.addressDetail=C},S=()=>{if(e.showSetDefault){const C={"right-icon":()=>s(Hr,{modelValue:a.isDefault,"onUpdate:modelValue":O=>a.isDefault=O,size:"24",onChange:O=>t("change-default",O)},null)};return $e(s(lt,{center:!0,title:ye("defaultAddress"),class:sn("default")},C),[[De,!d.value]])}};return le({getArea:y,setAreaCode:m,setAddressDetail:b}),q(()=>e.areaList,()=>m(a.areaCode)),q(()=>e.addressInfo,C=>{Z(a,Tl,C),m(C.areaCode)},{deep:!0,immediate:!0}),()=>{const{disableArea:C}=e;return s(Nr,{class:sn(),onSubmit:p},{default:()=>{var O;return[s("div",{class:sn("fields")},[s(ft,{modelValue:a.name,"onUpdate:modelValue":T=>a.name=T,clearable:!0,label:ye("name"),rules:v.value.name,placeholder:ye("name"),onFocus:()=>f("name")},null),s(ft,{modelValue:a.tel,"onUpdate:modelValue":T=>a.tel=T,clearable:!0,type:"tel",label:ye("tel"),rules:v.value.tel,maxlength:e.telMaxlength,placeholder:ye("tel"),onFocus:()=>f("tel")},null),$e(s(ft,{readonly:!0,label:ye("area"),"is-link":!C,modelValue:c.value,rules:v.value.areaCode,placeholder:e.areaPlaceholder||ye("area"),onFocus:()=>f("areaCode"),onClick:()=>{t("click-area"),r.value=!C}},null),[[De,e.showArea]]),s(mh,{show:e.showDetail,rows:e.detailRows,rules:v.value.addressDetail,value:a.addressDetail,focused:i.value,maxlength:e.detailMaxlength,searchResult:e.searchResult,showSearchResult:e.showSearchResult,onBlur:w,onFocus:()=>f("addressDetail"),onInput:x,"onSelect-search":T=>t("select-search",T)},null),e.showPostal&&$e(s(ft,{modelValue:a.postalCode,"onUpdate:modelValue":T=>a.postalCode=T,type:"tel",rules:v.value.postalCode,label:ye("postal"),maxlength:"6",placeholder:ye("postal"),onFocus:()=>f("postalCode")},null),[[De,!d.value]]),(O=n.default)==null?void 0:O.call(n)]),S(),$e(s("div",{class:sn("buttons")},[s(Fe,{block:!0,round:!0,type:"danger",text:e.saveButtonText||ye("save"),class:sn("button"),loading:e.isSaving,nativeType:"submit"},null),e.showDelete&&s(Fe,{block:!0,round:!0,class:sn("button"),loading:e.isDeleting,text:e.deleteButtonText||ye("delete"),onClick:h},null)]),[[De,!d.value]]),s(st,{show:r.value,"onUpdate:show":T=>r.value=T,round:!0,teleport:"body",position:"bottom",lazyRender:!1},{default:()=>[s(wl,{ref:o,value:a.areaCode,loading:!l.value,areaList:e.areaList,columnsPlaceholder:e.areaColumnsPlaceholder,onConfirm:g,onCancel:()=>{r.value=!1}},null)]})]}})}}});const wh=U(ph),[El,xh]=L("radio-group"),Sh={disabled:Boolean,iconSize:z,direction:String,modelValue:ve,checkedColor:String},Ol=Symbol(El);var Ch=N({name:El,props:Sh,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:o}=Ie(Ol),a=r=>t("update:modelValue",r);return q(()=>e.modelValue,r=>t("change",r)),o({props:e,updateValue:a}),Ht(()=>e.modelValue),()=>{var r;return s("div",{class:xh([e.direction]),role:"radiogroup"},[(r=n.default)==null?void 0:r.call(n)])}}});const zr=U(Ch),[kh,Zi]=L("tag"),Th={size:String,mark:Boolean,show:V,type:Y("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var Eh=N({name:kh,props:Th,emits:["close"],setup(e,{slots:t,emit:n}){const o=i=>{i.stopPropagation(),n("close",i)},a=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},r=()=>{var i;const{type:l,mark:c,plain:d,round:u,size:f,closeable:v}=e,p={mark:c,plain:d,round:u};f&&(p[f]=f);const x=v&&s(ae,{name:"cross",class:[Zi("close"),Le],onClick:o},null);return s("span",{style:a(),class:Zi([p,l])},[(i=t.default)==null?void 0:i.call(t),x])};return()=>s(Qo,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?r():null]})}});const va=U(Eh),Wr={name:ve,shape:Y("round"),disabled:Boolean,iconSize:z,modelValue:ve,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var Bl=N({props:Z({},Wr,{bem:xe(Function),role:String,parent:Object,checked:Boolean,bindGroup:V}),emits:["click","toggle"],setup(e,{emit:t,slots:n}){const o=M(),a=f=>{if(e.parent&&e.bindGroup)return e.parent.props[f]},r=R(()=>a("disabled")||e.disabled),i=R(()=>a("direction")),l=R(()=>{const f=e.checkedColor||a("checkedColor");if(f&&e.checked&&!r.value)return{borderColor:f,backgroundColor:f}}),c=f=>{const{target:v}=f,p=o.value,x=p===v||p?.contains(v);!r.value&&(x||!e.labelDisabled)&&t("toggle"),t("click",f)},d=()=>{const{bem:f,shape:v,checked:p}=e,x=e.iconSize||a("iconSize");return s("div",{ref:o,class:f("icon",[v,{disabled:r.value,checked:p}]),style:{fontSize:ce(x)}},[n.icon?n.icon({checked:p,disabled:r.value}):s(ae,{name:"success",style:l.value},null)])},u=()=>{if(n.default)return s("span",{class:e.bem("label",[e.labelPosition,{disabled:r.value}])},[n.default()])};return()=>{const f=e.labelPosition==="left"?[u(),d()]:[d(),u()];return s("div",{role:e.role,class:e.bem([{disabled:r.value,"label-disabled":e.labelDisabled},i.value]),tabindex:r.value?void 0:0,"aria-checked":e.checked,onClick:c},[f])}}});const[Oh,Bh]=L("radio");var Ah=N({name:Oh,props:Wr,emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const{parent:o}=Pe(Ol),a=()=>(o?o.props.modelValue:e.modelValue)===e.name,r=()=>{o?o.updateValue(e.name):t("update:modelValue",e.name)};return()=>s(Bl,se({bem:Bh,role:"radio",parent:o,checked:a(),onToggle:r},e),de(n,["default","icon"]))}});const Ur=U(Ah),[$h,ln]=L("address-item");var Ph=N({name:$h,props:{address:xe(Object),disabled:Boolean,switchable:Boolean,defaultTagText:String},emits:["edit","click","select"],setup(e,{slots:t,emit:n}){const o=()=>{e.switchable&&n("select"),n("click")},a=()=>s(ae,{name:"edit",class:ln("edit"),onClick:l=>{l.stopPropagation(),n("edit"),n("click")}},null),r=()=>{if(t.tag)return t.tag(e.address);if(e.address.isDefault&&e.defaultTagText)return s(va,{type:"danger",round:!0,class:ln("tag")},{default:()=>[e.defaultTagText]})},i=()=>{const{address:l,disabled:c,switchable:d}=e,u=[s("div",{class:ln("name")},[`${l.name} ${l.tel}`,r()]),s("div",{class:ln("address")},[l.address])];return d&&!c?s(Ur,{name:l.id,iconSize:18},{default:()=>[u]}):u};return()=>{var l;const{disabled:c}=e;return s("div",{class:ln({disabled:c}),onClick:o},[s(lt,{border:!1,valueClass:ln("value")},{value:i,"right-icon":a}),(l=t.bottom)==null?void 0:l.call(t,Z({},e.address,{disabled:c}))])}}});const[_h,bo,Dh]=L("address-list"),Ih={list:Te(),modelValue:z,switchable:V,disabledText:String,disabledList:Te(),addButtonText:String,defaultTagText:String};var Rh=N({name:_h,props:Ih,emits:["add","edit","select","click-item","edit-disabled","select-disabled","update:modelValue"],setup(e,{slots:t,emit:n}){const o=(i,l,c)=>{const d=()=>n(c?"edit-disabled":"edit",i,l),u=()=>n("click-item",i,l),f=()=>{n(c?"select-disabled":"select",i,l),c||n("update:modelValue",i.id)};return s(Ph,{key:i.id,address:i,disabled:c,switchable:e.switchable,defaultTagText:e.defaultTagText,onEdit:d,onClick:u,onSelect:f},{bottom:t["item-bottom"],tag:t.tag})},a=(i,l)=>{if(i)return i.map((c,d)=>o(c,d,l))},r=()=>s("div",{class:[bo("bottom"),"van-safe-area-bottom"]},[s(Fe,{round:!0,block:!0,type:"danger",text:e.addButtonText||Dh("add"),class:bo("add"),onClick:()=>n("add")},null)]);return()=>{var i,l;const c=a(e.list),d=a(e.disabledList,!0),u=e.disabledText&&s("div",{class:bo("disabled-text")},[e.disabledText]);return s("div",{class:bo()},[(i=t.top)==null?void 0:i.call(t),s(zr,{modelValue:e.modelValue},{default:()=>[c]}),u,d,(l=t.default)==null?void 0:l.call(t),r()])}}});const Mh=U(Rh),[Vh,we,Tt]=L("calendar"),Nh=e=>Tt("monthTitle",e.getFullYear(),e.getMonth()+1);function lr(e,t){const n=e.getFullYear(),o=t.getFullYear();if(n===o){const a=e.getMonth(),r=t.getMonth();return a===r?0:a>r?1:-1}return n>o?1:-1}function Ue(e,t){const n=lr(e,t);if(n===0){const o=e.getDate(),a=t.getDate();return o===a?0:o>a?1:-1}return n}const qo=e=>new Date(e),Ji=e=>Array.isArray(e)?e.map(qo):qo(e);function jr(e,t){const n=qo(e);return n.setDate(n.getDate()+t),n}const cr=e=>jr(e,-1),Al=e=>jr(e,1),ur=()=>{const e=new Date;return e.setHours(0,0,0,0),e};function Lh(e){const t=e[0].getTime();return(e[1].getTime()-t)/(1e3*60*60*24)+1}function ma(){const e=M([]),t=[];return Wc(()=>{e.value=[]}),[e,o=>(t[o]||(t[o]=a=>{e.value[o]=a}),t[o])]}const $l=Z({},la,{filter:Function,columnsOrder:Array,formatter:{type:Function,default:(e,t)=>t}}),Pl=Object.keys(la);function _l(e,t){if(e<0)return[];const n=Array(e);let o=-1;for(;++o<e;)n[o]=t(o);return n}function Fh(e){if(!e)return 0;for(;Number.isNaN(parseInt(e,10));)if(e.length>1)e=e.slice(1);else return 0;return parseInt(e,10)}const dr=(e,t)=>32-new Date(e,t-1,32).getDate(),Dl=(e,t)=>{const n=["setValues","setIndexes","setColumnIndex","setColumnValue"];return new Proxy(e,{get:(o,a)=>n.includes(a)?(...r)=>{o[a](...r),t()}:o[a]})},[Hh]=L("calendar-day");var zh=N({name:Hh,props:{item:xe(Object),color:String,index:Number,offset:vt(0),rowHeight:String},emits:["click"],setup(e,{emit:t,slots:n}){const o=R(()=>{var c;const{item:d,index:u,color:f,offset:v,rowHeight:p}=e,x={height:p};if(d.type==="placeholder")return x.width="100%",x;if(u===0&&(x.marginLeft=`${100*v/7}%`),f)switch(d.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":x.background=f;break;case"middle":x.color=f;break}return v+(((c=d.date)==null?void 0:c.getDate())||1)>28&&(x.marginBottom=0),x}),a=()=>{e.item.type!=="disabled"&&t("click",e.item)},r=()=>{const{topInfo:c}=e.item;if(c||n["top-info"])return s("div",{class:we("top-info")},[n["top-info"]?n["top-info"](e.item):c])},i=()=>{const{bottomInfo:c}=e.item;if(c||n["bottom-info"])return s("div",{class:we("bottom-info")},[n["bottom-info"]?n["bottom-info"](e.item):c])},l=()=>{const{item:c,color:d,rowHeight:u}=e,{type:f,text:v}=c,p=[r(),v,i()];return f==="selected"?s("div",{class:we("selected-day"),style:{width:u,height:u,background:d}},[p]):p};return()=>{const{type:c,className:d}=e.item;return c==="placeholder"?s("div",{class:we("day"),style:o.value},null):s("div",{role:"gridcell",style:o.value,class:[we("day",c),d],tabindex:c==="disabled"?void 0:-1,onClick:a},[l()])}}});const[Wh]=L("calendar-month"),Uh={date:xe(Date),type:String,color:String,minDate:xe(Date),maxDate:xe(Date),showMark:Boolean,rowHeight:z,formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number};var jh=N({name:Wh,props:Uh,emits:["click","update-height"],setup(e,{emit:t,slots:n}){const[o,a]=hd(),r=M(),i=M(),l=ul(i),c=R(()=>Nh(e.date)),d=R(()=>ce(e.rowHeight)),u=R(()=>{const B=e.date.getDay();return e.firstDayOfWeek?(B+7-e.firstDayOfWeek)%7:B}),f=R(()=>dr(e.date.getFullYear(),e.date.getMonth()+1)),v=R(()=>o.value||!e.lazyRender),p=()=>c.value,x=B=>{const k=_=>e.currentDate.some($=>Ue($,_)===0);if(k(B)){const _=cr(B),$=Al(B),H=k(_),D=k($);return H&&D?"multiple-middle":H?"end":D?"start":"multiple-selected"}return""},g=B=>{const[k,_]=e.currentDate;if(!k)return"";const $=Ue(B,k);if(!_)return $===0?"start":"";const H=Ue(B,_);return e.allowSameDay&&$===0&&H===0?"start-end":$===0?"start":H===0?"end":$>0&&H<0?"middle":""},h=B=>{const{type:k,minDate:_,maxDate:$,currentDate:H}=e;if(Ue(B,_)<0||Ue(B,$)>0)return"disabled";if(H===null)return"";if(Array.isArray(H)){if(k==="multiple")return x(B);if(k==="range")return g(B)}else if(k==="single")return Ue(B,H)===0?"selected":"";return""},y=B=>{if(e.type==="range"){if(B==="start"||B==="end")return Tt(B);if(B==="start-end")return`${Tt("start")}/${Tt("end")}`}},m=()=>{if(e.showMonthTitle)return s("div",{class:we("month-title")},[c.value])},w=()=>{if(e.showMark&&v.value)return s("div",{class:we("month-mark")},[e.date.getMonth()+1])},b=R(()=>{const B=Math.ceil((f.value+u.value)/7);return Array(B).fill({type:"placeholder"})}),S=R(()=>{const B=[],k=e.date.getFullYear(),_=e.date.getMonth();for(let $=1;$<=f.value;$++){const H=new Date(k,_,$),D=h(H);let I={date:H,type:D,text:$,bottomInfo:y(D)};e.formatter&&(I=e.formatter(I)),B.push(I)}return B}),C=R(()=>S.value.filter(B=>B.type==="disabled")),O=(B,k)=>{if(r.value){const _=fe(r.value),$=b.value.length,D=(Math.ceil((k.getDate()+u.value)/7)-1)*_.height/$;Uo(B,_.top+D+B.scrollTop-fe(B).top)}},T=(B,k)=>s(zh,{item:B,index:k,color:e.color,offset:u.value,rowHeight:d.value,onClick:_=>t("click",_)},de(n,["top-info","bottom-info"])),E=()=>s("div",{ref:r,role:"grid",class:we("days")},[w(),(v.value?S:b).value.map(T)]);return le({getTitle:p,getHeight:()=>l.value,setVisible:a,scrollToDate:O,disabledDays:C}),()=>s("div",{class:we("month"),ref:i},[m(),E()])}});const[Yh]=L("calendar-header");var qh=N({name:Yh,props:{title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number},emits:["click-subtitle"],setup(e,{slots:t,emit:n}){const o=()=>{if(e.showTitle){const l=e.title||Tt("title"),c=t.title?t.title():l;return s("div",{class:we("header-title")},[c])}},a=l=>n("click-subtitle",l),r=()=>{if(e.showSubtitle){const l=t.subtitle?t.subtitle():e.subtitle;return s("div",{class:we("header-subtitle"),onClick:a},[l])}},i=()=>{const{firstDayOfWeek:l}=e,c=Tt("weekdays"),d=[...c.slice(l,7),...c.slice(0,l)];return s("div",{class:we("weekdays")},[d.map(u=>s("span",{class:we("weekday")},[u]))])};return()=>s("div",{class:we("header")},[o(),r(),i()])}});const Kh={show:Boolean,type:Y("single"),title:String,color:String,round:V,readonly:Boolean,poppable:V,maxRange:K(null),position:Y("bottom"),teleport:[String,Object],showMark:V,showTitle:V,formatter:Function,rowHeight:z,confirmText:String,rangePrompt:String,lazyRender:V,showConfirm:V,defaultDate:[Date,Array],allowSameDay:Boolean,showSubtitle:V,closeOnPopstate:V,showRangePrompt:V,confirmDisabledText:String,closeOnClickOverlay:V,safeAreaInsetTop:Boolean,safeAreaInsetBottom:V,minDate:{type:Date,validator:gn,default:ur},maxDate:{type:Date,validator:gn,default:()=>{const e=ur();return new Date(e.getFullYear(),e.getMonth()+6,e.getDate())}},firstDayOfWeek:{type:z,default:0,validator:e=>e>=0&&e<=6}};var Xh=N({name:Vh,props:Kh,emits:["select","confirm","unselect","month-show","over-range","update:show","click-subtitle"],setup(e,{emit:t,slots:n}){const o=(D,I=e.minDate,X=e.maxDate)=>Ue(D,I)===-1?I:Ue(D,X)===1?X:D,a=(D=e.defaultDate)=>{const{type:I,minDate:X,maxDate:J,allowSameDay:ne}=e;if(D===null)return D;const A=ur();if(I==="range"){Array.isArray(D)||(D=[]);const W=o(D[0]||A,X,ne?J:cr(J)),j=o(D[1]||A,ne?X:Al(X));return[W,j]}return I==="multiple"?Array.isArray(D)?D.map(W=>o(W)):[o(A)]:((!D||Array.isArray(D))&&(D=A),o(D))};let r;const i=M(),l=M(""),c=M(a()),[d,u]=ma(),f=R(()=>e.firstDayOfWeek?+e.firstDayOfWeek%7:0),v=R(()=>{const D=[],I=new Date(e.minDate);I.setDate(1);do D.push(new Date(I)),I.setMonth(I.getMonth()+1);while(lr(I,e.maxDate)!==1);return D}),p=R(()=>{if(c.value){if(e.type==="range")return!c.value[0]||!c.value[1];if(e.type==="multiple")return!c.value.length}return!c.value}),x=()=>c.value,g=()=>{const D=Mt(i.value),I=D+r,X=v.value.map((j,te)=>d.value[te].getHeight()),J=X.reduce((j,te)=>j+te,0);if(I>J&&D>0)return;let ne=0,A;const W=[-1,-1];for(let j=0;j<v.value.length;j++){const te=d.value[j];ne<=I&&ne+X[j]>=D&&(W[1]=j,A||(A=te,W[0]=j),d.value[j].showed||(d.value[j].showed=!0,t("month-show",{date:te.date,title:te.getTitle()}))),ne+=X[j]}v.value.forEach((j,te)=>{const F=te>=W[0]-1&&te<=W[1]+1;d.value[te].setVisible(F)}),A&&(l.value=A.getTitle())},h=D=>{Ne(()=>{v.value.some((I,X)=>lr(I,D)===0?(i.value&&d.value[X].scrollToDate(i.value,D),!0):!1),g()})},y=()=>{if(!(e.poppable&&!e.show))if(c.value){const D=e.type==="single"?c.value:c.value[0];gn(D)&&h(D)}else Ne(g)},m=()=>{e.poppable&&!e.show||(Ne(()=>{r=Math.floor(fe(i).height)}),y())},w=(D=a())=>{c.value=D,y()},b=D=>{const{maxRange:I,rangePrompt:X,showRangePrompt:J}=e;return I&&Lh(D)>I?(J&&He(X||Tt("rangePrompt",I)),t("over-range"),!1):!0},S=()=>{var D;return t("confirm",(D=c.value)!=null?D:Ji(c.value))},C=(D,I)=>{const X=J=>{c.value=J,t("select",Ji(J))};if(I&&e.type==="range"&&!b(D)){X([D[0],jr(D[0],+e.maxRange-1)]);return}X(D),I&&!e.showConfirm&&S()},O=(D,I,X)=>{var J;return(J=D.find(ne=>Ue(I,ne.date)===-1&&Ue(ne.date,X)===-1))==null?void 0:J.date},T=R(()=>d.value.reduce((D,I)=>{var X,J;return D.push(...(J=(X=I.disabledDays)==null?void 0:X.value)!=null?J:[]),D},[])),E=D=>{if(e.readonly||!D.date)return;const{date:I}=D,{type:X}=e;if(X==="range"){if(!c.value){C([I]);return}const[J,ne]=c.value;if(J&&!ne){const A=Ue(I,J);if(A===1){const W=O(T.value,J,I);if(W){const j=cr(W);Ue(J,j)===-1?C([J,j]):C([I])}else C([J,I],!0)}else A===-1?C([I]):e.allowSameDay&&C([I,I],!0)}else C([I])}else if(X==="multiple"){if(!c.value){C([I]);return}const J=c.value,ne=J.findIndex(A=>Ue(A,I)===0);if(ne!==-1){const[A]=J.splice(ne,1);t("unselect",qo(A))}else e.maxRange&&J.length>=e.maxRange?He(e.rangePrompt||Tt("rangePrompt",e.maxRange)):C([...J,I])}else C(I,!0)},B=D=>t("update:show",D),k=(D,I)=>{const X=I!==0||!e.showSubtitle;return s(jh,se({ref:u(I),date:D,currentDate:c.value,showMonthTitle:X,firstDayOfWeek:f.value},de(e,["type","color","minDate","maxDate","showMark","formatter","rowHeight","lazyRender","showSubtitle","allowSameDay"]),{onClick:E}),de(n,["top-info","bottom-info"]))},_=()=>{if(n.footer)return n.footer();if(e.showConfirm){const D=n["confirm-text"],I=p.value,X=I?e.confirmDisabledText:e.confirmText;return s(Fe,{round:!0,block:!0,type:"danger",color:e.color,class:we("confirm"),disabled:I,nativeType:"button",onClick:S},{default:()=>[D?D({disabled:I}):X||Tt("confirm")]})}},$=()=>s("div",{class:[we("footer"),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[_()]),H=()=>s("div",{class:we()},[s(qh,{title:e.title,subtitle:l.value,showTitle:e.showTitle,showSubtitle:e.showSubtitle,firstDayOfWeek:f.value,"onClick-subtitle":D=>t("click-subtitle",D)},de(n,["title","subtitle"])),s("div",{ref:i,class:we("body"),onScroll:g},[v.value.map(k)]),$()]);return q(()=>e.show,m),q(()=>[e.type,e.minDate,e.maxDate],()=>w(a(c.value))),q(()=>e.defaultDate,(D=null)=>{c.value=D,y()}),le({reset:w,scrollToDate:h,getSelectedDate:x}),$n(m),()=>e.poppable?s(st,{show:e.show,class:we("popup"),round:e.round,position:e.position,closeable:e.showTitle||e.showSubtitle,teleport:e.teleport,closeOnPopstate:e.closeOnPopstate,safeAreaInsetTop:e.safeAreaInsetTop,closeOnClickOverlay:e.closeOnClickOverlay,"onUpdate:show":B},{default:H}):H()}});const Gh=U(Xh),[Zh,cn]=L("image"),Jh={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:z,height:z,radius:z,lazyLoad:Boolean,iconSize:z,showError:V,errorIcon:Y("photo-fail"),iconPrefix:String,showLoading:V,loadingIcon:Y("photo")};var Qh=N({name:Zh,props:Jh,emits:["load","error"],setup(e,{emit:t,slots:n}){const o=M(!1),a=M(!0),r=M(),{$Lazyload:i}=Vt().proxy,l=R(()=>{const g={width:ce(e.width),height:ce(e.height)};return ie(e.radius)&&(g.overflow="hidden",g.borderRadius=ce(e.radius)),g});q(()=>e.src,()=>{o.value=!1,a.value=!0});const c=g=>{a.value=!1,t("load",g)},d=g=>{o.value=!0,a.value=!1,t("error",g)},u=(g,h,y)=>y?y():s(ae,{name:g,size:e.iconSize,class:h,classPrefix:e.iconPrefix},null),f=()=>{if(a.value&&e.showLoading)return s("div",{class:cn("loading")},[u(e.loadingIcon,cn("loading-icon"),n.loading)]);if(o.value&&e.showError)return s("div",{class:cn("error")},[u(e.errorIcon,cn("error-icon"),n.error)])},v=()=>{if(o.value||!e.src)return;const g={alt:e.alt,class:cn("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?$e(s("img",se({ref:r},g),null),[[Uc("lazy"),e.src]]):s("img",se({src:e.src,onLoad:c,onError:d},g),null)},p=({el:g})=>{const h=()=>{g===r.value&&a.value&&c()};r.value?h():oe(h)},x=({el:g})=>{g===r.value&&!o.value&&d()};return i&&Lt&&(i.$on("loaded",p),i.$on("error",x),en(()=>{i.$off("loaded",p),i.$off("error",x)})),()=>{var g;return s("div",{class:cn({round:e.round,block:e.block}),style:l.value},[v(),f(),(g=n.default)==null?void 0:g.call(n)])}}});const ga=U(Qh),[ev,_e]=L("card"),tv={tag:String,num:z,desc:String,thumb:String,title:String,price:z,centered:Boolean,lazyLoad:Boolean,currency:Y("¥"),thumbLink:String,originPrice:z};var nv=N({name:ev,props:tv,emits:["click-thumb"],setup(e,{slots:t,emit:n}){const o=()=>{if(t.title)return t.title();if(e.title)return s("div",{class:[_e("title"),"van-multi-ellipsis--l2"]},[e.title])},a=()=>{if(t.tag||e.tag)return s("div",{class:_e("tag")},[t.tag?t.tag():s(va,{mark:!0,type:"danger"},{default:()=>[e.tag]})])},r=()=>t.thumb?t.thumb():s(ga,{src:e.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:e.lazyLoad},null),i=()=>{if(t.thumb||e.thumb)return s("a",{href:e.thumbLink,class:_e("thumb"),onClick:d=>n("click-thumb",d)},[r(),a()])},l=()=>{if(t.desc)return t.desc();if(e.desc)return s("div",{class:[_e("desc"),"van-ellipsis"]},[e.desc])},c=()=>{const d=e.price.toString().split(".");return s("div",null,[s("span",{class:_e("price-currency")},[e.currency]),s("span",{class:_e("price-integer")},[d[0]]),Bs("."),s("span",{class:_e("price-decimal")},[d[1]])])};return()=>{var d,u,f;const v=t.num||ie(e.num),p=t.price||ie(e.price),x=t["origin-price"]||ie(e.originPrice),g=v||p||x||t.bottom,h=p&&s("div",{class:_e("price")},[t.price?t.price():c()]),y=x&&s("div",{class:_e("origin-price")},[t["origin-price"]?t["origin-price"]():`${e.currency} ${e.originPrice}`]),m=v&&s("div",{class:_e("num")},[t.num?t.num():`x${e.num}`]),w=t.footer&&s("div",{class:_e("footer")},[t.footer()]),b=g&&s("div",{class:_e("bottom")},[(d=t["price-top"])==null?void 0:d.call(t),h,y,m,(u=t.bottom)==null?void 0:u.call(t)]);return s("div",{class:_e()},[s("div",{class:_e("header")},[i(),s("div",{class:_e("content",{centered:e.centered})},[s("div",null,[o(),l(),(f=t.tags)==null?void 0:f.call(t)]),b])]),w])}}});const ov=U(nv);function av(e,t,n){let o=0;const a=e.scrollLeft,r=n===0?1:Math.round(n*1e3/16);function i(){e.scrollLeft+=(t-a)/r,++o<r&&Ne(i)}i()}function rv(e,t,n,o){let a=Mt(e);const r=a<t,i=n===0?1:Math.round(n*1e3/16),l=(t-a)/i;function c(){a+=l,(r&&a>t||!r&&a<t)&&(a=t),Uo(e,a),r&&a<t||!r&&a>t?Ne(c):o&&Ne(o)}c()}function iv(e,t){if(!Lt||!window.IntersectionObserver)return;const n=new IntersectionObserver(r=>{t(r[0].intersectionRatio>0)},{root:document.body}),o=()=>{e.value&&n.observe(e.value)},a=()=>{e.value&&n.unobserve(e.value)};An(a),en(a),$n(o)}const[sv,lv]=L("sticky"),cv={zIndex:z,position:Y("top"),container:Object,offsetTop:K(0),offsetBottom:K(0)};var uv=N({name:sv,props:cv,emits:["scroll","change"],setup(e,{emit:t,slots:n}){const o=M(),a=Pn(o),r=me({fixed:!1,width:0,height:0,transform:0}),i=R(()=>Dr(e.position==="top"?e.offsetTop:e.offsetBottom)),l=R(()=>{const{fixed:f,height:v,width:p}=r;if(f)return{width:`${p}px`,height:`${v}px`}}),c=R(()=>{if(!r.fixed)return;const f=Z(tn(e.zIndex),{width:`${r.width}px`,height:`${r.height}px`,[e.position]:`${i.value}px`});return r.transform&&(f.transform=`translate3d(0, ${r.transform}px, 0)`),f}),d=f=>t("scroll",{scrollTop:f,isFixed:r.fixed}),u=()=>{if(!o.value||En(o))return;const{container:f,position:v}=e,p=fe(o),x=Mt(window);if(r.width=p.width,r.height=p.height,v==="top")if(f){const g=fe(f),h=g.bottom-i.value-r.height;r.fixed=i.value>p.top&&g.bottom>0,r.transform=h<0?h:0}else r.fixed=i.value>p.top;else{const{clientHeight:g}=document.documentElement;if(f){const h=fe(f),y=g-h.top-i.value-r.height;r.fixed=g-i.value<p.bottom&&g>h.top,r.transform=y<0?-y:0}else r.fixed=g-i.value<p.bottom}d(x)};return q(()=>r.fixed,f=>t("change",f)),Ce("scroll",u,{target:a,passive:!0}),iv(o,u),()=>{var f;return s("div",{ref:o,style:l.value},[s("div",{class:lv({fixed:r.fixed}),style:c.value},[(f=n.default)==null?void 0:f.call(n)])])}}});const Il=U(uv),[dv,Qi]=L("tab");var fv=N({name:dv,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:z,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:V},setup(e,{slots:t}){const n=R(()=>{const a={},{type:r,color:i,disabled:l,isActive:c,activeColor:d,inactiveColor:u}=e;i&&r==="card"&&(a.borderColor=i,l||(c?a.backgroundColor=i:a.color=i));const v=c?d:u;return v&&(a.color=v),a}),o=()=>{const a=s("span",{class:Qi("text",{ellipsis:!e.scrollable})},[t.title?t.title():e.title]);return e.dot||ie(e.badge)&&e.badge!==""?s(on,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[a]}):a};return()=>s("div",{id:e.id,role:"tab",class:[Qi([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:n.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[o()])}});const[Rl,yo]=L("swipe"),hv={loop:V,width:z,height:z,vertical:Boolean,autoplay:K(0),duration:K(500),touchable:V,lazyRender:Boolean,initialSwipe:K(0),indicatorColor:String,showIndicators:V,stopPropagation:V},Ml=Symbol(Rl);var vv=N({name:Rl,props:hv,emits:["change"],setup(e,{emit:t,slots:n}){const o=M(),a=M(),r=me({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),i=yt(),{children:l,linkChildren:c}=Ie(Ml),d=R(()=>l.length),u=R(()=>r[e.vertical?"height":"width"]),f=R(()=>e.vertical?i.deltaY.value:i.deltaX.value),v=R(()=>r.rect?(e.vertical?r.rect.height:r.rect.width)-u.value*d.value:0),p=R(()=>Math.ceil(Math.abs(v.value)/u.value)),x=R(()=>d.value*u.value),g=R(()=>(r.active+d.value)%d.value),h=R(()=>{const A=e.vertical?"vertical":"horizontal";return i.direction.value===A}),y=R(()=>{const A={transitionDuration:`${r.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${r.offset}px)`};if(u.value){const W=e.vertical?"height":"width",j=e.vertical?"width":"height";A[W]=`${x.value}px`,A[j]=e[j]?`${e[j]}px`:""}return A}),m=A=>{const{active:W}=r;return A?e.loop?Oe(W+A,-1,d.value):Oe(W+A,0,p.value):W},w=(A,W=0)=>{let j=A*u.value;e.loop||(j=Math.min(j,-v.value));let te=W-j;return e.loop||(te=Oe(te,v.value,0)),te},b=({pace:A=0,offset:W=0,emitChange:j})=>{if(d.value<=1)return;const{active:te}=r,F=m(A),G=w(F,W);if(e.loop){if(l[0]&&G!==v.value){const P=G<v.value;l[0].setOffset(P?x.value:0)}if(l[d.value-1]&&G!==0){const P=G>0;l[d.value-1].setOffset(P?-x.value:0)}}r.active=F,r.offset=G,j&&F!==te&&t("change",g.value)},S=()=>{r.swiping=!0,r.active<=-1?b({pace:d.value}):r.active>=d.value&&b({pace:-d.value})},C=()=>{S(),i.reset(),It(()=>{r.swiping=!1,b({pace:-1,emitChange:!0})})},O=()=>{S(),i.reset(),It(()=>{r.swiping=!1,b({pace:1,emitChange:!0})})};let T;const E=()=>clearTimeout(T),B=()=>{E(),e.autoplay>0&&d.value>1&&(T=setTimeout(()=>{O(),B()},+e.autoplay))},k=(A=+e.initialSwipe)=>{if(!o.value)return;const W=()=>{var j,te;if(!En(o)){const F={width:o.value.offsetWidth,height:o.value.offsetHeight};r.rect=F,r.width=+((j=e.width)!=null?j:F.width),r.height=+((te=e.height)!=null?te:F.height)}d.value&&(A=Math.min(d.value-1,A)),r.active=A,r.swiping=!0,r.offset=w(A),l.forEach(F=>{F.setOffset(0)}),B()};En(o)?oe().then(W):W()},_=()=>k(r.active);let $;const H=A=>{e.touchable&&(i.start(A),$=Date.now(),E(),S())},D=A=>{e.touchable&&r.swiping&&(i.move(A),h.value&&(!e.loop&&(r.active===0&&f.value>0||r.active===d.value-1&&f.value<0)||(be(A,e.stopPropagation),b({offset:f.value}))))},I=()=>{if(!e.touchable||!r.swiping)return;const A=Date.now()-$,W=f.value/A;if((Math.abs(W)>.25||Math.abs(f.value)>u.value/2)&&h.value){const te=e.vertical?i.offsetY.value:i.offsetX.value;let F=0;e.loop?F=te>0?f.value>0?-1:1:0:F=-Math[f.value>0?"ceil":"floor"](f.value/u.value),b({pace:F,emitChange:!0})}else f.value&&b({pace:0});r.swiping=!1,B()},X=(A,W={})=>{S(),i.reset(),It(()=>{let j;e.loop&&A===d.value?j=r.active===0?0:A:j=A%d.value,W.immediate?It(()=>{r.swiping=!1}):r.swiping=!1,b({pace:j-r.active,emitChange:!0})})},J=(A,W)=>{const j=W===g.value,te=j?{backgroundColor:e.indicatorColor}:void 0;return s("i",{style:te,class:yo("indicator",{active:j})},null)},ne=()=>{if(n.indicator)return n.indicator({active:g.value,total:d.value});if(e.showIndicators&&d.value>1)return s("div",{class:yo("indicators",{vertical:e.vertical})},[Array(d.value).fill("").map(J)])};return le({prev:C,next:O,state:r,resize:_,swipeTo:X}),c({size:u,props:e,count:d,activeIndicator:g}),q(()=>e.initialSwipe,A=>k(+A)),q(d,()=>k(r.active)),q(()=>e.autoplay,B),q([aa,On],_),q(Sd(),A=>{A==="visible"?B():E()}),Ae(k),ao(()=>k(r.active)),ia(()=>k(r.active)),An(E),en(E),Ce("touchmove",D,{target:a}),()=>{var A;return s("div",{ref:o,class:yo()},[s("div",{ref:a,style:y.value,class:yo("track",{vertical:e.vertical}),onTouchstartPassive:H,onTouchend:I,onTouchcancel:I},[(A=n.default)==null?void 0:A.call(n)]),ne()])}}});const Yr=U(vv),[mv,es]=L("tabs");var gv=N({name:mv,props:{count:xe(Number),inited:Boolean,animated:Boolean,duration:xe(z),swipeable:Boolean,lazyRender:Boolean,currentIndex:xe(Number)},emits:["change"],setup(e,{emit:t,slots:n}){const o=M(),a=l=>t("change",l),r=()=>{var l;const c=(l=n.default)==null?void 0:l.call(n);return e.animated||e.swipeable?s(Yr,{ref:o,loop:!1,class:es("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:a},{default:()=>[c]}):c},i=l=>{const c=o.value;c&&c.state.active!==l&&c.swipeTo(l,{immediate:!e.inited})};return q(()=>e.currentIndex,i),Ae(()=>{i(e.currentIndex)}),le({swipeRef:o}),()=>s("div",{class:es("content",{animated:e.animated||e.swipeable})},[r()])}});const[Vl,po]=L("tabs"),bv={type:Y("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:K(0),duration:K(.3),animated:Boolean,ellipsis:V,swipeable:Boolean,scrollspy:Boolean,offsetTop:K(0),background:String,lazyRender:V,lineWidth:z,lineHeight:z,beforeChange:Function,swipeThreshold:K(5),titleActiveColor:String,titleInactiveColor:String},Nl=Symbol(Vl);var yv=N({name:Vl,props:bv,emits:["click","change","scroll","disabled","rendered","click-tab","update:active"],setup(e,{emit:t,slots:n}){let o,a,r;const i=M(),l=M(),c=M(),d=M(),u=Dn(),f=Pn(i),[v,p]=ma(),{children:x,linkChildren:g}=Ie(Nl),h=me({inited:!1,position:"",lineStyle:{},currentIndex:-1}),y=R(()=>x.length>e.swipeThreshold||!e.ellipsis||e.shrink),m=R(()=>({borderColor:e.color,background:e.background})),w=(F,G)=>{var P;return(P=F.name)!=null?P:G},b=R(()=>{const F=x[h.currentIndex];if(F)return w(F,h.currentIndex)}),S=R(()=>Dr(e.offsetTop)),C=R(()=>e.sticky?S.value+o:0),O=F=>{const G=l.value,P=v.value;if(!y.value||!G||!P||!P[h.currentIndex])return;const ee=P[h.currentIndex].$el,Q=ee.offsetLeft-(G.offsetWidth-ee.offsetWidth)/2;av(G,Q,F?0:+e.duration)},T=()=>{const F=h.inited;oe(()=>{const G=v.value;if(!G||!G[h.currentIndex]||e.type!=="line"||En(i.value))return;const P=G[h.currentIndex].$el,{lineWidth:ee,lineHeight:Q}=e,re=P.offsetLeft+P.offsetWidth/2,he={width:ce(ee),backgroundColor:e.color,transform:`translateX(${re}px) translateX(-50%)`};if(F&&(he.transitionDuration=`${e.duration}s`),ie(Q)){const ge=ce(Q);he.height=ge,he.borderRadius=ge}h.lineStyle=he})},E=F=>{const G=F<h.currentIndex?-1:1;for(;F>=0&&F<x.length;){if(!x[F].disabled)return F;F+=G}},B=(F,G)=>{const P=E(F);if(!ie(P))return;const ee=x[P],Q=w(ee,P),re=h.currentIndex!==null;h.currentIndex!==P&&(h.currentIndex=P,G||O(),T()),Q!==e.active&&(t("update:active",Q),re&&t("change",Q,ee.title)),r&&!e.scrollspy&&oa(Math.ceil(Mi(i.value)-S.value))},k=(F,G)=>{const P=x.find((Q,re)=>w(Q,re)===F),ee=P?x.indexOf(P):0;B(ee,G)},_=(F=!1)=>{if(e.scrollspy){const G=x[h.currentIndex].$el;if(G&&f.value){const P=Mi(G,f.value)-C.value;a=!0,rv(f.value,P,F?0:+e.duration,()=>{a=!1})}}},$=(F,G,P)=>{const{title:ee,disabled:Q}=x[G],re=w(x[G],G);Q?t("disabled",re,ee):(Ut(e.beforeChange,{args:[re],done:()=>{B(G),_()}}),t("click",re,ee),hl(F)),t("click-tab",{name:re,title:ee,event:P,disabled:Q})},H=F=>{r=F.isFixed,t("scroll",F)},D=F=>{oe(()=>{k(F),_(!0)})},I=()=>{for(let F=0;F<x.length;F++){const{top:G}=fe(x[F].$el);if(G>C.value)return F===0?0:F-1}return x.length-1},X=()=>{if(e.scrollspy&&!a){const F=I();B(F)}},J=()=>x.map((F,G)=>s(fv,se({key:F.id,id:`${u}-${G}`,ref:p(G),type:e.type,color:e.color,style:F.titleStyle,class:F.titleClass,shrink:e.shrink,isActive:G===h.currentIndex,controls:F.id,scrollable:y.value,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:P=>$(F,G,P)},de(F,["dot","badge","title","disabled","showZeroBadge"])),{title:F.$slots.title})),ne=()=>{if(e.type==="line"&&x.length)return s("div",{class:po("line"),style:h.lineStyle},null)},A=()=>{var F,G,P;const{type:ee,border:Q,sticky:re}=e,he=[s("div",{ref:re?void 0:c,class:[po("wrap"),{[ra]:ee==="line"&&Q}]},[s("div",{ref:l,role:"tablist",class:po("nav",[ee,{shrink:e.shrink,complete:y.value}]),style:m.value,"aria-orientation":"horizontal"},[(F=n["nav-left"])==null?void 0:F.call(n),J(),ne(),(G=n["nav-right"])==null?void 0:G.call(n)])]),(P=n["nav-bottom"])==null?void 0:P.call(n)];return re?s("div",{ref:c},[he]):he};q([()=>e.color,aa],T),q(()=>e.active,F=>{F!==b.value&&k(F)}),q(()=>x.length,()=>{h.inited&&(k(e.active),T(),oe(()=>{O(!0)}))});const W=()=>{k(e.active,!0),oe(()=>{h.inited=!0,c.value&&(o=fe(c.value).height),O(!0)})},j=(F,G)=>t("rendered",F,G);return le({resize:()=>{T(),oe(()=>{var F,G;return(G=(F=d.value)==null?void 0:F.swipeRef.value)==null?void 0:G.resize()})},scrollTo:D}),ao(T),ia(T),$n(W),Ce("scroll",X,{target:f,passive:!0}),g({id:u,props:e,setLine:T,onRendered:j,currentName:b,scrollIntoView:O}),()=>s("div",{ref:i,class:po([e.type])},[e.sticky?s(Il,{container:i.value,offsetTop:S.value,onScroll:H},{default:()=>[A()]}):A(),s(gv,{ref:d,count:x.length,inited:h.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:h.currentIndex,onChange:B},{default:()=>{var F;return[(F=n.default)==null?void 0:F.call(n)]}})])}});const Ll=Symbol(),pv=()=>oo(Ll,null),[wv,xv]=L("swipe-item");var Sv=N({name:wv,setup(e,{slots:t}){let n;const o=me({offset:0,inited:!1,mounted:!1}),{parent:a,index:r}=Pe(Ml);if(!a)return;const i=R(()=>{const d={},{vertical:u}=a.props;return a.size.value&&(d[u?"height":"width"]=`${a.size.value}px`),o.offset&&(d.transform=`translate${u?"Y":"X"}(${o.offset}px)`),d}),l=R(()=>{const{loop:d,lazyRender:u}=a.props;if(!u||n)return!0;if(!o.mounted)return!1;const f=a.activeIndicator.value,v=a.count.value-1,p=f===0&&d?v:f-1,x=f===v&&d?0:f+1;return n=r.value===f||r.value===p||r.value===x,n}),c=d=>{o.offset=d};return Ae(()=>{oe(()=>{o.mounted=!0})}),le({setOffset:c}),()=>{var d;return s("div",{class:xv(),style:i.value},[l.value?(d=t.default)==null?void 0:d.call(t):null])}}});const qr=U(Sv),[Cv,_a]=L("tab"),kv=Z({},jt,{dot:Boolean,name:z,badge:z,title:String,disabled:Boolean,titleClass:ve,titleStyle:[String,Object],showZeroBadge:V});var Tv=N({name:Cv,props:kv,setup(e,{slots:t}){const n=Dn(),o=M(!1),{parent:a,index:r}=Pe(Nl);if(!a)return;const i=()=>{var u;return(u=e.name)!=null?u:r.value},l=()=>{o.value=!0,a.props.lazyRender&&oe(()=>{a.onRendered(i(),e.title)})},c=R(()=>{const u=i()===a.currentName.value;return u&&!o.value&&l(),u}),d=M(!c.value);return q(c,u=>{u?d.value=!1:It(()=>{d.value=!0})}),q(()=>e.title,()=>{a.setLine(),a.scrollIntoView()}),ro(Ll,c),()=>{var u;const f=`${a.id}-${r.value}`,{animated:v,swipeable:p,scrollspy:x,lazyRender:g}=a.props;if(!t.default&&!v)return;const h=x||c.value;if(v||p)return s(qr,{id:n,role:"tabpanel",class:_a("panel-wrapper",{inactive:d.value}),tabindex:c.value?0:-1,"aria-hidden":!c.value,"aria-labelledby":f},{default:()=>{var w;return[s("div",{class:_a("panel")},[(w=t.default)==null?void 0:w.call(t)])]}});const m=o.value||x||!g?(u=t.default)==null?void 0:u.call(t):null;return le({id:n}),$e(s("div",{id:n,role:"tabpanel",class:_a("panel"),tabindex:h?0:-1,"aria-labelledby":f},[m]),[[De,h]])}}});const Ko=U(Tv),Kr=U(yv),[Ev,St,Ov]=L("cascader"),Bv={title:String,options:Te(),closeable:V,swipeable:V,closeIcon:Y("cross"),showHeader:V,modelValue:z,fieldNames:Object,placeholder:String,activeColor:String};var Av=N({name:Ev,props:Bv,emits:["close","change","finish","click-tab","update:modelValue"],setup(e,{slots:t,emit:n}){const o=M([]),a=M(0),{text:r,value:i,children:l}=Z({text:"text",value:"value",children:"children"},e.fieldNames),c=(m,w)=>{for(const b of m){if(b[i]===w)return[b];if(b[l]){const S=c(b[l],w);if(S)return[b,...S]}}},d=()=>{const{options:m,modelValue:w}=e;if(w!==void 0){const b=c(m,w);if(b){let S=m;o.value=b.map(C=>{const O={options:S,selected:C},T=S.find(E=>E[i]===C[i]);return T&&(S=T[l]),O}),S&&o.value.push({options:S,selected:null}),oe(()=>{a.value=o.value.length-1});return}}o.value=[{options:m,selected:null}]},u=(m,w)=>{if(m.disabled)return;if(o.value[w].selected=m,o.value.length>w+1&&(o.value=o.value.slice(0,w+1)),m[l]){const C={options:m[l],selected:null};o.value[w+1]?o.value[w+1]=C:o.value.push(C),oe(()=>{a.value++})}const b=o.value.map(C=>C.selected).filter(Boolean);n("update:modelValue",m[i]);const S={value:m[i],tabIndex:w,selectedOptions:b};n("change",S),m[l]||n("finish",S)},f=()=>n("close"),v=({name:m,title:w})=>n("click-tab",m,w),p=()=>e.showHeader?s("div",{class:St("header")},[s("h2",{class:St("title")},[t.title?t.title():e.title]),e.closeable?s(ae,{name:e.closeIcon,class:[St("close-icon"),Le],onClick:f},null):null]):null,x=(m,w,b)=>{const{disabled:S}=m,C=!!(w&&m[i]===w[i]),O=m.color||(C?e.activeColor:void 0),T=t.option?t.option({option:m,selected:C}):s("span",null,[m[r]]);return s("li",{role:"menuitemradio",class:[St("option",{selected:C,disabled:S}),m.className],style:{color:O},tabindex:S?void 0:C?0:-1,"aria-checked":C,"aria-disabled":S||void 0,onClick:()=>u(m,b)},[T,C?s(ae,{name:"success",class:St("selected-icon")},null):null])},g=(m,w,b)=>s("ul",{role:"menu",class:St("options")},[m.map(S=>x(S,w,b))]),h=(m,w)=>{const{options:b,selected:S}=m,C=e.placeholder||Ov("select"),O=S?S[r]:C;return s(Ko,{title:O,titleClass:St("tab",{unselected:!S})},{default:()=>{var T,E;return[(T=t["options-top"])==null?void 0:T.call(t,{tabIndex:w}),g(b,S,w),(E=t["options-bottom"])==null?void 0:E.call(t,{tabIndex:w})]}})},y=()=>s(Kr,{active:a.value,"onUpdate:active":m=>a.value=m,shrink:!0,animated:!0,class:St("tabs"),color:e.activeColor,swipeable:e.swipeable,"onClick-tab":v},{default:()=>[o.value.map(h)]});return d(),q(()=>e.options,d,{deep:!0}),q(()=>e.modelValue,m=>{m!==void 0&&o.value.map(b=>{var S;return(S=b.selected)==null?void 0:S[i]}).includes(m)||d()}),()=>s("div",{class:St()},[p(),y()])}});const $v=U(Av),[Pv,ts]=L("cell-group"),_v={title:String,inset:Boolean,border:V};var Dv=N({name:Pv,inheritAttrs:!1,props:_v,setup(e,{slots:t,attrs:n}){const o=()=>{var r;return s("div",se({class:[ts({inset:e.inset}),{[ra]:e.border&&!e.inset}]},n),[(r=t.default)==null?void 0:r.call(t)])},a=()=>s("div",{class:ts("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?s(pn,null,[a(),o()]):o()}});const Iv=U(Dv),[Fl,Rv]=L("checkbox-group"),Mv={max:z,disabled:Boolean,iconSize:z,direction:String,modelValue:Te(),checkedColor:String},Hl=Symbol(Fl);var Vv=N({name:Fl,props:Mv,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{children:o,linkChildren:a}=Ie(Hl),r=l=>t("update:modelValue",l),i=(l={})=>{typeof l=="boolean"&&(l={checked:l});const{checked:c,skipDisabled:d}=l,f=o.filter(v=>v.props.bindGroup?v.props.disabled&&d?v.checked.value:c??!v.checked.value:!1).map(v=>v.name);r(f)};return q(()=>e.modelValue,l=>t("change",l)),le({toggleAll:i}),Ht(()=>e.modelValue),a({props:e,updateValue:r}),()=>{var l;return s("div",{class:Rv([e.direction])},[(l=n.default)==null?void 0:l.call(n)])}}});const[Nv,Lv]=L("checkbox"),Fv=Z({},Wr,{bindGroup:V});var Hv=N({name:Nv,props:Fv,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{parent:o}=Pe(Hl),a=l=>{const{name:c}=e,{max:d,modelValue:u}=o.props,f=u.slice();if(l)!(d&&f.length>=d)&&!f.includes(c)&&(f.push(c),e.bindGroup&&o.updateValue(f));else{const v=f.indexOf(c);v!==-1&&(f.splice(v,1),e.bindGroup&&o.updateValue(f))}},r=R(()=>o&&e.bindGroup?o.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),i=(l=!r.value)=>{o&&e.bindGroup?a(l):t("update:modelValue",l)};return q(()=>e.modelValue,l=>t("change",l)),le({toggle:i,props:e,checked:r}),Ht(()=>e.modelValue),()=>s(Bl,se({bem:Lv,role:"checkbox",parent:o,checked:r.value,onToggle:i},e),de(n,["default","icon"]))}});const zl=U(Hv),zv=U(Vv),[Wv,wo]=L("circle");let Uv=0;const ns=e=>Math.min(Math.max(+e,0),100);function jv(e,t){const n=e?1:0;return`M ${t/2} ${t/2} m 0, -500 a 500, 500 0 1, ${n} 0, 1000 a 500, 500 0 1, ${n} 0, -1000`}const Yv={text:String,size:z,fill:Y("none"),rate:K(100),speed:K(0),color:[String,Object],clockwise:V,layerColor:String,currentRate:vt(0),strokeWidth:K(40),strokeLinecap:String,startPosition:Y("top")};var qv=N({name:Wv,props:Yv,emits:["update:currentRate"],setup(e,{emit:t,slots:n}){const o=`van-circle-${Uv++}`,a=R(()=>+e.strokeWidth+1e3),r=R(()=>jv(e.clockwise,a.value)),i=R(()=>{const v={top:0,right:90,bottom:180,left:270}[e.startPosition];if(v)return{transform:`rotate(${v}deg)`}});q(()=>e.rate,f=>{let v;const p=Date.now(),x=e.currentRate,g=ns(f),h=Math.abs((x-g)*1e3/+e.speed),y=()=>{const m=Date.now(),b=Math.min((m-p)/h,1)*(g-x)+x;t("update:currentRate",ns(parseFloat(b.toFixed(1)))),(g>x?b<g:b>g)&&(v=Ne(y))};e.speed?(v&&Zs(v),v=Ne(y)):t("update:currentRate",g)},{immediate:!0});const l=()=>{const{strokeWidth:v,currentRate:p,strokeLinecap:x}=e,g=3140*p/100,h=Ye(e.color)?`url(#${o})`:e.color,y={stroke:h,strokeWidth:`${+v+1}px`,strokeLinecap:x,strokeDasharray:`${g}px 3140px`};return s("path",{d:r.value,style:y,class:wo("hover"),stroke:h},null)},c=()=>{const f={fill:e.fill,stroke:e.layerColor,strokeWidth:`${e.strokeWidth}px`};return s("path",{class:wo("layer"),style:f,d:r.value},null)},d=()=>{const{color:f}=e;if(!Ye(f))return;const v=Object.keys(f).sort((p,x)=>parseFloat(p)-parseFloat(x)).map((p,x)=>s("stop",{key:x,offset:p,"stop-color":f[p]},null));return s("defs",null,[s("linearGradient",{id:o,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[v])])},u=()=>{if(n.default)return n.default();if(e.text)return s("div",{class:wo("text")},[e.text])};return()=>s("div",{class:wo(),style:zt(e.size)},[s("svg",{viewBox:`0 0 ${a.value} ${a.value}`,style:i.value},[d(),c(),l()]),u()])}});const Kv=U(qv),[Wl,Xv]=L("row"),Ul=Symbol(Wl),Gv={tag:Y("div"),wrap:V,align:String,gutter:K(0),justify:String};var Zv=N({name:Wl,props:Gv,setup(e,{slots:t}){const{children:n,linkChildren:o}=Ie(Ul),a=R(()=>{const i=[[]];let l=0;return n.forEach((c,d)=>{l+=Number(c.span),l>24?(i.push([d]),l-=24):i[i.length-1].push(d)}),i}),r=R(()=>{const i=Number(e.gutter),l=[];return i&&a.value.forEach(c=>{const d=i*(c.length-1)/c.length;c.forEach((u,f)=>{if(f===0)l.push({right:d});else{const v=i-l[u-1].right,p=d-v;l.push({left:v,right:p})}})}),l});return o({spaces:r}),()=>{const{tag:i,wrap:l,align:c,justify:d}=e;return s(i,{class:Xv({[`align-${c}`]:c,[`justify-${d}`]:d,nowrap:!l})},{default:()=>{var u;return[(u=t.default)==null?void 0:u.call(t)]}})}}});const[Jv,Qv]=L("col"),em={tag:Y("div"),span:K(0),offset:z};var tm=N({name:Jv,props:em,setup(e,{slots:t}){const{parent:n,index:o}=Pe(Ul),a=R(()=>{if(!n)return;const{spaces:r}=n;if(r&&r.value&&r.value[o.value]){const{left:i,right:l}=r.value[o.value];return{paddingLeft:i?`${i}px`:null,paddingRight:l?`${l}px`:null}}});return()=>{const{tag:r,span:i,offset:l}=e;return s(r,{style:a.value,class:Qv({[i]:i,[`offset-${l}`]:l})},{default:()=>{var c;return[(c=t.default)==null?void 0:c.call(t)]}})}}});const nm=U(tm),[jl,om]=L("collapse"),Yl=Symbol(jl),am={border:V,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};var rm=N({name:jl,props:am,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:o,children:a}=Ie(Yl),r=d=>{t("change",d),t("update:modelValue",d)},i=(d,u)=>{const{accordion:f,modelValue:v}=e;r(f?d===v?"":d:u?v.concat(d):v.filter(p=>p!==d))},l=(d={})=>{if(e.accordion)return;typeof d=="boolean"&&(d={expanded:d});const{expanded:u,skipDisabled:f}=d,p=a.filter(x=>x.disabled&&f?x.expanded.value:u??!x.expanded.value).map(x=>x.itemName.value);r(p)},c=d=>{const{accordion:u,modelValue:f}=e;return u?f===d:f.includes(d)};return le({toggleAll:l}),o({toggle:i,isExpanded:c}),()=>{var d;return s("div",{class:[om(),{[ra]:e.border}]},[(d=n.default)==null?void 0:d.call(n)])}}});const im=U(rm),[sm,xo]=L("collapse-item"),lm=["icon","title","value","label","right-icon"],cm=Z({},ua,{name:z,isLink:V,disabled:Boolean,readonly:Boolean,lazyRender:V});var um=N({name:sm,props:cm,setup(e,{slots:t}){const n=M(),o=M(),{parent:a,index:r}=Pe(Yl);if(!a)return;const i=R(()=>{var g;return(g=e.name)!=null?g:r.value}),l=R(()=>a.isExpanded(i.value)),c=M(l.value),d=Vr(()=>c.value||!e.lazyRender),u=()=>{l.value?n.value&&(n.value.style.height=""):c.value=!1};q(l,(g,h)=>{if(h===null)return;g&&(c.value=!0),(g?oe:Ne)(()=>{if(!o.value||!n.value)return;const{offsetHeight:m}=o.value;if(m){const w=`${m}px`;n.value.style.height=g?"0":w,It(()=>{n.value&&(n.value.style.height=g?w:"0")})}else u()})});const f=(g=!l.value)=>{a.toggle(i.value,g)},v=()=>{!e.disabled&&!e.readonly&&f()},p=()=>{const{border:g,disabled:h,readonly:y}=e,m=de(e,Object.keys(ua));return y&&(m.isLink=!1),(h||y)&&(m.clickable=!1),s(lt,se({role:"button",class:xo("title",{disabled:h,expanded:l.value,borderless:!g}),"aria-expanded":String(l.value),onClick:v},m),de(t,lm))},x=d(()=>{var g;return $e(s("div",{ref:n,class:xo("wrapper"),onTransitionend:u},[s("div",{ref:o,class:xo("content")},[(g=t.default)==null?void 0:g.call(t)])]),[[De,c.value]])});return le({toggle:f,expanded:l,itemName:i}),()=>s("div",{class:[xo({border:r.value&&e.border})]},[p(),x()])}});const dm=U(um),fm=U(qd),[hm,os,Da]=L("contact-card"),vm={tel:String,name:String,type:Y("add"),addText:String,editable:V};var mm=N({name:hm,props:vm,emits:["click"],setup(e,{emit:t}){const n=a=>{e.editable&&t("click",a)},o=()=>e.type==="add"?e.addText||Da("addContact"):[s("div",null,[`${Da("name")}：${e.name}`]),s("div",null,[`${Da("tel")}：${e.tel}`])];return()=>s(lt,{center:!0,icon:e.type==="edit"?"contact":"add-square",class:os([e.type]),border:!1,isLink:e.editable,valueClass:os("value"),onClick:n},{value:o})}});const gm=U(mm),[bm,un,At]=L("contact-edit"),fr={tel:"",name:""},ym={isEdit:Boolean,isSaving:Boolean,isDeleting:Boolean,showSetDefault:Boolean,setDefaultLabel:String,contactInfo:{type:Object,default:()=>Z({},fr)},telValidator:{type:Function,default:Xs}};var pm=N({name:bm,props:ym,emits:["save","delete","change-default"],setup(e,{emit:t}){const n=me(Z({},fr,e.contactInfo)),o=()=>{e.isSaving||t("save",n)},a=()=>t("delete",n),r=()=>s("div",{class:un("buttons")},[s(Fe,{block:!0,round:!0,type:"danger",text:At("save"),class:un("button"),loading:e.isSaving,nativeType:"submit"},null),e.isEdit&&s(Fe,{block:!0,round:!0,text:At("delete"),class:un("button"),loading:e.isDeleting,onClick:a},null)]),i=()=>s(Hr,{modelValue:n.isDefault,"onUpdate:modelValue":c=>n.isDefault=c,size:24,onChange:c=>t("change-default",c)},null),l=()=>{if(e.showSetDefault)return s(lt,{title:e.setDefaultLabel,class:un("switch-cell"),border:!1},{"right-icon":i})};return q(()=>e.contactInfo,c=>Z(n,fr,c)),()=>s(Nr,{class:un(),onSubmit:o},{default:()=>[s("div",{class:un("fields")},[s(ft,{modelValue:n.name,"onUpdate:modelValue":c=>n.name=c,clearable:!0,label:At("name"),rules:[{required:!0,message:At("nameEmpty")}],maxlength:"30",placeholder:At("name")},null),s(ft,{modelValue:n.tel,"onUpdate:modelValue":c=>n.tel=c,clearable:!0,type:"tel",label:At("tel"),rules:[{validator:e.telValidator,message:At("telInvalid")}],placeholder:At("tel")},null)]),l(),r()]})}});const wm=U(pm),[xm,Ct,Sm]=L("contact-list"),Cm={list:Array,addText:String,modelValue:ve,defaultTagText:String};var km=N({name:xm,props:Cm,emits:["add","edit","select","update:modelValue"],setup(e,{emit:t}){const n=(o,a)=>{const r=()=>{t("update:modelValue",o.id),t("select",o,a)},i=()=>s(Ur,{class:Ct("radio"),name:o.id,iconSize:16},null),l=()=>s(ae,{name:"edit",class:Ct("edit"),onClick:d=>{d.stopPropagation(),t("edit",o,a)}},null),c=()=>{const d=[`${o.name}，${o.tel}`];return o.isDefault&&e.defaultTagText&&d.push(s(va,{type:"danger",round:!0,class:Ct("item-tag")},{default:()=>[e.defaultTagText]})),d};return s(lt,{key:o.id,isLink:!0,center:!0,class:Ct("item"),valueClass:Ct("item-value"),onClick:r},{icon:l,value:c,"right-icon":i})};return()=>s("div",{class:Ct()},[s(zr,{modelValue:e.modelValue,class:Ct("group")},{default:()=>[e.list&&e.list.map(n)]}),s("div",{class:[Ct("bottom"),"van-safe-area-bottom"]},[s(Fe,{round:!0,block:!0,type:"danger",class:Ct("add"),text:e.addText||Sm("addContact"),onClick:()=>t("add")},null)])])}});const Tm=U(km);function Em(e,t){const{days:n}=t;let{hours:o,minutes:a,seconds:r,milliseconds:i}=t;if(e.includes("DD")?e=e.replace("DD",Ee(n)):o+=n*24,e.includes("HH")?e=e.replace("HH",Ee(o)):a+=o*60,e.includes("mm")?e=e.replace("mm",Ee(a)):r+=a*60,e.includes("ss")?e=e.replace("ss",Ee(r)):i+=r*1e3,e.includes("S")){const l=Ee(i,3);e.includes("SSS")?e=e.replace("SSS",l):e.includes("SS")?e=e.replace("SS",l.slice(0,2)):e=e.replace("S",l.charAt(0))}return e}const[Om,Bm]=L("count-down"),Am={time:K(0),format:Y("HH:mm:ss"),autoStart:V,millisecond:Boolean};var $m=N({name:Om,props:Am,emits:["change","finish"],setup(e,{emit:t,slots:n}){const{start:o,pause:a,reset:r,current:i}=yd({time:+e.time,millisecond:e.millisecond,onChange:d=>t("change",d),onFinish:()=>t("finish")}),l=R(()=>Em(e.format,i.value)),c=()=>{r(+e.time),e.autoStart&&o()};return q(()=>e.time,c,{immediate:!0}),le({start:o,pause:a,reset:c}),()=>s("div",{role:"timer",class:Bm()},[n.default?n.default(i.value):l.value])}});const Pm=U($m);function as(e){const t=new Date(e*1e3);return`${t.getFullYear()}.${Ee(t.getMonth()+1)}.${Ee(t.getDate())}`}const _m=e=>(e/10).toFixed(e%10===0?0:1),rs=e=>(e/100).toFixed(e%100===0?0:e%10===0?1:2),[Dm,ut,Ia]=L("coupon");var Im=N({name:Dm,props:{chosen:Boolean,coupon:xe(Object),disabled:Boolean,currency:Y("¥")},setup(e){const t=R(()=>{const{startAt:a,endAt:r}=e.coupon;return`${as(a)} - ${as(r)}`}),n=R(()=>{const{coupon:a,currency:r}=e;if(a.valueDesc)return[a.valueDesc,s("span",null,[a.unitDesc||""])];if(a.denominations){const i=rs(a.denominations);return[s("span",null,[r]),` ${i}`]}return a.discount?Ia("discount",_m(a.discount)):""}),o=R(()=>{const a=rs(e.coupon.originCondition||0);return a==="0"?Ia("unlimited"):Ia("condition",a)});return()=>{const{chosen:a,coupon:r,disabled:i}=e,l=i&&r.reason||r.description;return s("div",{class:ut({disabled:i})},[s("div",{class:ut("content")},[s("div",{class:ut("head")},[s("h2",{class:ut("amount")},[n.value]),s("p",{class:ut("condition")},[r.condition||o.value])]),s("div",{class:ut("body")},[s("p",{class:ut("name")},[r.name]),s("p",{class:ut("valid")},[t.value]),!i&&s(zl,{class:ut("corner"),modelValue:a},null)])]),l&&s("p",{class:ut("description")},[l])])}}});const hr=U(Im),[Rm,is,vr]=L("coupon-cell"),Mm={title:String,border:V,editable:V,coupons:Te(),currency:Y("¥"),chosenCoupon:K(-1)};function Vm({coupons:e,chosenCoupon:t,currency:n}){const o=e[+t];if(o){let a=0;return ie(o.value)?{value:a}=o:ie(o.denominations)&&(a=o.denominations),`-${n} ${(a/100).toFixed(2)}`}return e.length===0?vr("noCoupon"):vr("count",e.length)}var Nm=N({name:Rm,props:Mm,setup(e){return()=>{const t=e.coupons[+e.chosenCoupon];return s(lt,{class:is(),value:Vm(e),title:e.title||vr("title"),border:e.border,isLink:e.editable,valueClass:is("value",{selected:t})},null)}}});const Lm=U(Nm),[Fm,So]=L("empty"),Hm={image:Y("default"),imageSize:[Number,String,Array],description:String};var zm=N({name:Fm,props:Hm,setup(e,{slots:t}){const n=()=>{const y=t.description?t.description():e.description;if(y)return s("p",{class:So("description")},[y])},o=()=>{if(t.default)return s("div",{class:So("bottom")},[t.default()])},a=Dn(),r=y=>`${a}-${y}`,i=y=>`url(#${r(y)})`,l=(y,m,w)=>s("stop",{"stop-color":y,offset:`${m}%`,"stop-opacity":w},null),c=(y,m)=>[l(y,0),l(m,100)],d=y=>[s("defs",null,[s("radialGradient",{id:r(y),cx:"50%",cy:"54%",fx:"50%",fy:"54%",r:"297%",gradientTransform:"matrix(-.16 0 0 -.33 .58 .72)"},[l("#EBEDF0",0),l("#F2F3F5",100,.3)])]),s("ellipse",{fill:i(y),opacity:".8",cx:"80",cy:"140",rx:"46",ry:"8"},null)],u=()=>[s("defs",null,[s("linearGradient",{id:r("a"),x1:"64%",y1:"100%",x2:"64%"},[l("#FFF",0,.5),l("#F2F3F5",100)])]),s("g",{opacity:".8"},[s("path",{d:"M36 131V53H16v20H2v58h34z",fill:i("a")},null),s("path",{d:"M123 15h22v14h9v77h-31V15z",fill:i("a")},null)])],f=()=>[s("defs",null,[s("linearGradient",{id:r("b"),x1:"64%",y1:"97%",x2:"64%",y2:"0%"},[l("#F2F3F5",0,.3),l("#F2F3F5",100)])]),s("g",{opacity:".8"},[s("path",{d:"M87 6c3 0 7 3 8 6a8 8 0 1 1-1 16H80a7 7 0 0 1-8-6c0-4 3-7 6-7 0-5 4-9 9-9Z",fill:i("b")},null),s("path",{d:"M19 23c2 0 3 1 4 3 2 0 4 2 4 4a4 4 0 0 1-4 3v1h-7v-1l-1 1c-2 0-3-2-3-4 0-1 1-3 3-3 0-2 2-4 4-4Z",fill:i("b")},null)])],v=()=>s("svg",{viewBox:"0 0 160 160"},[s("defs",null,[s("linearGradient",{id:r(1),x1:"64%",y1:"100%",x2:"64%"},[l("#FFF",0,.5),l("#F2F3F5",100)]),s("linearGradient",{id:r(2),x1:"50%",x2:"50%",y2:"84%"},[l("#EBEDF0",0),l("#DCDEE0",100,0)]),s("linearGradient",{id:r(3),x1:"100%",x2:"100%",y2:"100%"},[c("#EAEDF0","#DCDEE0")]),s("radialGradient",{id:r(4),cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[l("#EBEDF0",0),l("#FFF",100,0)])]),s("g",{fill:"none"},[u(),s("path",{fill:i(4),d:"M0 139h160v21H0z"},null),s("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:i(2)},null),s("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7"},[s("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:i(3)},null),s("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:i(3)},null),s("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:i(3)},null),s("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:i(3)},null)]),s("g",{transform:"translate(31 105)"},[s("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),s("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),s("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),p=()=>s("svg",{viewBox:"0 0 160 160"},[s("defs",null,[s("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:r(5)},[c("#F2F3F5","#DCDEE0")]),s("linearGradient",{x1:"95%",y1:"48%",x2:"5.5%",y2:"51%",id:r(6)},[c("#EAEDF1","#DCDEE0")]),s("linearGradient",{y1:"45%",x2:"100%",y2:"54%",id:r(7)},[c("#EAEDF1","#DCDEE0")])]),u(),f(),s("g",{transform:"translate(36 50)",fill:"none"},[s("g",{transform:"translate(8)"},[s("rect",{fill:"#EBEDF0",opacity:".6",x:"38",y:"13",width:"36",height:"53",rx:"2"},null),s("rect",{fill:i(5),width:"64",height:"66",rx:"2"},null),s("rect",{fill:"#FFF",x:"6",y:"6",width:"52",height:"55",rx:"1"},null),s("g",{transform:"translate(15 17)",fill:i(6)},[s("rect",{width:"34",height:"6",rx:"1"},null),s("path",{d:"M0 14h34v6H0z"},null),s("rect",{y:"28",width:"34",height:"6",rx:"1"},null)])]),s("rect",{fill:i(7),y:"61",width:"88",height:"28",rx:"1"},null),s("rect",{fill:"#F7F8FA",x:"29",y:"72",width:"30",height:"6",rx:"1"},null)])]),x=()=>s("svg",{viewBox:"0 0 160 160"},[s("defs",null,[s("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:r(8)},[c("#EAEDF1","#DCDEE0")])]),u(),f(),d("c"),s("path",{d:"m59 60 21 21 21-21h3l9 9v3L92 93l21 21v3l-9 9h-3l-21-21-21 21h-3l-9-9v-3l21-21-21-21v-3l9-9h3Z",fill:i(8)},null)]),g=()=>s("svg",{viewBox:"0 0 160 160"},[s("defs",null,[s("linearGradient",{x1:"50%",y1:"100%",x2:"50%",id:r(9)},[c("#EEE","#D8D8D8")]),s("linearGradient",{x1:"100%",y1:"50%",y2:"50%",id:r(10)},[c("#F2F3F5","#DCDEE0")]),s("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:r(11)},[c("#F2F3F5","#DCDEE0")]),s("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:r(12)},[c("#FFF","#F7F8FA")])]),u(),f(),d("d"),s("g",{transform:"rotate(-45 113 -4)",fill:"none"},[s("rect",{fill:i(9),x:"24",y:"52.8",width:"5.8",height:"19",rx:"1"},null),s("rect",{fill:i(10),x:"22.1",y:"67.3",width:"9.9",height:"28",rx:"1"},null),s("circle",{stroke:i(11),"stroke-width":"8",cx:"27",cy:"27",r:"27"},null),s("circle",{fill:i(12),cx:"27",cy:"27",r:"16"},null),s("path",{d:"M37 7c-8 0-15 5-16 12",stroke:i(11),"stroke-width":"3",opacity:".5","stroke-linecap":"round",transform:"rotate(45 29 13)"},null)])]),h=()=>{var y;if(t.image)return t.image();const m={error:x,search:g,network:v,default:p};return((y=m[e.image])==null?void 0:y.call(m))||s("img",{src:e.image},null)};return()=>s("div",{class:So()},[s("div",{class:So("image"),style:zt(e.imageSize)},[h()]),n(),o()])}});const ql=U(zm),[Wm,dt,dn]=L("coupon-list"),Um={code:Y(""),coupons:Te(),currency:Y("¥"),showCount:V,emptyImage:String,chosenCoupon:vt(-1),enabledTitle:String,disabledTitle:String,disabledCoupons:Te(),showExchangeBar:V,showCloseButton:V,closeButtonText:String,inputPlaceholder:String,exchangeMinLength:vt(1),exchangeButtonText:String,displayedCouponIndex:vt(-1),exchangeButtonLoading:Boolean,exchangeButtonDisabled:Boolean};var jm=N({name:Wm,props:Um,emits:["change","exchange","update:code"],setup(e,{emit:t,slots:n}){const[o,a]=ma(),r=M(),i=M(),l=M(0),c=M(0),d=M(e.code),u=R(()=>!e.exchangeButtonLoading&&(e.exchangeButtonDisabled||!d.value||d.value.length<e.exchangeMinLength)),f=()=>{const w=fe(r).height,b=fe(i).height+44;c.value=(w>b?w:On.value)-b},v=()=>{t("exchange",d.value),e.code||(d.value="")},p=m=>{oe(()=>{var w;return(w=o.value[m])==null?void 0:w.scrollIntoView()})},x=()=>s(ql,{image:e.emptyImage},{default:()=>[s("p",{class:dt("empty-tip")},[dn("noCoupon")])]}),g=()=>{if(e.showExchangeBar)return s("div",{ref:i,class:dt("exchange-bar")},[s(ft,{modelValue:d.value,"onUpdate:modelValue":m=>d.value=m,clearable:!0,border:!1,class:dt("field"),placeholder:e.inputPlaceholder||dn("placeholder"),maxlength:"20"},null),s(Fe,{plain:!0,type:"danger",class:dt("exchange"),text:e.exchangeButtonText||dn("exchange"),loading:e.exchangeButtonLoading,disabled:u.value,onClick:v},null)])},h=()=>{const{coupons:m}=e,w=e.showCount?` (${m.length})`:"",b=(e.enabledTitle||dn("enable"))+w;return s(Ko,{title:b},{default:()=>{var S;return[s("div",{class:dt("list",{"with-bottom":e.showCloseButton}),style:{height:`${c.value}px`}},[m.map((C,O)=>s(hr,{key:C.id,ref:a(O),coupon:C,chosen:O===e.chosenCoupon,currency:e.currency,onClick:()=>t("change",O)},null)),!m.length&&x(),(S=n["list-footer"])==null?void 0:S.call(n)])]}})},y=()=>{const{disabledCoupons:m}=e,w=e.showCount?` (${m.length})`:"",b=(e.disabledTitle||dn("disabled"))+w;return s(Ko,{title:b},{default:()=>{var S;return[s("div",{class:dt("list",{"with-bottom":e.showCloseButton}),style:{height:`${c.value}px`}},[m.map(C=>s(hr,{disabled:!0,key:C.id,coupon:C,currency:e.currency},null)),!m.length&&x(),(S=n["disabled-list-footer"])==null?void 0:S.call(n)])]}})};return q(()=>e.code,m=>{d.value=m}),q(On,f),q(d,m=>t("update:code",m)),q(()=>e.displayedCouponIndex,p),Ae(()=>{f(),p(e.displayedCouponIndex)}),()=>s("div",{ref:r,class:dt()},[g(),s(Kr,{active:l.value,"onUpdate:active":m=>l.value=m,class:dt("tab")},{default:()=>[h(),y()]}),s("div",{class:dt("bottom")},[$e(s(Fe,{round:!0,block:!0,type:"danger",class:dt("close"),text:e.closeButtonText||dn("close"),onClick:()=>t("change",-1)},null),[[De,e.showCloseButton]])])])}});const Ym=U(jm),[qm]=L("time-picker");var Xr=N({name:qm,props:Z({},$l,{minHour:K(0),maxHour:K(23),minMinute:K(0),maxMinute:K(59),modelValue:String}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){const o=x=>{const{minHour:g,maxHour:h,maxMinute:y,minMinute:m}=e;x||(x=`${Ee(g)}:${Ee(m)}`);let[w,b]=x.split(":");return w=Ee(Oe(+w,+g,+h)),b=Ee(Oe(+b,+m,+y)),`${w}:${b}`},a=M(),r=M(o(e.modelValue)),i=R(()=>[{type:"hour",range:[+e.minHour,+e.maxHour]},{type:"minute",range:[+e.minMinute,+e.maxMinute]}]),l=R(()=>i.value.map(({type:x,range:g})=>{let h=_l(g[1]-g[0]+1,y=>Ee(g[0]+y));return e.filter&&(h=e.filter(x,h)),{type:x,values:h}})),c=R(()=>l.value.map(x=>({values:x.values.map(g=>e.formatter(x.type,g))}))),d=()=>{const x=r.value.split(":"),g=[e.formatter("hour",x[0]),e.formatter("minute",x[1])];oe(()=>{var h;(h=a.value)==null||h.setValues(g)})},u=()=>{const[x,g]=a.value.getIndexes(),[h,y]=l.value,m=h.values[x]||h.values[0],w=y.values[g]||y.values[0];r.value=o(`${m}:${w}`),d()},f=()=>t("confirm",r.value),v=()=>t("cancel"),p=()=>{u(),oe(()=>{oe(()=>t("change",r.value))})};return Ae(()=>{d(),oe(u)}),q(c,d),q(()=>[e.filter,e.maxHour,e.minMinute,e.maxMinute],u),q(()=>e.minHour,()=>{oe(u)}),q(r,x=>t("update:modelValue",x)),q(()=>e.modelValue,x=>{x=o(x),x!==r.value&&(r.value=x,d())}),le({getPicker:()=>a.value&&Dl(a.value,u)}),()=>s(ca,se({ref:a,columns:c.value,onChange:p,onCancel:v,onConfirm:f},de(e,Pl)),n)}});const ss=new Date().getFullYear(),[Km]=L("date-picker");var Gr=N({name:Km,props:Z({},$l,{type:Y("datetime"),modelValue:Date,minDate:{type:Date,default:()=>new Date(ss-10,0,1),validator:gn},maxDate:{type:Date,default:()=>new Date(ss+10,11,31),validator:gn}}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){const o=g=>{if(gn(g)){const h=Oe(g.getTime(),e.minDate.getTime(),e.maxDate.getTime());return new Date(h)}},a=M(),r=M(o(e.modelValue)),i=(g,h)=>{const y=e[`${g}Date`],m=y.getFullYear();let w=1,b=1,S=0,C=0;return g==="max"&&(w=12,b=dr(h.getFullYear(),h.getMonth()+1),S=23,C=59),h.getFullYear()===m&&(w=y.getMonth()+1,h.getMonth()+1===w&&(b=y.getDate(),h.getDate()===b&&(S=y.getHours(),h.getHours()===S&&(C=y.getMinutes())))),{[`${g}Year`]:m,[`${g}Month`]:w,[`${g}Date`]:b,[`${g}Hour`]:S,[`${g}Minute`]:C}},l=R(()=>{const{maxYear:g,maxDate:h,maxMonth:y,maxHour:m,maxMinute:w}=i("max",r.value||e.minDate),{minYear:b,minDate:S,minMonth:C,minHour:O,minMinute:T}=i("min",r.value||e.minDate);let E=[{type:"year",range:[b,g]},{type:"month",range:[C,y]},{type:"day",range:[S,h]},{type:"hour",range:[O,m]},{type:"minute",range:[T,w]}];switch(e.type){case"date":E=E.slice(0,3);break;case"year-month":E=E.slice(0,2);break;case"month-day":E=E.slice(1,3);break;case"datehour":E=E.slice(0,4);break}if(e.columnsOrder){const B=e.columnsOrder.concat(E.map(k=>k.type));E.sort((k,_)=>B.indexOf(k.type)-B.indexOf(_.type))}return E}),c=R(()=>l.value.map(({type:g,range:h})=>{let y=_l(h[1]-h[0]+1,m=>Ee(h[0]+m));return e.filter&&(y=e.filter(g,y)),{type:g,values:y}})),d=R(()=>c.value.map(g=>({values:g.values.map(h=>e.formatter(g.type,h))}))),u=()=>{const g=r.value||e.minDate,{formatter:h}=e,y=c.value.map(m=>{switch(m.type){case"year":return h("year",`${g.getFullYear()}`);case"month":return h("month",Ee(g.getMonth()+1));case"day":return h("day",Ee(g.getDate()));case"hour":return h("hour",Ee(g.getHours()));case"minute":return h("minute",Ee(g.getMinutes()));default:return""}});oe(()=>{var m;(m=a.value)==null||m.setValues(y)})},f=()=>{const{type:g}=e,h=a.value.getIndexes(),y=E=>{let B=0;c.value.forEach((_,$)=>{E===_.type&&(B=$)});const{values:k}=c.value[B];return Fh(k[h[B]])};let m,w,b;g==="month-day"?(m=(r.value||e.minDate).getFullYear(),w=y("month"),b=y("day")):(m=y("year"),w=y("month"),b=g==="year-month"?1:y("day"));const S=dr(m,w);b=b>S?S:b;let C=0,O=0;g==="datehour"&&(C=y("hour")),g==="datetime"&&(C=y("hour"),O=y("minute"));const T=new Date(m,w-1,b,C,O);r.value=o(T)},v=()=>{t("update:modelValue",r.value),t("confirm",r.value)},p=()=>t("cancel"),x=()=>{f(),oe(()=>{f(),oe(()=>t("change",r.value))})};return Ae(()=>{u(),oe(f)}),q(d,u),q(r,(g,h)=>t("update:modelValue",h?g:null)),q(()=>[e.filter,e.minDate,e.maxDate],()=>{oe(f)}),q(()=>e.modelValue,g=>{var h;g=o(g),g&&g.valueOf()!==((h=r.value)==null?void 0:h.valueOf())&&(r.value=g)}),le({getPicker:()=>a.value&&Dl(a.value,f)}),()=>s(ca,se({ref:a,columns:d.value,onChange:x,onCancel:p,onConfirm:v},de(e,Pl)),n)}});const[Xm,Gm]=L("datetime-picker"),Zm=Object.keys(Xr.props),Jm=Object.keys(Gr.props),Qm=Z({},Xr.props,Gr.props,{modelValue:[String,Date]});var eg=N({name:Xm,props:Qm,setup(e,{attrs:t,slots:n}){const o=M();return le({getPicker:()=>{var a;return(a=o.value)==null?void 0:a.getPicker()}}),()=>{const a=e.type==="time",r=a?Xr:Gr,i=de(e,a?Zm:Jm);return s(r,se({ref:o,class:Gm()},i,t),n)}}});const tg=U(eg),[ng,Qe,Co]=L("dialog"),og=Z({},_n,{title:String,theme:String,width:z,message:[String,Function],callback:Function,allowHtml:Boolean,className:ve,transition:Y("van-dialog-bounce"),messageAlign:String,closeOnPopstate:V,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:V,closeOnClickOverlay:Boolean}),ag=[...Mr,"transition","closeOnPopstate"];var Kl=N({name:ng,props:og,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:n}){const o=M(),a=me({confirm:!1,cancel:!1}),r=y=>t("update:show",y),i=y=>{var m;r(!1),(m=e.callback)==null||m.call(e,y)},l=y=>()=>{e.show&&(t(y),e.beforeClose?(a[y]=!0,Ut(e.beforeClose,{args:[y],done(){i(y),a[y]=!1},canceled(){a[y]=!1}})):i(y))},c=l("cancel"),d=l("confirm"),u=jc(y=>{var m,w;if(y.target!==((w=(m=o.value)==null?void 0:m.popupRef)==null?void 0:w.value))return;({Enter:e.showConfirmButton?d:tr,Escape:e.showCancelButton?c:tr})[y.key](),t("keydown",y)},["enter","esc"]),f=()=>{const y=n.title?n.title():e.title;if(y)return s("div",{class:Qe("header",{isolated:!e.message&&!n.default})},[y])},v=y=>{const{message:m,allowHtml:w,messageAlign:b}=e,S=Qe("message",{"has-title":y,[b]:b}),C=Tn(m)?m():m;return w&&typeof C=="string"?s("div",{class:S,innerHTML:C},null):s("div",{class:S},[C])},p=()=>{if(n.default)return s("div",{class:Qe("content")},[n.default()]);const{title:y,message:m,allowHtml:w}=e;if(m){const b=!!(y||n.title);return s("div",{key:w?1:0,class:Qe("content",{isolated:!b})},[v(b)])}},x=()=>s("div",{class:[il,Qe("footer")]},[e.showCancelButton&&s(Fe,{size:"large",text:e.cancelButtonText||Co("cancel"),class:Qe("cancel"),style:{color:e.cancelButtonColor},loading:a.cancel,disabled:e.cancelButtonDisabled,onClick:c},null),e.showConfirmButton&&s(Fe,{size:"large",text:e.confirmButtonText||Co("confirm"),class:[Qe("confirm"),{[sl]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:a.confirm,disabled:e.confirmButtonDisabled,onClick:d},null)]),g=()=>s(fl,{class:Qe("footer")},{default:()=>[e.showCancelButton&&s(sr,{type:"warning",text:e.cancelButtonText||Co("cancel"),class:Qe("cancel"),color:e.cancelButtonColor,loading:a.cancel,disabled:e.cancelButtonDisabled,onClick:c},null),e.showConfirmButton&&s(sr,{type:"danger",text:e.confirmButtonText||Co("confirm"),class:Qe("confirm"),color:e.confirmButtonColor,loading:a.confirm,disabled:e.confirmButtonDisabled,onClick:d},null)]}),h=()=>n.footer?n.footer():e.theme==="round-button"?g():x();return()=>{const{width:y,title:m,theme:w,message:b,className:S}=e;return s(st,se({ref:o,role:"dialog",class:[Qe([w]),S],style:{width:ce(y)},tabindex:0,"aria-labelledby":m||b,onKeydown:u,"onUpdate:show":r},de(e,ag)),{default:()=>[f(),p(),h()]})}}});let eo;function rg(){({instance:eo}=fa({setup(){const{state:t,toggle:n}=da();return()=>s(Kl,se(t,{"onUpdate:show":n}),null)}}))}function Se(e){return Lt?new Promise((t,n)=>{eo||rg(),eo.open(Z({},Se.currentOptions,e,{callback:o=>{(o==="confirm"?t:n)(o)}}))}):Promise.resolve()}Se.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};Se.currentOptions=Z({},Se.defaultOptions);Se.alert=Se;Se.confirm=e=>Se(Z({showCancelButton:!0},e));Se.close=()=>{eo&&eo.toggle(!1)};Se.setDefaultOptions=e=>{Z(Se.currentOptions,e)};Se.resetDefaultOptions=()=>{Se.currentOptions=Z({},Se.defaultOptions)};Se.Component=U(Kl);Se.install=e=>{e.use(Se.Component),e.config.globalProperties.$dialog=Se};const[ig,sg]=L("divider"),lg={dashed:Boolean,hairline:V,contentPosition:Y("center")};var cg=N({name:ig,props:lg,setup(e,{slots:t}){return()=>{var n;return s("div",{role:"separator",class:sg({dashed:e.dashed,hairline:e.hairline,[`content-${e.contentPosition}`]:!!t.default})},[(n=t.default)==null?void 0:n.call(t)])}}});const ug=U(cg),[Xl,ko]=L("dropdown-menu"),dg={overlay:V,zIndex:z,duration:K(.2),direction:Y("down"),activeColor:String,closeOnClickOutside:V,closeOnClickOverlay:V},Gl=Symbol(Xl);var fg=N({name:Xl,props:dg,setup(e,{slots:t}){const n=Dn(),o=M(),a=M(),r=M(0),{children:i,linkChildren:l}=Ie(Gl),c=Pn(o),d=R(()=>i.some(h=>h.state.showWrapper)),u=R(()=>{if(d.value&&ie(e.zIndex))return{zIndex:+e.zIndex+1}}),f=()=>{e.closeOnClickOutside&&i.forEach(h=>{h.toggle(!1)})},v=()=>{if(a.value){const h=fe(a);e.direction==="down"?r.value=h.bottom:r.value=On.value-h.top}},p=()=>{d.value&&v()},x=h=>{i.forEach((y,m)=>{m===h?(v(),y.toggle()):y.state.showPopup&&y.toggle(!1,{immediate:!0})})},g=(h,y)=>{const{showPopup:m}=h.state,{disabled:w,titleClass:b}=h;return s("div",{id:`${n}-${y}`,role:"button",tabindex:w?void 0:0,class:[ko("item",{disabled:w}),{[Le]:!w}],onClick:()=>{w||x(y)}},[s("span",{class:[ko("title",{down:m===(e.direction==="down"),active:m}),b],style:{color:m?e.activeColor:""}},[s("div",{class:"van-ellipsis"},[h.renderTitle()])])])};return l({id:n,props:e,offset:r}),na(o,f),Ce("scroll",p,{target:c,passive:!0}),()=>{var h;return s("div",{ref:o,class:ko()},[s("div",{ref:a,style:u.value,class:ko("bar",{opened:d.value})},[i.map(g)]),(h=t.default)==null?void 0:h.call(t)])}}});const[hg,To]=L("dropdown-item"),vg={title:String,options:Te(),disabled:Boolean,teleport:[String,Object],lazyRender:V,modelValue:ve,titleClass:ve};var mg=N({name:hg,props:vg,emits:["open","opened","close","closed","change","update:modelValue"],setup(e,{emit:t,slots:n}){const o=me({showPopup:!1,transition:!0,showWrapper:!1}),{parent:a,index:r}=Pe(Gl);if(!a)return;const i=h=>()=>t(h),l=i("open"),c=i("close"),d=i("opened"),u=()=>{o.showWrapper=!1,t("closed")},f=h=>{e.teleport&&h.stopPropagation()},v=(h=!o.showPopup,y={})=>{h!==o.showPopup&&(o.showPopup=h,o.transition=!y.immediate,h&&(o.showWrapper=!0))},p=()=>{if(n.title)return n.title();if(e.title)return e.title;const h=e.options.find(y=>y.value===e.modelValue);return h?h.text:""},x=h=>{const{activeColor:y}=a.props,m=h.value===e.modelValue,w=()=>{o.showPopup=!1,h.value!==e.modelValue&&(t("update:modelValue",h.value),t("change",h.value))},b=()=>{if(m)return s(ae,{class:To("icon"),color:y,name:"success"},null)};return s(lt,{role:"menuitem",key:h.value,icon:h.icon,title:h.text,class:To("option",{active:m}),style:{color:m?y:""},tabindex:m?0:-1,clickable:!0,onClick:w},{value:b})},g=()=>{const{offset:h}=a,{zIndex:y,overlay:m,duration:w,direction:b,closeOnClickOverlay:S}=a.props,C=tn(y);return b==="down"?C.top=`${h.value}px`:C.bottom=`${h.value}px`,$e(s("div",{style:C,class:To([b]),onClick:f},[s(st,{show:o.showPopup,"onUpdate:show":O=>o.showPopup=O,role:"menu",class:To("content"),overlay:m,position:b==="down"?"top":"bottom",duration:o.transition?w:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${a.id}-${r.value}`,closeOnClickOverlay:S,onOpen:l,onClose:c,onOpened:d,onClosed:u},{default:()=>{var O;return[e.options.map(x),(O=n.default)==null?void 0:O.call(n)]}})]),[[De,o.showWrapper]])};return le({state:o,toggle:v,renderTitle:p}),()=>e.teleport?s(ea,{to:e.teleport},{default:()=>[g()]}):g()}});const gg=U(mg),bg=U(fg),[Zl,yg]=L("grid"),pg={square:Boolean,center:V,border:V,gutter:z,reverse:Boolean,iconSize:z,direction:String,clickable:Boolean,columnNum:K(4)},Jl=Symbol(Zl);var wg=N({name:Zl,props:pg,setup(e,{slots:t}){const{linkChildren:n}=Ie(Jl);return n({props:e}),()=>{var o;return s("div",{style:{paddingLeft:ce(e.gutter)},class:[yg(),{[il]:e.border&&!e.gutter}]},[(o=t.default)==null?void 0:o.call(t)])}}});const xg=U(wg),[Sg,Eo]=L("grid-item"),Cg=Z({},jt,{dot:Boolean,text:String,icon:String,badge:z,iconColor:String,iconPrefix:String,badgeProps:Object});var kg=N({name:Sg,props:Cg,setup(e,{slots:t}){const{parent:n,index:o}=Pe(Jl),a=nn();if(!n)return;const r=R(()=>{const{square:u,gutter:f,columnNum:v}=n.props,p=`${100/+v}%`,x={flexBasis:p};if(u)x.paddingTop=p;else if(f){const g=ce(f);x.paddingRight=g,o.value>=v&&(x.marginTop=g)}return x}),i=R(()=>{const{square:u,gutter:f}=n.props;if(u&&f){const v=ce(f);return{right:v,bottom:v,height:"auto"}}}),l=()=>{if(t.icon)return s(on,se({dot:e.dot,content:e.badge},e.badgeProps),{default:t.icon});if(e.icon)return s(ae,{dot:e.dot,name:e.icon,size:n.props.iconSize,badge:e.badge,class:Eo("icon"),color:e.iconColor,badgeProps:e.badgeProps,classPrefix:e.iconPrefix},null)},c=()=>{if(t.text)return t.text();if(e.text)return s("span",{class:Eo("text")},[e.text])},d=()=>t.default?t.default():[l(),c()];return()=>{const{center:u,border:f,square:v,gutter:p,reverse:x,direction:g,clickable:h}=n.props,y=[Eo("content",[g,{center:u,square:v,reverse:x,clickable:h,surround:f&&p}]),{[Wt]:f}];return s("div",{class:[Eo({square:v})],style:r.value},[s("div",{role:h?"button":void 0,class:y,style:i.value,tabindex:h?0:void 0,onClick:a},[d()])])}}});const Tg=U(kg),ls=e=>Math.sqrt((e[0].clientX-e[1].clientX)**2+(e[0].clientY-e[1].clientY)**2),Ra=L("image-preview")[1];var Eg=N({props:{src:String,show:Boolean,active:Number,minZoom:xe(z),maxZoom:xe(z),rootWidth:xe(Number),rootHeight:xe(Number)},emits:["scale","close"],setup(e,{emit:t,slots:n}){const o=me({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}),a=yt(),r=M(),i=R(()=>{const{rootWidth:E,rootHeight:B}=e,k=B/E;return o.imageRatio>k}),l=R(()=>{const{scale:E,moveX:B,moveY:k,moving:_,zooming:$}=o,H={transitionDuration:$||_?"0s":".3s"};if(E!==1){const D=B/E,I=k/E;H.transform=`scale(${E}, ${E}) translate(${D}px, ${I}px)`}return H}),c=R(()=>{if(o.imageRatio){const{rootWidth:E,rootHeight:B}=e,k=i.value?B/o.imageRatio:E;return Math.max(0,(o.scale*k-E)/2)}return 0}),d=R(()=>{if(o.imageRatio){const{rootWidth:E,rootHeight:B}=e,k=i.value?B:E*o.imageRatio;return Math.max(0,(o.scale*k-B)/2)}return 0}),u=E=>{E=Oe(E,+e.minZoom,+e.maxZoom+1),E!==o.scale&&(o.scale=E,t("scale",{scale:E,index:e.active}))},f=()=>{u(1),o.moveX=0,o.moveY=0},v=()=>{const E=o.scale>1?1:2;u(E),o.moveX=0,o.moveY=0};let p,x,g,h,y,m,w;const b=E=>{const{touches:B}=E,{offsetX:k}=a;a.start(E),p=B.length,x=o.moveX,g=o.moveY,w=Date.now(),o.moving=p===1&&o.scale!==1,o.zooming=p===2&&!k.value,o.zooming&&(h=o.scale,y=ls(E.touches))},S=E=>{const{touches:B}=E;if(a.move(E),(o.moving||o.zooming)&&be(E,!0),o.moving){const{deltaX:k,deltaY:_}=a,$=k.value+x,H=_.value+g;o.moveX=Oe($,-c.value,c.value),o.moveY=Oe(H,-d.value,d.value)}if(o.zooming&&B.length===2){const k=ls(B),_=h*k/y;u(_)}},C=()=>{if(p>1)return;const{offsetX:E,offsetY:B}=a,k=Date.now()-w,_=250,$=5;E.value<$&&B.value<$&&k<_&&(m?(clearTimeout(m),m=null,v()):m=setTimeout(()=>{t("close"),m=null},_))},O=E=>{let B=!1;(o.moving||o.zooming)&&(B=!0,o.moving&&x===o.moveX&&g===o.moveY&&(B=!1),E.touches.length||(o.zooming&&(o.moveX=Oe(o.moveX,-c.value,c.value),o.moveY=Oe(o.moveY,-d.value,d.value),o.zooming=!1),o.moving=!1,x=0,g=0,h=1,o.scale<1&&f(),o.scale>e.maxZoom&&(o.scale=+e.maxZoom))),be(E,B),C(),a.reset()},T=E=>{const{naturalWidth:B,naturalHeight:k}=E.target;o.imageRatio=k/B};return q(()=>e.active,f),q(()=>e.show,E=>{E||f()}),Ce("touchmove",S,{target:R(()=>{var E;return(E=r.value)==null?void 0:E.$el})}),()=>{const E={loading:()=>s(it,{type:"spinner"},null)};return s(qr,{ref:r,class:Ra("swipe-item"),onTouchstartPassive:b,onTouchend:O,onTouchcancel:O},{default:()=>[n.image?s("div",{class:Ra("image-wrap")},[n.image({src:e.src})]):s(ga,{src:e.src,fit:"contain",class:Ra("image",{vertical:i.value}),style:l.value,onLoad:T},E)]})}}});const[Og,fn]=L("image-preview"),Bg=["show","transition","overlayStyle","closeOnPopstate"],Ag={show:Boolean,loop:V,images:Te(),minZoom:K(1/3),maxZoom:K(3),overlay:V,closeable:Boolean,showIndex:V,className:ve,closeIcon:Y("clear"),transition:String,beforeClose:Function,overlayClass:ve,overlayStyle:Object,swipeDuration:K(300),startPosition:K(0),showIndicators:Boolean,closeOnPopstate:V,closeIconPosition:Y("top-right")};var Ql=N({name:Og,props:Ag,emits:["scale","close","closed","change","update:show"],setup(e,{emit:t,slots:n}){const o=M(),a=me({active:0,rootWidth:0,rootHeight:0}),r=()=>{if(o.value){const h=fe(o.value.$el);a.rootWidth=h.width,a.rootHeight=h.height,o.value.resize()}},i=h=>t("scale",h),l=h=>t("update:show",h),c=()=>{Ut(e.beforeClose,{args:[a.active],done:()=>l(!1)})},d=h=>{h!==a.active&&(a.active=h,t("change",h))},u=()=>{if(e.showIndex)return s("div",{class:fn("index")},[n.index?n.index({index:a.active}):`${a.active+1} / ${e.images.length}`])},f=()=>{if(n.cover)return s("div",{class:fn("cover")},[n.cover()])},v=()=>s(Yr,{ref:o,lazyRender:!0,loop:e.loop,class:fn("swipe"),duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:d},{default:()=>[e.images.map(h=>s(Eg,{src:h,show:e.show,active:a.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:a.rootWidth,rootHeight:a.rootHeight,onScale:i,onClose:c},{image:n.image}))]}),p=()=>{if(e.closeable)return s(ae,{role:"button",name:e.closeIcon,class:[fn("close-icon",e.closeIconPosition),Le],onClick:c},null)},x=()=>t("closed"),g=(h,y)=>{var m;return(m=o.value)==null?void 0:m.swipeTo(h,y)};return le({swipeTo:g}),Ae(r),q([aa,On],r),q(()=>e.startPosition,h=>d(+h)),q(()=>e.show,h=>{const{images:y,startPosition:m}=e;h?(d(+m),oe(()=>{r(),g(+m,{immediate:!0})})):t("close",{index:a.active,url:y[a.active]})}),()=>s(st,se({class:[fn(),e.className],overlayClass:[fn("overlay"),e.overlayClass],onClosed:x,"onUpdate:show":l},de(e,Bg)),{default:()=>[p(),v(),u(),f()]})}});let Vo;const $g={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};function Pg(){({instance:Vo}=fa({setup(){const{state:e,toggle:t}=da(),n=()=>{e.images=[]};return()=>s(Ql,se(e,{onClosed:n,"onUpdate:show":t}),null)}}))}const to=(e,t=0)=>{if(Lt)return Vo||Pg(),e=Array.isArray(e)?{images:e,startPosition:t}:e,Vo.open(Z({},$g,e)),Vo};to.Component=U(Ql);to.install=e=>{e.use(to.Component)};function _g(){return Array(26).fill("").map((n,o)=>String.fromCharCode(65+o))}const[ec,Ma]=L("index-bar"),Dg={sticky:V,zIndex:z,teleport:[String,Object],highlightColor:String,stickyOffsetTop:vt(0),indexList:{type:Array,default:_g}},tc=Symbol(ec);var Ig=N({name:ec,props:Dg,emits:["select","change"],setup(e,{emit:t,slots:n}){const o=M(),a=M(),r=M(""),i=yt(),l=Pn(o),{children:c,linkChildren:d}=Ie(tc);let u;d({props:e});const f=R(()=>{if(ie(e.zIndex))return{zIndex:+e.zIndex+1}}),v=R(()=>{if(e.highlightColor)return{color:e.highlightColor}}),p=(T,E)=>{for(let B=c.length-1;B>=0;B--){const k=B>0?E[B-1].height:0,_=e.sticky?k+e.stickyOffsetTop:0;if(T+_>=E[B].top)return B}return-1},x=T=>c.find(E=>String(E.index)===T),g=()=>{if(En(o))return;const{sticky:T,indexList:E}=e,B=Mt(l.value),k=fe(l),_=c.map(H=>H.getRect(l.value,k));let $=-1;if(u){const H=x(u);if(H){const D=H.getRect(l.value,k);$=p(D.top,_)}}else $=p(B,_);r.value=E[$],T&&c.forEach((H,D)=>{const{state:I,$el:X}=H;if(D===$||D===$-1){const J=X.getBoundingClientRect();I.left=J.left,I.width=J.width}else I.left=null,I.width=null;if(D===$)I.active=!0,I.top=Math.max(e.stickyOffsetTop,_[D].top-B)+k.top;else if(D===$-1&&u===""){const J=_[$].top-B;I.active=J>0,I.top=J+k.top-_[D].height}else I.active=!1}),u=""},h=()=>{oe(g)};Ce("scroll",g,{target:l,passive:!0}),Ae(h),q(()=>e.indexList,h),q(r,T=>{T&&t("change",T)});const y=()=>e.indexList.map(T=>{const E=T===r.value;return s("span",{class:Ma("index",{active:E}),style:E?v.value:void 0,"data-index":T},[T])}),m=T=>{u=String(T);const E=x(u);if(E){const B=Mt(l.value),k=fe(l),{offsetHeight:_}=document.documentElement;if(E.$el.scrollIntoView(),B===_-k.height){g();return}e.sticky&&e.stickyOffsetTop&&oa(lo()-e.stickyOffsetTop),t("select",E.index)}},w=T=>{const{index:E}=T.dataset;E&&m(E)},b=T=>{w(T.target)};let S;const C=T=>{if(i.move(T),i.isVertical()){be(T);const{clientX:E,clientY:B}=T.touches[0],k=document.elementFromPoint(E,B);if(k){const{index:_}=k.dataset;_&&S!==_&&(S=_,w(k))}}},O=()=>s("div",{ref:a,class:Ma("sidebar"),style:f.value,onClick:b,onTouchstartPassive:i.start},[y()]);return le({scrollTo:m}),Ce("touchmove",C,{target:a}),()=>{var T;return s("div",{ref:o,class:Ma()},[e.teleport?s(ea,{to:e.teleport},{default:()=>[O()]}):O(),(T=n.default)==null?void 0:T.call(n)])}}});const[Rg,Mg]=L("index-anchor"),Vg={index:z};var Ng=N({name:Rg,props:Vg,setup(e,{slots:t}){const n=me({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),o=M(),{parent:a}=Pe(tc);if(!a)return;const r=()=>n.active&&a.props.sticky,i=R(()=>{const{zIndex:c,highlightColor:d}=a.props;if(r())return Z(tn(c),{left:n.left?`${n.left}px`:void 0,width:n.width?`${n.width}px`:void 0,transform:n.top?`translate3d(0, ${n.top}px, 0)`:void 0,color:d})});return le({state:n,getRect:(c,d)=>{const u=fe(o);return n.rect.height=u.height,c===window||c===document.body?n.rect.top=u.top+lo():n.rect.top=u.top+Mt(c)-d.top,n.rect}}),()=>{const c=r();return s("div",{ref:o,style:{height:c?`${n.rect.height}px`:void 0}},[s("div",{style:i.value,class:[Mg({sticky:c}),{[Ir]:c}]},[t.default?t.default():e.index])])}}});const Lg=U(Ng),Fg=U(Ig),[Hg,hn,zg]=L("list"),Wg={error:Boolean,offset:K(300),loading:Boolean,finished:Boolean,errorText:String,direction:Y("down"),loadingText:String,finishedText:String,immediateCheck:V};var Ug=N({name:Hg,props:Wg,emits:["load","update:error","update:loading"],setup(e,{emit:t,slots:n}){const o=M(e.loading),a=M(),r=M(),i=pv(),l=Pn(a),c=()=>{oe(()=>{if(o.value||e.finished||e.error||i?.value===!1)return;const{offset:p,direction:x}=e,g=fe(l);if(!g.height||En(a))return;let h=!1;const y=fe(r);x==="up"?h=g.top-y.top<=p:h=y.bottom-g.bottom<=p,h&&(o.value=!0,t("update:loading",!0),t("load"))})},d=()=>{if(e.finished){const p=n.finished?n.finished():e.finishedText;if(p)return s("div",{class:hn("finished-text")},[p])}},u=()=>{t("update:error",!1),c()},f=()=>{if(e.error){const p=n.error?n.error():e.errorText;if(p)return s("div",{role:"button",class:hn("error-text"),tabindex:0,onClick:u},[p])}},v=()=>{if(o.value&&!e.finished)return s("div",{class:hn("loading")},[n.loading?n.loading():s(it,{class:hn("loading-icon")},{default:()=>[e.loadingText||zg("loading")]})])};return q(()=>[e.loading,e.finished,e.error],c),i&&q(i,p=>{p&&c()}),Yc(()=>{o.value=e.loading}),Ae(()=>{e.immediateCheck&&c()}),le({check:c}),Ce("scroll",c,{target:l,passive:!0}),()=>{var p;const x=(p=n.default)==null?void 0:p.call(n),g=s("div",{ref:r,class:hn("placeholder")},null);return s("div",{ref:a,role:"feed",class:hn(),"aria-busy":o.value},[e.direction==="down"?x:g,v(),d(),f(),e.direction==="up"?x:g])}}});const jg=U(Ug),[Yg,kt]=L("nav-bar"),qg={title:String,fixed:Boolean,zIndex:z,border:V,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};var Kg=N({name:Yg,props:qg,emits:["click-left","click-right"],setup(e,{emit:t,slots:n}){const o=M(),a=sa(o,kt),r=u=>t("click-left",u),i=u=>t("click-right",u),l=()=>n.left?n.left():[e.leftArrow&&s(ae,{class:kt("arrow"),name:"arrow-left"},null),e.leftText&&s("span",{class:kt("text")},[e.leftText])],c=()=>n.right?n.right():s("span",{class:kt("text")},[e.rightText]),d=()=>{const{title:u,fixed:f,border:v,zIndex:p}=e,x=tn(p),g=e.leftArrow||e.leftText||n.left,h=e.rightText||n.right;return s("div",{ref:o,style:x,class:[kt({fixed:f}),{[Ir]:v,"van-safe-area-top":e.safeAreaInsetTop}]},[s("div",{class:kt("content")},[g&&s("div",{class:[kt("left"),Le],onClick:r},[l()]),s("div",{class:[kt("title"),"van-ellipsis"]},[n.title?n.title():u]),h&&s("div",{class:[kt("right"),Le],onClick:i},[c()])])])};return()=>e.fixed&&e.placeholder?a(d):d()}});const Xg=U(Kg),[Gg,Nn]=L("notice-bar"),Zg={text:String,mode:String,color:String,delay:K(1),speed:K(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};var Jg=N({name:Gg,props:Zg,emits:["close","replay"],setup(e,{emit:t,slots:n}){let o=0,a=0,r;const i=M(),l=M(),c=me({show:!0,offset:0,duration:0}),d=()=>{if(n["left-icon"])return n["left-icon"]();if(e.leftIcon)return s(ae,{class:Nn("left-icon"),name:e.leftIcon},null)},u=()=>{if(e.mode==="closeable")return"cross";if(e.mode==="link")return"arrow"},f=h=>{e.mode==="closeable"&&(c.show=!1,t("close",h))},v=()=>{if(n["right-icon"])return n["right-icon"]();const h=u();if(h)return s(ae,{name:h,class:Nn("right-icon"),onClick:f},null)},p=()=>{c.offset=o,c.duration=0,Ne(()=>{It(()=>{c.offset=-a,c.duration=(a+o)/+e.speed,t("replay")})})},x=()=>{const h=e.scrollable===!1&&!e.wrapable,y={transform:c.offset?`translateX(${c.offset}px)`:"",transitionDuration:`${c.duration}s`};return s("div",{ref:i,role:"marquee",class:Nn("wrap")},[s("div",{ref:l,style:y,class:[Nn("content"),{"van-ellipsis":h}],onTransitionend:p},[n.default?n.default():e.text])])},g=()=>{const{delay:h,speed:y,scrollable:m}=e,w=ie(h)?+h*1e3:0;o=0,a=0,c.offset=0,c.duration=0,clearTimeout(r),r=setTimeout(()=>{if(!i.value||!l.value||m===!1)return;const b=fe(i).width,S=fe(l).width;(m||S>b)&&It(()=>{o=b,a=S,c.offset=-a,c.duration=a/+y})},w)};return ia(g),$n(g),Ce("pageshow",g),le({reset:g}),q(()=>[e.text,e.scrollable],g),()=>{const{color:h,wrapable:y,background:m}=e;return $e(s("div",{role:"alert",class:Nn({wrapable:y}),style:{color:h,background:m}},[d(),x(),v()]),[[De,c.show]])}}});const Qg=U(Jg),[eb,tb]=L("notify"),nb=Z({},_n,{type:Y("danger"),color:String,message:z,position:Y("top"),className:ve,background:String,lockScroll:Boolean});var nc=N({name:eb,props:nb,emits:["update:show"],setup(e,{emit:t,slots:n}){const o=a=>t("update:show",a);return()=>s(st,{show:e.show,class:[tb([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,position:e.position,duration:.2,lockScroll:e.lockScroll,"onUpdate:show":o},{default:()=>[n.default?n.default():e.message]})}});let cs,bn;const ob=e=>Ye(e)?e:{message:e};function ab(){({instance:bn}=fa({setup(){const{state:e,toggle:t}=da();return()=>s(nc,se(e,{"onUpdate:show":t}),null)}}))}function je(e){if(Lt)return bn||ab(),e=Z({},je.currentOptions,ob(e)),bn.open(e),clearTimeout(cs),e.duration>0&&(cs=window.setTimeout(je.clear,e.duration)),bn}const oc=()=>({type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0});je.clear=()=>{bn&&bn.toggle(!1)};je.currentOptions=oc();je.setDefaultOptions=e=>{Z(je.currentOptions,e)};je.resetDefaultOptions=()=>{je.currentOptions=oc()};je.Component=U(nc);je.install=e=>{e.use(je.Component),e.config.globalProperties.$notify=je};const[rb,Xn]=L("key"),ib=s("svg",{class:Xn("collapse-icon"),viewBox:"0 0 30 24"},[s("path",{d:"M26 13h-2v2h2v-2zm-8-3h2V8h-2v2zm2-4h2V4h-2v2zm2 4h4V4h-2v4h-2v2zm-7 14 3-3h-6l3 3zM6 13H4v2h2v-2zm16 0H8v2h14v-2zm-12-3h2V8h-2v2zM28 0l1 1 1 1v15l-1 2H1l-1-2V2l1-1 1-1zm0 2H2v15h26V2zM6 4v2H4V4zm10 2h2V4h-2v2zM8 9v1H4V8zm8 0v1h-2V8zm-6-5v2H8V4zm4 0v2h-2V4z",fill:"currentColor"},null)]),sb=s("svg",{class:Xn("delete-icon"),viewBox:"0 0 32 22"},[s("path",{d:"M28 0a4 4 0 0 1 4 4v14a4 4 0 0 1-4 4H10.4a2 2 0 0 1-1.4-.6L1 13.1c-.6-.5-.9-1.3-.9-2 0-1 .3-1.7.9-2.2L9 .6a2 2 0 0 1 1.4-.6zm0 2H10.4l-8.2 8.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7l8.2 8.4H28a2 2 0 0 0 2-2V4c0-1.1-.9-2-2-2zm-5 4a1 1 0 0 1 .7.3 1 1 0 0 1 0 1.4L20.4 11l3.3 3.3c.2.2.3.5.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3L19 12.4l-3.4 3.3a1 1 0 0 1-.6.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.2.1-.5.3-.7l3.3-3.3-3.3-3.3A1 1 0 0 1 14 7c0-.3.1-.5.3-.7A1 1 0 0 1 15 6a1 1 0 0 1 .6.3L19 9.6l3.3-3.3A1 1 0 0 1 23 6z",fill:"currentColor"},null)]);var Va=N({name:rb,props:{type:String,text:z,color:String,wider:Boolean,large:Boolean,loading:Boolean},emits:["press"],setup(e,{emit:t,slots:n}){const o=M(!1),a=yt(),r=d=>{a.start(d),o.value=!0},i=d=>{a.move(d),a.direction.value&&(o.value=!1)},l=d=>{o.value&&(n.default||be(d),o.value=!1,t("press",e.text,e.type))},c=()=>{if(e.loading)return s(it,{class:Xn("loading-icon")},null);const d=n.default?n.default():e.text;switch(e.type){case"delete":return d||sb;case"extra":return d||ib;default:return d}};return()=>s("div",{class:Xn("wrapper",{wider:e.wider}),onTouchstartPassive:r,onTouchmovePassive:i,onTouchend:l,onTouchcancel:l},[s("div",{role:"button",tabindex:0,class:Xn([e.color,{large:e.large,active:o.value,delete:e.type==="delete"}])},[c()])])}});const[lb,$t]=L("number-keyboard"),cb={show:Boolean,title:String,theme:Y("default"),zIndex:z,teleport:[String,Object],maxlength:K(1/0),modelValue:Y(""),transition:V,blurOnClose:V,showDeleteKey:V,randomKeyOrder:Boolean,closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,hideOnClickOutside:V,safeAreaInsetBottom:V,extraKey:{type:[String,Array],default:""}};function ub(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1)),o=e[t];e[t]=e[n],e[n]=o}return e}var db=N({name:lb,inheritAttrs:!1,props:cb,emits:["show","hide","blur","input","close","delete","update:modelValue"],setup(e,{emit:t,slots:n,attrs:o}){const a=M(),r=()=>{const h=Array(9).fill("").map((y,m)=>({text:m+1}));return e.randomKeyOrder&&ub(h),h},i=()=>[...r(),{text:e.extraKey,type:"extra"},{text:0},{text:e.showDeleteKey?e.deleteButtonText:"",type:e.showDeleteKey?"delete":""}],l=()=>{const h=r(),{extraKey:y}=e,m=Array.isArray(y)?y:[y];return m.length===1?h.push({text:0,wider:!0},{text:m[0],type:"extra"}):m.length===2&&h.push({text:m[0],type:"extra"},{text:0},{text:m[1],type:"extra"}),h},c=R(()=>e.theme==="custom"?l():i()),d=()=>{e.show&&t("blur")},u=()=>{t("close"),e.blurOnClose&&d()},f=()=>t(e.show?"show":"hide"),v=(h,y)=>{if(h===""){y==="extra"&&d();return}const m=e.modelValue;y==="delete"?(t("delete"),t("update:modelValue",m.slice(0,m.length-1))):y==="close"?u():m.length<e.maxlength&&(t("input",h),t("update:modelValue",m+h))},p=()=>{const{title:h,theme:y,closeButtonText:m}=e,w=n["title-left"],b=m&&y==="default";if(h||b||w)return s("div",{class:$t("header")},[w&&s("span",{class:$t("title-left")},[w()]),h&&s("h2",{class:$t("title")},[h]),b&&s("button",{type:"button",class:[$t("close"),Le],onClick:u},[m])])},x=()=>c.value.map(h=>{const y={};return h.type==="delete"&&(y.default=n.delete),h.type==="extra"&&(y.default=n["extra-key"]),s(Va,{key:h.text,text:h.text,type:h.type,wider:h.wider,color:h.color,onPress:v},y)}),g=()=>{if(e.theme==="custom")return s("div",{class:$t("sidebar")},[e.showDeleteKey&&s(Va,{large:!0,text:e.deleteButtonText,type:"delete",onPress:v},{delete:n.delete}),s(Va,{large:!0,text:e.closeButtonText,type:"close",color:"blue",loading:e.closeButtonLoading,onPress:v},null)])};return q(()=>e.show,h=>{e.transition||t(h?"show":"hide")}),e.hideOnClickOutside&&na(a,d,{eventName:"touchstart"}),()=>{const h=p(),y=s(Qo,{name:e.transition?"van-slide-up":""},{default:()=>[$e(s("div",se({ref:a,style:tn(e.zIndex),class:$t({unfit:!e.safeAreaInsetBottom,"with-title":!!h}),onAnimationend:f,onTouchstartPassive:_r},o),[h,s("div",{class:$t("body")},[s("div",{class:$t("keys")},[x()]),g()])]),[[De,e.show]])]});return e.teleport?s(ea,{to:e.teleport},{default:()=>[y]}):y}}});const fb=U(db),[hb,vn,us]=L("pagination"),Na=(e,t,n)=>({number:e,text:t,active:n}),vb={mode:Y("multi"),prevText:String,nextText:String,pageCount:K(0),modelValue:vt(0),totalItems:K(0),showPageSize:K(5),itemsPerPage:K(10),forceEllipses:Boolean};var mb=N({name:hb,props:vb,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const o=R(()=>{const{pageCount:u,totalItems:f,itemsPerPage:v}=e,p=+u||Math.ceil(+f/+v);return Math.max(1,p)}),a=R(()=>{const u=[],f=o.value,v=+e.showPageSize,{modelValue:p,forceEllipses:x}=e;let g=1,h=f;const y=v<f;y&&(g=Math.max(p-Math.floor(v/2),1),h=g+v-1,h>f&&(h=f,g=h-v+1));for(let m=g;m<=h;m++){const w=Na(m,m,m===p);u.push(w)}if(y&&v>0&&x){if(g>1){const m=Na(g-1,"...");u.unshift(m)}if(h<f){const m=Na(h+1,"...");u.push(m)}}return u}),r=(u,f)=>{u=Oe(u,1,o.value),e.modelValue!==u&&(t("update:modelValue",u),f&&t("change",u))};Sr(()=>r(e.modelValue));const i=()=>s("li",{class:vn("page-desc")},[n.pageDesc?n.pageDesc():`${e.modelValue}/${o.value}`]),l=()=>{const{mode:u,modelValue:f}=e,v=n["prev-text"],p=f===1;return s("li",{class:[vn("item",{disabled:p,border:u==="simple",prev:!0}),qn]},[s("button",{type:"button",disabled:p,onClick:()=>r(f-1,!0)},[v?v():e.prevText||us("prev")])])},c=()=>{const{mode:u,modelValue:f}=e,v=n["next-text"],p=f===o.value;return s("li",{class:[vn("item",{disabled:p,border:u==="simple",next:!0}),qn]},[s("button",{type:"button",disabled:p,onClick:()=>r(f+1,!0)},[v?v():e.nextText||us("next")])])},d=()=>a.value.map(u=>s("li",{class:[vn("item",{active:u.active,page:!0}),qn]},[s("button",{type:"button","aria-current":u.active||void 0,onClick:()=>r(u.number,!0)},[n.page?n.page(u):u.text])]));return()=>s("nav",{role:"navigation",class:vn()},[s("ul",{class:vn("items")},[l(),e.mode==="simple"?i():d(),c()])])}});const gb=U(mb),[bb,Ln]=L("password-input"),yb={info:String,mask:V,value:Y(""),gutter:z,length:K(6),focused:Boolean,errorInfo:String};var pb=N({name:bb,props:yb,emits:["focus"],setup(e,{emit:t}){const n=a=>{a.stopPropagation(),t("focus",a)},o=()=>{const a=[],{mask:r,value:i,length:l,gutter:c,focused:d}=e;for(let u=0;u<l;u++){const f=i[u],v=u!==0&&!c,p=d&&u===i.length;let x;u!==0&&c&&(x={marginLeft:ce(c)}),a.push(s("li",{class:[{[sl]:v},Ln("item",{focus:p})],style:x},[r?s("i",{style:{visibility:f?"visible":"hidden"}},null):f,p&&s("div",{class:Ln("cursor")},null)]))}return a};return()=>{const a=e.errorInfo||e.info;return s("div",{class:Ln()},[s("ul",{class:[Ln("security"),{[qn]:!e.gutter}],onTouchstartPassive:n},[o()]),a&&s("div",{class:Ln(e.errorInfo?"error-info":"info")},[a])])}}});const wb=U(pb);function ct(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Zr(e){var t=ct(e).Element;return e instanceof t||e instanceof Element}function at(e){var t=ct(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ac(e){if(typeof ShadowRoot>"u")return!1;var t=ct(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Bn=Math.round;function mr(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function xb(){return!/^((?!chrome|android).)*safari/i.test(mr())}function Xo(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var o=e.getBoundingClientRect(),a=1,r=1;t&&at(e)&&(a=e.offsetWidth>0&&Bn(o.width)/e.offsetWidth||1,r=e.offsetHeight>0&&Bn(o.height)/e.offsetHeight||1);var i=Zr(e)?ct(e):window,l=i.visualViewport,c=!xb()&&n,d=(o.left+(c&&l?l.offsetLeft:0))/a,u=(o.top+(c&&l?l.offsetTop:0))/r,f=o.width/a,v=o.height/r;return{width:f,height:v,top:u,right:d+f,bottom:u+v,left:d,x:d,y:u}}function rc(e){var t=ct(e),n=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:n,scrollTop:o}}function Sb(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Cb(e){return e===ct(e)||!at(e)?rc(e):Sb(e)}function Ot(e){return e?(e.nodeName||"").toLowerCase():null}function ba(e){return((Zr(e)?e.ownerDocument:e.document)||window.document).documentElement}function kb(e){return Xo(ba(e)).left+rc(e).scrollLeft}function Bt(e){return ct(e).getComputedStyle(e)}function Jr(e){var t=Bt(e),n=t.overflow,o=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+o)}function Tb(e){var t=e.getBoundingClientRect(),n=Bn(t.width)/e.offsetWidth||1,o=Bn(t.height)/e.offsetHeight||1;return n!==1||o!==1}function Eb(e,t,n){n===void 0&&(n=!1);var o=at(t),a=at(t)&&Tb(t),r=ba(t),i=Xo(e,a,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!n)&&((Ot(t)!=="body"||Jr(r))&&(l=Cb(t)),at(t)?(c=Xo(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):r&&(c.x=kb(r))),{x:i.left+l.scrollLeft-c.x,y:i.top+l.scrollTop-c.y,width:i.width,height:i.height}}function Ob(e){var t=Xo(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function Qr(e){return Ot(e)==="html"?e:e.assignedSlot||e.parentNode||(ac(e)?e.host:null)||ba(e)}function ic(e){return["html","body","#document"].indexOf(Ot(e))>=0?e.ownerDocument.body:at(e)&&Jr(e)?e:ic(Qr(e))}function No(e,t){var n;t===void 0&&(t=[]);var o=ic(e),a=o===((n=e.ownerDocument)==null?void 0:n.body),r=ct(o),i=a?[r].concat(r.visualViewport||[],Jr(o)?o:[]):o,l=t.concat(i);return a?l:l.concat(No(Qr(i)))}function Bb(e){return["table","td","th"].indexOf(Ot(e))>=0}function ds(e){return!at(e)||Bt(e).position==="fixed"?null:e.offsetParent}function Ab(e){var t=/firefox/i.test(mr()),n=/Trident/i.test(mr());if(n&&at(e)){var o=Bt(e);if(o.position==="fixed")return null}var a=Qr(e);for(ac(a)&&(a=a.host);at(a)&&["html","body"].indexOf(Ot(a))<0;){var r=Bt(a);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return a;a=a.parentNode}return null}function sc(e){for(var t=ct(e),n=ds(e);n&&Bb(n)&&Bt(n).position==="static";)n=ds(n);return n&&(Ot(n)==="html"||Ot(n)==="body"&&Bt(n).position==="static")?t:n||Ab(e)||t}var yn="top",Go="bottom",no="right",Qt="left",lc="auto",$b=[yn,Go,no,Qt],cc="start",Zo="end",Pb=[].concat($b,[lc]).reduce(function(e,t){return e.concat([t,t+"-"+cc,t+"-"+Zo])},[]),_b="beforeRead",Db="read",Ib="afterRead",Rb="beforeMain",Mb="main",Vb="afterMain",Nb="beforeWrite",Lb="write",Fb="afterWrite",gr=[_b,Db,Ib,Rb,Mb,Vb,Nb,Lb,Fb];function Hb(e){var t=new Map,n=new Set,o=[];e.forEach(function(r){t.set(r.name,r)});function a(r){n.add(r.name);var i=[].concat(r.requires||[],r.requiresIfExists||[]);i.forEach(function(l){if(!n.has(l)){var c=t.get(l);c&&a(c)}}),o.push(r)}return e.forEach(function(r){n.has(r.name)||a(r)}),o}function zb(e){var t=Hb(e);return gr.reduce(function(n,o){return n.concat(t.filter(function(a){return a.phase===o}))},[])}function Wb(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Pt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return[].concat(n).reduce(function(a,r){return a.replace(/%s/,r)},e)}var Kt='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',Ub='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',fs=["name","enabled","phase","fn","effect","requires","options"];function jb(e){e.forEach(function(t){[].concat(Object.keys(t),fs).filter(function(n,o,a){return a.indexOf(n)===o}).forEach(function(n){switch(n){case"name":typeof t.name!="string"&&console.error(Pt(Kt,String(t.name),'"name"','"string"','"'+String(t.name)+'"'));break;case"enabled":typeof t.enabled!="boolean"&&console.error(Pt(Kt,t.name,'"enabled"','"boolean"','"'+String(t.enabled)+'"'));break;case"phase":gr.indexOf(t.phase)<0&&console.error(Pt(Kt,t.name,'"phase"',"either "+gr.join(", "),'"'+String(t.phase)+'"'));break;case"fn":typeof t.fn!="function"&&console.error(Pt(Kt,t.name,'"fn"','"function"','"'+String(t.fn)+'"'));break;case"effect":t.effect!=null&&typeof t.effect!="function"&&console.error(Pt(Kt,t.name,'"effect"','"function"','"'+String(t.fn)+'"'));break;case"requires":t.requires!=null&&!Array.isArray(t.requires)&&console.error(Pt(Kt,t.name,'"requires"','"array"','"'+String(t.requires)+'"'));break;case"requiresIfExists":Array.isArray(t.requiresIfExists)||console.error(Pt(Kt,t.name,'"requiresIfExists"','"array"','"'+String(t.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+t.name+'" modifier, valid properties are '+fs.map(function(o){return'"'+o+'"'}).join(", ")+'; but "'+n+'" was provided.')}t.requires&&t.requires.forEach(function(o){e.find(function(a){return a.name===o})==null&&console.error(Pt(Ub,String(t.name),o,o))})})})}function Yb(e,t){var n=new Set;return e.filter(function(o){var a=t(o);if(!n.has(a))return n.add(a),!0})}function ya(e){return e.split("-")[0]}function qb(e){var t=e.reduce(function(n,o){var a=n[o.name];return n[o.name]=a?Object.assign({},a,o,{options:Object.assign({},a.options,o.options),data:Object.assign({},a.data,o.data)}):o,n},{});return Object.keys(t).map(function(n){return t[n]})}function uc(e){return e.split("-")[1]}function Kb(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Xb(e){var t=e.reference,n=e.element,o=e.placement,a=o?ya(o):null,r=o?uc(o):null,i=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,c;switch(a){case yn:c={x:i,y:t.y-n.height};break;case Go:c={x:i,y:t.y+t.height};break;case no:c={x:t.x+t.width,y:l};break;case Qt:c={x:t.x-n.width,y:l};break;default:c={x:t.x,y:t.y}}var d=a?Kb(a):null;if(d!=null){var u=d==="y"?"height":"width";switch(r){case cc:c[d]=c[d]-(t[u]/2-n[u]/2);break;case Zo:c[d]=c[d]+(t[u]/2-n[u]/2);break}}return c}var hs="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",Gb="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",vs={placement:"bottom",modifiers:[],strategy:"absolute"};function ms(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function Zb(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,o=n===void 0?[]:n,a=t.defaultOptions,r=a===void 0?vs:a;return function(l,c,d){d===void 0&&(d=r);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},vs,r),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},f=[],v=!1,p={state:u,setOptions:function(y){var m=typeof y=="function"?y(u.options):y;g(),u.options=Object.assign({},r,u.options,m),u.scrollParents={reference:Zr(l)?No(l):l.contextElement?No(l.contextElement):[],popper:No(c)};var w=zb(qb([].concat(o,u.options.modifiers)));u.orderedModifiers=w.filter(function(k){return k.enabled});{var b=Yb([].concat(w,u.options.modifiers),function(k){var _=k.name;return _});if(jb(b),ya(u.options.placement)===lc){var S=u.orderedModifiers.find(function(k){var _=k.name;return _==="flip"});S||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var C=Bt(c),O=C.marginTop,T=C.marginRight,E=C.marginBottom,B=C.marginLeft;[O,T,E,B].some(function(k){return parseFloat(k)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return x(),p.update()},forceUpdate:function(){if(!v){var y=u.elements,m=y.reference,w=y.popper;if(!ms(m,w)){console.error(hs);return}u.rects={reference:Eb(m,sc(w),u.options.strategy==="fixed"),popper:Ob(w)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(k){return u.modifiersData[k.name]=Object.assign({},k.data)});for(var b=0,S=0;S<u.orderedModifiers.length;S++){if(b+=1,b>100){console.error(Gb);break}if(u.reset===!0){u.reset=!1,S=-1;continue}var C=u.orderedModifiers[S],O=C.fn,T=C.options,E=T===void 0?{}:T,B=C.name;typeof O=="function"&&(u=O({state:u,options:E,name:B,instance:p})||u)}}},update:Wb(function(){return new Promise(function(h){p.forceUpdate(),h(u)})}),destroy:function(){g(),v=!0}};if(!ms(l,c))return console.error(hs),p;p.setOptions(d).then(function(h){!v&&d.onFirstUpdate&&d.onFirstUpdate(h)});function x(){u.orderedModifiers.forEach(function(h){var y=h.name,m=h.options,w=m===void 0?{}:m,b=h.effect;if(typeof b=="function"){var S=b({state:u,name:y,instance:p,options:w}),C=function(){};f.push(S||C)}})}function g(){f.forEach(function(h){return h()}),f=[]}return p}}var Oo={passive:!0};function Jb(e){var t=e.state,n=e.instance,o=e.options,a=o.scroll,r=a===void 0?!0:a,i=o.resize,l=i===void 0?!0:i,c=ct(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&d.forEach(function(u){u.addEventListener("scroll",n.update,Oo)}),l&&c.addEventListener("resize",n.update,Oo),function(){r&&d.forEach(function(u){u.removeEventListener("scroll",n.update,Oo)}),l&&c.removeEventListener("resize",n.update,Oo)}}var Qb={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Jb,data:{}};function ey(e){var t=e.state,n=e.name;t.modifiersData[n]=Xb({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var ty={name:"popperOffsets",enabled:!0,phase:"read",fn:ey,data:{}},ny={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oy(e){var t=e.x,n=e.y,o=window,a=o.devicePixelRatio||1;return{x:Bn(t*a)/a||0,y:Bn(n*a)/a||0}}function gs(e){var t,n=e.popper,o=e.popperRect,a=e.placement,r=e.variation,i=e.offsets,l=e.position,c=e.gpuAcceleration,d=e.adaptive,u=e.roundOffsets,f=e.isFixed,v=i.x,p=v===void 0?0:v,x=i.y,g=x===void 0?0:x,h=typeof u=="function"?u({x:p,y:g}):{x:p,y:g};p=h.x,g=h.y;var y=i.hasOwnProperty("x"),m=i.hasOwnProperty("y"),w=Qt,b=yn,S=window;if(d){var C=sc(n),O="clientHeight",T="clientWidth";if(C===ct(n)&&(C=ba(n),Bt(C).position!=="static"&&l==="absolute"&&(O="scrollHeight",T="scrollWidth")),C=C,a===yn||(a===Qt||a===no)&&r===Zo){b=Go;var E=f&&C===S&&S.visualViewport?S.visualViewport.height:C[O];g-=E-o.height,g*=c?1:-1}if(a===Qt||(a===yn||a===Go)&&r===Zo){w=no;var B=f&&C===S&&S.visualViewport?S.visualViewport.width:C[T];p-=B-o.width,p*=c?1:-1}}var k=Object.assign({position:l},d&&ny),_=u===!0?oy({x:p,y:g}):{x:p,y:g};if(p=_.x,g=_.y,c){var $;return Object.assign({},k,($={},$[b]=m?"0":"",$[w]=y?"0":"",$.transform=(S.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",$))}return Object.assign({},k,(t={},t[b]=m?g+"px":"",t[w]=y?p+"px":"",t.transform="",t))}function ay(e){var t=e.state,n=e.options,o=n.gpuAcceleration,a=o===void 0?!0:o,r=n.adaptive,i=r===void 0?!0:r,l=n.roundOffsets,c=l===void 0?!0:l;{var d=Bt(t.elements.popper).transitionProperty||"";i&&["transform","top","right","bottom","left"].some(function(f){return d.indexOf(f)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var u={placement:ya(t.placement),variation:uc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,gs(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,gs(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var ry={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ay,data:{}};function iy(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var o=t.styles[n]||{},a=t.attributes[n]||{},r=t.elements[n];!at(r)||!Ot(r)||(Object.assign(r.style,o),Object.keys(a).forEach(function(i){var l=a[i];l===!1?r.removeAttribute(i):r.setAttribute(i,l===!0?"":l)}))})}function sy(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(o){var a=t.elements[o],r=t.attributes[o]||{},i=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:n[o]),l=i.reduce(function(c,d){return c[d]="",c},{});!at(a)||!Ot(a)||(Object.assign(a.style,l),Object.keys(r).forEach(function(c){a.removeAttribute(c)}))})}}var ly={name:"applyStyles",enabled:!0,phase:"write",fn:iy,effect:sy,requires:["computeStyles"]},cy=[Qb,ty,ry,ly],uy=Zb({defaultModifiers:cy});function dy(e,t,n){var o=ya(e),a=[Qt,yn].indexOf(o)>=0?-1:1,r=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,i=r[0],l=r[1];return i=i||0,l=(l||0)*a,[Qt,no].indexOf(o)>=0?{x:l,y:i}:{x:i,y:l}}function fy(e){var t=e.state,n=e.options,o=e.name,a=n.offset,r=a===void 0?[0,0]:a,i=Pb.reduce(function(u,f){return u[f]=dy(f,t.rects,r),u},{}),l=i[t.placement],c=l.x,d=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=d),t.modifiersData[o]=i}var hy={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fy};const[vy,Xt]=L("popover"),my=["show","overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],gy={show:Boolean,theme:Y("light"),overlay:Boolean,actions:Te(),trigger:Y("click"),duration:z,showArrow:V,placement:Y("bottom"),iconPrefix:String,overlayClass:ve,overlayStyle:Object,closeOnClickAction:V,closeOnClickOverlay:V,closeOnClickOutside:V,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}};var by=N({name:vy,props:gy,emits:["select","touchstart","update:show"],setup(e,{emit:t,slots:n,attrs:o}){let a;const r=M(),i=M(),l=M(),c=()=>({placement:e.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},Z({},hy,{options:{offset:e.offset}})]}),d=()=>i.value&&l.value?uy(i.value,l.value.popupRef.value,c()):null,u=()=>{oe(()=>{e.show&&(a?a.setOptions(c()):a=d())})},f=y=>t("update:show",y),v=()=>{e.trigger==="click"&&f(!e.show)},p=(y,m)=>{y.disabled||(t("select",y,m),e.closeOnClickAction&&f(!1))},x=()=>{e.show&&e.closeOnClickOutside&&(!e.overlay||e.closeOnClickOverlay)&&f(!1)},g=(y,m)=>n.action?n.action({action:y,index:m}):[y.icon&&s(ae,{name:y.icon,classPrefix:e.iconPrefix,class:Xt("action-icon")},null),s("div",{class:[Xt("action-text"),Ir]},[y.text])],h=(y,m)=>{const{icon:w,color:b,disabled:S,className:C}=y;return s("div",{role:"menuitem",class:[Xt("action",{disabled:S,"with-icon":w}),C],style:{color:b},tabindex:S?void 0:0,"aria-disabled":S||void 0,onClick:()=>p(y,m)},[g(y,m)])};return Ae(()=>{u(),Sr(()=>{var y;r.value=(y=l.value)==null?void 0:y.popupRef.value})}),en(()=>{a&&(a.destroy(),a=null)}),q(()=>[e.show,e.offset,e.placement],u),na([i,r],x,{eventName:"touchstart"}),()=>{var y;return s(pn,null,[s("span",{ref:i,class:Xt("wrapper"),onClick:v},[(y=n.reference)==null?void 0:y.call(n)]),s(st,se({ref:l,class:Xt([e.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,"onUpdate:show":f},o,de(e,my)),{default:()=>[e.showArrow&&s("div",{class:Xt("arrow")},null),s("div",{role:"menu",class:Xt("content")},[n.default?n.default():e.actions.map(h)])]})])}}});const yy=U(by),[py,La]=L("progress"),wy={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:V,pivotColor:String,trackColor:String,strokeWidth:z,percentage:{type:z,default:0,validator:e=>e>=0&&e<=100}};var xy=N({name:py,props:wy,setup(e){const t=R(()=>e.inactive?void 0:e.color),n=()=>{const{textColor:o,pivotText:a,pivotColor:r,percentage:i}=e,l=a??`${i}%`;if(e.showPivot&&l){const c={color:o,left:`${+i}%`,transform:`translate(-${+i}%,-50%)`,background:r||t.value};return s("span",{style:c,class:La("pivot",{inactive:e.inactive})},[l])}};return()=>{const{trackColor:o,percentage:a,strokeWidth:r}=e,i={background:o,height:ce(r)},l={width:`${a}%`,background:t.value};return s("div",{class:La(),style:i},[s("span",{class:La("portion",{inactive:e.inactive}),style:l},null),n()])}}});const Sy=U(xy),[Cy,Fn,ky]=L("pull-refresh"),dc=50,Ty=["pulling","loosing","success"],Ey={disabled:Boolean,modelValue:Boolean,headHeight:K(dc),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:z,successDuration:K(500),animationDuration:K(300)};var Oy=N({name:Cy,props:Ey,emits:["change","refresh","update:modelValue"],setup(e,{emit:t,slots:n}){let o;const a=M(),r=M(),i=Pn(a),l=me({status:"normal",distance:0,duration:0}),c=yt(),d=()=>{if(e.headHeight!==dc)return{height:`${e.headHeight}px`}},u=()=>l.status!=="loading"&&l.status!=="success"&&!e.disabled,f=b=>{const S=+(e.pullDistance||e.headHeight);return b>S&&(b<S*2?b=S+(b-S)/2:b=S*1.5+(b-S*2)/4),Math.round(b)},v=(b,S)=>{const C=+(e.pullDistance||e.headHeight);l.distance=b,S?l.status="loading":b===0?l.status="normal":b<C?l.status="pulling":l.status="loosing",t("change",{status:l.status,distance:b})},p=()=>{const{status:b}=l;return b==="normal"?"":e[`${b}Text`]||ky(b)},x=()=>{const{status:b,distance:S}=l;if(n[b])return n[b]({distance:S});const C=[];return Ty.includes(b)&&C.push(s("div",{class:Fn("text")},[p()])),b==="loading"&&C.push(s(it,{class:Fn("loading")},{default:p})),C},g=()=>{l.status="success",setTimeout(()=>{v(0)},+e.successDuration)},h=b=>{o=Mt(i.value)===0,o&&(l.duration=0,c.start(b))},y=b=>{u()&&h(b)},m=b=>{if(u()){o||h(b);const{deltaY:S}=c;c.move(b),o&&S.value>=0&&c.isVertical()&&(be(b),v(f(S.value)))}},w=()=>{o&&c.deltaY.value&&u()&&(l.duration=+e.animationDuration,l.status==="loosing"?(v(+e.headHeight,!0),t("update:modelValue",!0),oe(()=>t("refresh"))):v(0))};return q(()=>e.modelValue,b=>{l.duration=+e.animationDuration,b?v(+e.headHeight,!0):n.success||e.successText?g():v(0,!1)}),Ce("touchmove",m,{target:r}),()=>{var b;const S={transitionDuration:`${l.duration}ms`,transform:l.distance?`translate3d(0,${l.distance}px, 0)`:""};return s("div",{ref:a,class:Fn()},[s("div",{ref:r,class:Fn("track"),style:S,onTouchstartPassive:y,onTouchend:w,onTouchcancel:w},[s("div",{class:Fn("head"),style:d()},[x()]),(b=n.default)==null?void 0:b.call(n)])])}}});const By=U(Oy),[Ay,Bo]=L("rate");function $y(e,t,n,o){return e>=t?{status:"full",value:1}:e+.5>=t&&n&&!o?{status:"half",value:.5}:e+1>=t&&n&&o?{status:"half",value:Math.round((e-t+1)*1e10)/1e10}:{status:"void",value:0}}const Py={size:z,icon:Y("star"),color:String,count:K(5),gutter:z,readonly:Boolean,disabled:Boolean,voidIcon:Y("star-o"),allowHalf:Boolean,voidColor:String,touchable:V,iconPrefix:String,modelValue:vt(0),disabledColor:String};var _y=N({name:Ay,props:Py,emits:["change","update:modelValue"],setup(e,{emit:t}){const n=yt(),[o,a]=ma(),r=M(),i=()=>e.readonly||e.disabled||!e.touchable,l=R(()=>Array(+e.count).fill("").map((m,w)=>$y(e.modelValue,w+1,e.allowHalf,e.readonly)));let c,d,u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;const v=()=>{d=fe(r);const m=o.value.map(fe);c=[],m.forEach((w,b)=>{u=Math.min(w.top,u),f=Math.max(w.top,f),e.allowHalf?c.push({score:b+.5,left:w.left,top:w.top,height:w.height},{score:b+1,left:w.left+w.width/2,top:w.top,height:w.height}):c.push({score:b+1,left:w.left,top:w.top,height:w.height})})},p=(m,w)=>{for(let b=c.length-1;b>0;b--)if(w>=d.top&&w<=d.bottom){if(m>c[b].left&&w>=c[b].top&&w<=c[b].top+c[b].height)return c[b].score}else{const S=w<d.top?u:f;if(m>c[b].left&&c[b].top===S)return c[b].score}return e.allowHalf?.5:1},x=m=>{!e.disabled&&!e.readonly&&m!==e.modelValue&&(t("update:modelValue",m),t("change",m))},g=m=>{i()||(n.start(m),v())},h=m=>{if(!i()&&(n.move(m),n.isHorizontal())){const{clientX:w,clientY:b}=m.touches[0];be(m),x(p(w,b))}},y=(m,w)=>{const{icon:b,size:S,color:C,count:O,gutter:T,voidIcon:E,disabled:B,voidColor:k,allowHalf:_,iconPrefix:$,disabledColor:H}=e,D=w+1,I=m.status==="full",X=m.status==="void",J=_&&m.value>0&&m.value<1;let ne;T&&D!==+O&&(ne={paddingRight:ce(T)});const A=W=>{v(),x(_?p(W.clientX,W.clientY):D)};return s("div",{key:w,ref:a(w),role:"radio",style:ne,class:Bo("item"),tabindex:B?void 0:0,"aria-setsize":O,"aria-posinset":D,"aria-checked":!X,onClick:A},[s(ae,{size:S,name:I?b:E,class:Bo("icon",{disabled:B,full:I}),color:B?H:I?C:k,classPrefix:$},null),J&&s(ae,{size:S,style:{width:m.value+"em"},name:X?E:b,class:Bo("icon",["half",{disabled:B,full:!X}]),color:B?H:X?k:C,classPrefix:$},null)])};return Ht(()=>e.modelValue),Ce("touchmove",h,{target:r}),()=>s("div",{ref:r,role:"radiogroup",class:Bo({readonly:e.readonly,disabled:e.disabled}),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,"aria-readonly":e.readonly,onTouchstartPassive:g},[l.value.map(y)])}});const Dy=U(_y),Iy=U(Zv),[Ry,Hn,My]=L("search"),Vy=Z({},Lr,{label:String,shape:Y("square"),leftIcon:Y("search"),clearable:V,actionText:String,background:String,showAction:Boolean});var Ny=N({name:Ry,props:Vy,emits:["blur","focus","clear","search","cancel","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:t,slots:n,attrs:o}){const a=Dn(),r=M(),i=()=>{n.action||(t("update:modelValue",""),t("cancel"))},l=S=>{S.keyCode===13&&(be(S),t("search",e.modelValue))},c=()=>e.id||`${a}-input`,d=()=>{if(n.label||e.label)return s("label",{class:Hn("label"),for:c()},[n.label?n.label():e.label])},u=()=>{if(e.showAction){const S=e.actionText||My("cancel");return s("div",{class:Hn("action"),role:"button",tabindex:0,onClick:i},[n.action?n.action():S])}},f=()=>{var S;return(S=r.value)==null?void 0:S.blur()},v=()=>{var S;return(S=r.value)==null?void 0:S.focus()},p=S=>t("blur",S),x=S=>t("focus",S),g=S=>t("clear",S),h=S=>t("click-input",S),y=S=>t("click-left-icon",S),m=S=>t("click-right-icon",S),w=Object.keys(Lr),b=()=>{const S=Z({},o,de(e,w),{id:c()}),C=O=>t("update:modelValue",O);return s(ft,se({ref:r,type:"search",class:Hn("field"),border:!1,onBlur:p,onFocus:x,onClear:g,onKeypress:l,"onClick-input":h,"onClick-left-icon":y,"onClick-right-icon":m,"onUpdate:modelValue":C},S),de(n,["left-icon","right-icon"]))};return le({focus:v,blur:f}),()=>{var S;return s("div",{class:Hn({"show-action":e.showAction}),style:{background:e.background}},[(S=n.left)==null?void 0:S.call(n),s("div",{class:Hn("content",e.shape)},[d(),b()]),u()])}}});const Ly=U(Ny),Fy=[...Mr,"round","closeOnPopstate","safeAreaInsetBottom"],bs={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[Hy,et,zy]=L("share-sheet"),Wy=Z({},_n,{title:String,round:V,options:Te(),cancelText:String,description:String,closeOnPopstate:V,safeAreaInsetBottom:V});var Uy=N({name:Hy,props:Wy,emits:["cancel","select","update:show"],setup(e,{emit:t,slots:n}){const o=v=>t("update:show",v),a=()=>{o(!1),t("cancel")},r=(v,p)=>t("select",v,p),i=()=>{const v=n.title?n.title():e.title,p=n.description?n.description():e.description;if(v||p)return s("div",{class:et("header")},[v&&s("h2",{class:et("title")},[v]),p&&s("span",{class:et("description")},[p])])},l=v=>bs[v]?s("div",{class:et("icon",[v])},[s(ae,{name:bs[v]||v},null)]):s("img",{src:v,class:et("image-icon")},null),c=(v,p)=>{const{name:x,icon:g,className:h,description:y}=v;return s("div",{role:"button",tabindex:0,class:[et("option"),h,Le],onClick:()=>r(v,p)},[l(g),x&&s("span",{class:et("name")},[x]),y&&s("span",{class:et("option-description")},[y])])},d=(v,p)=>s("div",{class:et("options",{border:p})},[v.map(c)]),u=()=>{const{options:v}=e;return Array.isArray(v[0])?v.map((p,x)=>d(p,x!==0)):d(v)},f=()=>{var v;const p=(v=e.cancelText)!=null?v:zy("cancel");if(n.cancel||p)return s("button",{type:"button",class:et("cancel"),onClick:a},[n.cancel?n.cancel():p])};return()=>s(st,se({class:et(),position:"bottom","onUpdate:show":o},de(e,Fy)),{default:()=>[i(),u(),f()]})}});const jy=U(Uy),[fc,Yy]=L("sidebar"),hc=Symbol(fc),qy={modelValue:K(0)};var Ky=N({name:fc,props:qy,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:o}=Ie(hc),a=()=>+e.modelValue;return o({getActive:a,setActive:i=>{i!==a()&&(t("update:modelValue",i),t("change",i))}}),()=>{var i;return s("div",{role:"tablist",class:Yy()},[(i=n.default)==null?void 0:i.call(n)])}}});const vc=U(Ky),[Xy,ys]=L("sidebar-item"),Gy=Z({},jt,{dot:Boolean,title:String,badge:z,disabled:Boolean,badgeProps:Object});var Zy=N({name:Xy,props:Gy,emits:["click"],setup(e,{emit:t,slots:n}){const o=nn(),{parent:a,index:r}=Pe(hc);if(!a)return;const i=()=>{e.disabled||(t("click",r.value),a.setActive(r.value),o())};return()=>{const{dot:l,badge:c,title:d,disabled:u}=e,f=r.value===a.getActive();return s("div",{role:"tab",class:ys({select:f,disabled:u}),tabindex:u?void 0:0,"aria-selected":f,onClick:i},[s(on,se({dot:l,class:ys("text"),content:c},e.badgeProps),{default:()=>[n.title?n.title():d]})])}}});const mc=U(Zy),[Jy,zn]=L("skeleton"),gc="100%",Qy="60%",e0={row:K(0),title:Boolean,round:Boolean,avatar:Boolean,loading:V,animate:V,avatarSize:z,titleWidth:z,avatarShape:Y("round"),rowWidth:{type:[Number,String,Array],default:gc}};var t0=N({name:Jy,inheritAttrs:!1,props:e0,setup(e,{slots:t,attrs:n}){const o=()=>{if(e.avatar)return s("div",{class:zn("avatar",e.avatarShape),style:zt(e.avatarSize)},null)},a=()=>{if(e.title)return s("h3",{class:zn("title"),style:{width:ce(e.titleWidth)}},null)},r=l=>{const{rowWidth:c}=e;return c===gc&&l===+e.row-1?Qy:Array.isArray(c)?c[l]:c},i=()=>Array(+e.row).fill("").map((l,c)=>s("div",{class:zn("row"),style:{width:ce(r(c))}},null));return()=>{var l;return e.loading?s("div",se({class:zn({animate:e.animate,round:e.round})},n),[o(),s("div",{class:zn("content")},[a(),i()])]):(l=t.default)==null?void 0:l.call(t)}}});const n0=U(t0),[o0,Wn]=L("slider"),a0={min:K(0),max:K(100),step:K(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:z,buttonSize:z,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var r0=N({name:o0,props:a0,emits:["change","drag-end","drag-start","update:modelValue"],setup(e,{emit:t,slots:n}){let o,a,r;const i=M(),l=M(),c=M(),d=yt(),u=R(()=>Number(e.max)-Number(e.min)),f=R(()=>{const k=e.vertical?"width":"height";return{background:e.inactiveColor,[k]:ce(e.barHeight)}}),v=k=>e.range&&Array.isArray(k),p=()=>{const{modelValue:k,min:_}=e;return v(k)?`${(k[1]-k[0])*100/u.value}%`:`${(k-Number(_))*100/u.value}%`},x=()=>{const{modelValue:k,min:_}=e;return v(k)?`${(k[0]-Number(_))*100/u.value}%`:"0%"},g=R(()=>{const _={[e.vertical?"height":"width"]:p(),background:e.activeColor};c.value&&(_.transition="none");const $=()=>e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left";return _[$()]=x(),_}),h=k=>{const _=+e.min,$=+e.max,H=+e.step;k=Oe(k,_,$);const D=Math.round((k-_)/H)*H;return ol(_,D)},y=(k,_)=>JSON.stringify(k)===JSON.stringify(_),m=k=>{var _,$;const H=(_=k[0])!=null?_:Number(e.min),D=($=k[1])!=null?$:Number(e.max);return H>D?[D,H]:[H,D]},w=(k,_)=>{v(k)?k=m(k).map(h):k=h(k),y(k,e.modelValue)||t("update:modelValue",k),_&&!y(k,r)&&t("change",k)},b=k=>{if(k.stopPropagation(),e.disabled||e.readonly)return;const{min:_,reverse:$,vertical:H,modelValue:D}=e,I=fe(i),X=()=>H?$?I.bottom-k.clientY:k.clientY-I.top:$?I.right-k.clientX:k.clientX-I.left,J=H?I.height:I.width,ne=Number(_)+X()/J*u.value;if(v(D)){const[A,W]=D,j=(A+W)/2;ne<=j?w([ne,W],!0):w([A,ne],!0)}else w(ne,!0)},S=k=>{e.disabled||e.readonly||(d.start(k),a=e.modelValue,v(a)?r=a.map(h):r=h(a),c.value="start")},C=k=>{if(e.disabled||e.readonly)return;c.value==="start"&&t("drag-start",k),be(k,!0),d.move(k),c.value="dragging";const _=fe(i),$=e.vertical?d.deltaY.value:d.deltaX.value,H=e.vertical?_.height:_.width;let D=$/H*u.value;if(e.reverse&&(D=-D),v(r)){const I=e.reverse?1-o:o;a[I]=r[I]+D}else a=r+D;w(a)},O=k=>{e.disabled||e.readonly||(c.value==="dragging"&&(w(a,!0),t("drag-end",k)),c.value="")},T=k=>typeof k=="number"?Wn("button-wrapper",["left","right"][k]):Wn("button-wrapper",e.reverse?"left":"right"),E=(k,_)=>{if(typeof _=="number"){const $=n[_===0?"left-button":"right-button"];if($)return $({value:k})}return n.button?n.button({value:k}):s("div",{class:Wn("button"),style:zt(e.buttonSize)},null)},B=k=>{const _=typeof k=="number"?e.modelValue[k]:e.modelValue;return s("div",{ref:l,role:"slider",class:T(k),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":_,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstartPassive:$=>{typeof k=="number"&&(o=k),S($)},onTouchend:O,onTouchcancel:O,onClick:_r},[E(_,k)])};return w(e.modelValue),Ht(()=>e.modelValue),Ce("touchmove",C,{target:l}),()=>s("div",{ref:i,style:f.value,class:Wn({vertical:e.vertical,disabled:e.disabled}),onClick:b},[s("div",{class:Wn("bar"),style:g.value},[e.range?[B(0),B(1)]:B()])])}});const i0=U(r0),[ps,s0]=L("space"),l0={align:String,direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:8},wrap:Boolean,fill:Boolean};function bc(e=[]){const t=[];return e.forEach(n=>{Array.isArray(n)?t.push(...n):n.type===pn?t.push(...bc(n.children)):t.push(n)}),t.filter(n=>{var o;return!(n&&(typeof Comment<"u"&&n.type===Comment||n.type===pn&&((o=n.children)==null?void 0:o.length)===0||n.type===Text&&n.children.trim()===""))})}var c0=N({name:ps,props:l0,setup(e,{slots:t}){const n=R(()=>{var r;return(r=e.align)!=null?r:e.direction==="horizontal"?"center":""}),o=r=>typeof r=="number"?r+"px":r,a=r=>{const i={},l=`${o(Array.isArray(e.size)?e.size[0]:e.size)}`,c=`${o(Array.isArray(e.size)?e.size[1]:e.size)}`;return r?e.wrap?{marginBottom:c}:{}:(e.direction==="horizontal"&&(i.marginRight=l),(e.direction==="vertical"||e.wrap)&&(i.marginBottom=c),i)};return()=>{var r;const i=bc((r=t.default)==null?void 0:r.call(t));return s("div",{class:[s0({[e.direction]:e.direction,[`align-${n.value}`]:n.value,wrap:e.wrap,fill:e.fill})]},[i.map((l,c)=>s("div",{key:`item-${c}`,class:`${ps}-item`,style:a(c===i.length-1)},[l]))])}}});const u0=U(c0),[yc,ws]=L("steps"),d0={active:K(0),direction:Y("horizontal"),activeIcon:Y("checked"),iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String},pc=Symbol(yc);var f0=N({name:yc,props:d0,emits:["click-step"],setup(e,{emit:t,slots:n}){const{linkChildren:o}=Ie(pc);return o({props:e,onClickStep:r=>t("click-step",r)}),()=>{var r;return s("div",{class:ws([e.direction])},[s("div",{class:ws("items")},[(r=n.default)==null?void 0:r.call(n)])])}}});const[h0,_t]=L("step");var v0=N({name:h0,setup(e,{slots:t}){const{parent:n,index:o}=Pe(pc);if(!n)return;const a=n.props,r=()=>{const f=+a.active;return o.value<f?"finish":o.value===f?"process":"waiting"},i=()=>r()==="process",l=R(()=>({background:r()==="finish"?a.activeColor:a.inactiveColor})),c=R(()=>{if(i())return{color:a.activeColor};if(r()==="waiting")return{color:a.inactiveColor}}),d=()=>n.onClickStep(o.value),u=()=>{const{iconPrefix:f,finishIcon:v,activeIcon:p,activeColor:x,inactiveIcon:g}=a;return i()?t["active-icon"]?t["active-icon"]():s(ae,{class:_t("icon","active"),name:p,color:x,classPrefix:f},null):r()==="finish"&&(v||t["finish-icon"])?t["finish-icon"]?t["finish-icon"]():s(ae,{class:_t("icon","finish"),name:v,color:x,classPrefix:f},null):t["inactive-icon"]?t["inactive-icon"]():g?s(ae,{class:_t("icon"),name:g,classPrefix:f},null):s("i",{class:_t("circle"),style:l.value},null)};return()=>{var f;const v=r();return s("div",{class:[Wt,_t([a.direction,{[v]:v}])]},[s("div",{class:_t("title",{active:i()}),style:c.value,onClick:d},[(f=t.default)==null?void 0:f.call(t)]),s("div",{class:_t("circle-container"),onClick:d},[u()]),s("div",{class:_t("line"),style:l.value},null)])}}});const m0=U(v0),[g0,Ao]=L("stepper"),b0=200,y0=600,$o=(e,t)=>String(e)===String(t),p0={min:K(1),max:K(1/0),name:K(""),step:K(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:V,showMinus:V,showInput:V,longPress:V,allowEmpty:Boolean,modelValue:z,inputWidth:z,buttonSize:z,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:K(1),decimalLength:z};var w0=N({name:g0,props:p0,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:t}){const n=T=>{const{min:E,max:B,allowEmpty:k,decimalLength:_}=e;return k&&T===""||(T=rr(String(T),!e.integer),T=T===""?0:+T,T=Number.isNaN(T)?+E:T,T=Math.max(Math.min(+B,T),+E),ie(_)&&(T=T.toFixed(+_))),T},o=()=>{var T;const E=(T=e.modelValue)!=null?T:e.defaultValue,B=n(E);return $o(B,e.modelValue)||t("update:modelValue",B),B};let a;const r=M(),i=M(o()),l=R(()=>e.disabled||e.disableMinus||i.value<=+e.min),c=R(()=>e.disabled||e.disablePlus||i.value>=+e.max),d=R(()=>({width:ce(e.inputWidth),height:ce(e.buttonSize)})),u=R(()=>zt(e.buttonSize)),f=()=>{const T=n(i.value);$o(T,i.value)||(i.value=T)},v=T=>{e.beforeChange?Ut(e.beforeChange,{args:[T],done(){i.value=T}}):i.value=T},p=()=>{if(a==="plus"&&c.value||a==="minus"&&l.value){t("overlimit",a);return}const T=a==="minus"?-e.step:+e.step,E=n(ol(+i.value,T));v(E),t(a)},x=T=>{const E=T.target,{value:B}=E,{decimalLength:k}=e;let _=rr(String(B),!e.integer);if(ie(k)&&_.includes(".")){const H=_.split(".");_=`${H[0]}.${H[1].slice(0,+k)}`}e.beforeChange?E.value=String(i.value):$o(B,_)||(E.value=_);const $=_===String(+_);v($?+_:_)},g=T=>{var E;e.disableInput?(E=r.value)==null||E.blur():t("focus",T)},h=T=>{const E=T.target,B=n(E.value);E.value=String(B),i.value=B,oe(()=>{t("blur",T),tl()})};let y,m;const w=()=>{m=setTimeout(()=>{p(),w()},b0)},b=()=>{e.longPress&&(y=!1,clearTimeout(m),m=setTimeout(()=>{y=!0,p(),w()},y0))},S=T=>{e.longPress&&(clearTimeout(m),y&&be(T))},C=T=>{e.disableInput&&be(T)},O=T=>({onClick:E=>{be(E),a=T,p()},onTouchstartPassive:()=>{a=T,b()},onTouchend:S,onTouchcancel:S});return q(()=>[e.max,e.min,e.integer,e.decimalLength],f),q(()=>e.modelValue,T=>{$o(T,i.value)||(i.value=n(T))}),q(i,T=>{t("update:modelValue",T),t("change",T,{name:e.name})}),Ht(()=>e.modelValue),()=>s("div",{role:"group",class:Ao([e.theme])},[$e(s("button",se({type:"button",style:u.value,class:[Ao("minus",{disabled:l.value}),{[Le]:!l.value}],"aria-disabled":l.value||void 0},O("minus")),null),[[De,e.showMinus]]),$e(s("input",{ref:r,type:e.integer?"tel":"text",role:"spinbutton",class:Ao("input"),value:i.value,style:d.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,"aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":i.value,onBlur:h,onInput:x,onFocus:g,onMousedown:C},null),[[De,e.showInput]]),$e(s("button",se({type:"button",style:u.value,class:[Ao("plus",{disabled:c.value}),{[Le]:!c.value}],"aria-disabled":c.value||void 0},O("plus")),null),[[De,e.showPlus]])])}});const x0=U(w0),S0=U(f0),[C0,tt,k0]=L("submit-bar"),T0={tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,currency:Y("¥"),disabled:Boolean,textAlign:String,buttonText:String,buttonType:Y("danger"),buttonColor:String,suffixLabel:String,placeholder:Boolean,decimalLength:K(2),safeAreaInsetBottom:V};var E0=N({name:C0,props:T0,emits:["submit"],setup(e,{emit:t,slots:n}){const o=M(),a=sa(o,tt),r=()=>{const{price:u,label:f,currency:v,textAlign:p,suffixLabel:x,decimalLength:g}=e;if(typeof u=="number"){const h=(u/100).toFixed(+g).split("."),y=g?`.${h[1]}`:"";return s("div",{class:tt("text"),style:{textAlign:p}},[s("span",null,[f||k0("label")]),s("span",{class:tt("price")},[v,s("span",{class:tt("price-integer")},[h[0]]),y]),x&&s("span",{class:tt("suffix-label")},[x])])}},i=()=>{var u;const{tip:f,tipIcon:v}=e;if(n.tip||f)return s("div",{class:tt("tip")},[v&&s(ae,{class:tt("tip-icon"),name:v},null),f&&s("span",{class:tt("tip-text")},[f]),(u=n.tip)==null?void 0:u.call(n)])},l=()=>t("submit"),c=()=>n.button?n.button():s(Fe,{round:!0,type:e.buttonType,text:e.buttonText,class:tt("button",e.buttonType),color:e.buttonColor,loading:e.loading,disabled:e.disabled,onClick:l},null),d=()=>{var u,f;return s("div",{ref:o,class:[tt(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(u=n.top)==null?void 0:u.call(n),i(),s("div",{class:tt("bar")},[(f=n.default)==null?void 0:f.call(n),r(),c()])])};return()=>e.placeholder?a(d):d()}});const O0=U(E0),[B0,Fa]=L("swipe-cell"),A0={name:K(""),disabled:Boolean,leftWidth:z,rightWidth:z,beforeClose:Function,stopPropagation:Boolean};var $0=N({name:B0,props:A0,emits:["open","close","click"],setup(e,{emit:t,slots:n}){let o,a,r;const i=M(),l=M(),c=M(),d=me({offset:0,dragging:!1}),u=yt(),f=O=>O.value?fe(O).width:0,v=R(()=>ie(e.leftWidth)?+e.leftWidth:f(l)),p=R(()=>ie(e.rightWidth)?+e.rightWidth:f(c)),x=O=>{d.offset=O==="left"?v.value:-p.value,o||(o=!0,t("open",{name:e.name,position:O}))},g=O=>{d.offset=0,o&&(o=!1,t("close",{name:e.name,position:O}))},h=O=>{const T=Math.abs(d.offset),E=.15,B=o?1-E:E,k=O==="left"?v.value:p.value;k&&T>k*B?x(O):g(O)},y=O=>{e.disabled||(r=d.offset,u.start(O))},m=O=>{if(e.disabled)return;const{deltaX:T}=u;u.move(O),u.isHorizontal()&&(a=!0,d.dragging=!0,(!o||T.value*r<0)&&be(O,e.stopPropagation),d.offset=Oe(T.value+r,-p.value,v.value))},w=()=>{d.dragging&&(d.dragging=!1,h(d.offset>0?"left":"right"),setTimeout(()=>{a=!1},0))},b=(O="outside")=>{t("click",O),o&&!a&&Ut(e.beforeClose,{args:[{name:e.name,position:O}],done:()=>g(O)})},S=(O,T)=>E=>{T&&E.stopPropagation(),b(O)},C=(O,T)=>{const E=n[O];if(E)return s("div",{ref:T,class:Fa(O),onClick:S(O,!0)},[E()])};return le({open:x,close:g}),na(i,()=>b("outside"),{eventName:"touchstart"}),Ce("touchmove",m,{target:i}),()=>{var O;const T={transform:`translate3d(${d.offset}px, 0, 0)`,transitionDuration:d.dragging?"0s":".6s"};return s("div",{ref:i,class:Fa(),onClick:S("cell",a),onTouchstartPassive:y,onTouchend:w,onTouchcancel:w},[s("div",{class:Fa("wrapper"),style:T},[C("left",l),(O=n.default)==null?void 0:O.call(n),C("right",c)])])}}});const P0=U($0),[wc,xs]=L("tabbar"),_0={route:Boolean,fixed:V,border:V,zIndex:z,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:K(0),safeAreaInsetBottom:{type:Boolean,default:null}},xc=Symbol(wc);var D0=N({name:wc,props:_0,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const o=M(),{linkChildren:a}=Ie(xc),r=sa(o,xs),i=()=>{var d;return(d=e.safeAreaInsetBottom)!=null?d:e.fixed},l=()=>{var d;const{fixed:u,zIndex:f,border:v}=e;return s("div",{ref:o,role:"tablist",style:tn(f),class:[xs({fixed:u}),{[ra]:v,"van-safe-area-bottom":i()}]},[(d=n.default)==null?void 0:d.call(n)])};return a({props:e,setActive:(d,u)=>{Ut(e.beforeChange,{args:[d],done(){t("update:modelValue",d),t("change",d),u()}})}}),()=>e.fixed&&e.placeholder?r(l):l()}});const I0=U(D0),[R0,Ha]=L("tabbar-item"),M0=Z({},jt,{dot:Boolean,icon:String,name:z,badge:z,badgeProps:Object,iconPrefix:String});var V0=N({name:R0,props:M0,emits:["click"],setup(e,{emit:t,slots:n}){const o=nn(),a=Vt().proxy,{parent:r,index:i}=Pe(xc);if(!r)return;const l=R(()=>{var u;const{route:f,modelValue:v}=r.props;if(f&&"$route"in a){const{$route:p}=a,{to:x}=e,g=Ye(x)?x:{path:x};return!!p.matched.find(h=>{const y="path"in g&&g.path===h.path,m="name"in g&&g.name===h.name;return y||m})}return((u=e.name)!=null?u:i.value)===v}),c=u=>{var f;l.value||r.setActive((f=e.name)!=null?f:i.value,o),t("click",u)},d=()=>{if(n.icon)return n.icon({active:l.value});if(e.icon)return s(ae,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var u;const{dot:f,badge:v}=e,{activeColor:p,inactiveColor:x}=r.props,g=l.value?p:x;return s("div",{role:"tab",class:Ha({active:l.value}),style:{color:g},tabindex:0,"aria-selected":l.value,onClick:c},[s(on,se({dot:f,class:Ha("icon"),content:v},e.badgeProps),{default:d}),s("div",{class:Ha("text")},[(u=n.default)==null?void 0:u.call(n,{active:l.value})])])}}});const N0=U(V0),[L0,mn]=L("tree-select"),F0={max:K(1/0),items:Te(),height:K(300),selectedIcon:Y("success"),mainActiveIndex:K(0),activeId:{type:[Number,String,Array],default:0}};var H0=N({name:L0,props:F0,emits:["click-nav","click-item","update:activeId","update:mainActiveIndex"],setup(e,{emit:t,slots:n}){const o=d=>Array.isArray(e.activeId)?e.activeId.includes(d):e.activeId===d,a=d=>{const u=()=>{if(d.disabled)return;let f;if(Array.isArray(e.activeId)){f=e.activeId.slice();const v=f.indexOf(d.id);v!==-1?f.splice(v,1):f.length<e.max&&f.push(d.id)}else f=d.id;t("update:activeId",f),t("click-item",d)};return s("div",{key:d.id,class:["van-ellipsis",mn("item",{active:o(d.id),disabled:d.disabled})],onClick:u},[d.text,o(d.id)&&s(ae,{name:e.selectedIcon,class:mn("selected")},null)])},r=d=>{t("update:mainActiveIndex",d)},i=d=>t("click-nav",d),l=()=>{const d=e.items.map(u=>s(mc,{dot:u.dot,title:u.text,badge:u.badge,class:[mn("nav-item"),u.className],disabled:u.disabled,onClick:i},null));return s(vc,{class:mn("nav"),modelValue:e.mainActiveIndex,onChange:r},{default:()=>[d]})},c=()=>{if(n.content)return n.content();const d=e.items[+e.mainActiveIndex]||{};if(d.children)return d.children.map(a)};return()=>s("div",{class:mn(),style:{height:ce(e.height)}},[l(),s("div",{class:mn("content")},[c()])])}});const z0=U(H0),[W0,pe,U0]=L("uploader");function Ss(e,t){return new Promise(n=>{if(t==="file"){n();return}const o=new FileReader;o.onload=a=>{n(a.target.result)},t==="dataUrl"?o.readAsDataURL(e):t==="text"&&o.readAsText(e)})}function Sc(e,t){return Wo(e).some(n=>n.file?Tn(t)?t(n.file):n.file.size>t:!1)}function j0(e,t){const n=[],o=[];return e.forEach(a=>{Sc(a,t)?o.push(a):n.push(a)}),{valid:n,invalid:o}}const Y0=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg|avif)/i,q0=e=>Y0.test(e);function Cc(e){return e.isImage?!0:e.file&&e.file.type?e.file.type.indexOf("image")===0:e.url?q0(e.url):typeof e.content=="string"?e.content.indexOf("data:image")===0:!1}var K0=N({props:{name:z,item:xe(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview"],setup(e,{emit:t,slots:n}){const o=()=>{const{status:d,message:u}=e.item;if(d==="uploading"||d==="failed"){const f=d==="failed"?s(ae,{name:"close",class:pe("mask-icon")},null):s(it,{class:pe("loading")},null),v=ie(u)&&u!=="";return s("div",{class:pe("mask")},[f,v&&s("div",{class:pe("mask-message")},[u])])}},a=d=>{const{name:u,item:f,index:v,beforeDelete:p}=e;d.stopPropagation(),Ut(p,{args:[f,{name:u,index:v}],done:()=>t("delete")})},r=()=>t("preview"),i=()=>{if(e.deletable&&e.item.status!=="uploading"){const d=n["preview-delete"];return s("div",{role:"button",class:pe("preview-delete",{shadow:!d}),tabindex:0,"aria-label":U0("delete"),onClick:a},[d?d():s(ae,{name:"cross",class:pe("preview-delete-icon")},null)])}},l=()=>{if(n["preview-cover"]){const{index:d,item:u}=e;return s("div",{class:pe("preview-cover")},[n["preview-cover"](Z({index:d},u))])}},c=()=>{const{item:d,lazyLoad:u,imageFit:f,previewSize:v}=e;return Cc(d)?s(ga,{fit:f,src:d.objectUrl||d.content||d.url,class:pe("preview-image"),width:Array.isArray(v)?v[0]:v,height:Array.isArray(v)?v[1]:v,lazyLoad:u,onClick:r},{default:l}):s("div",{class:pe("file"),style:zt(e.previewSize)},[s(ae,{class:pe("file-icon"),name:"description"},null),s("div",{class:[pe("file-name"),"van-ellipsis"]},[d.file?d.file.name:d.url]),l()])};return()=>s("div",{class:pe("preview")},[c(),o(),i()])}});const X0={name:K(""),accept:Y("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:K(1/0),imageFit:Y("cover"),resultType:Y("dataUrl"),uploadIcon:Y("photograph"),uploadText:String,deletable:V,afterRead:Function,showUpload:V,modelValue:Te(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:V,previewOptions:Object,previewFullImage:V,maxSize:{type:[Number,String,Function],default:1/0}};var G0=N({name:W0,props:X0,emits:["delete","oversize","click-upload","close-preview","click-preview","update:modelValue"],setup(e,{emit:t,slots:n}){const o=M(),a=[],r=(b=e.modelValue.length)=>({name:e.name,index:b}),i=()=>{o.value&&(o.value.value="")},l=b=>{if(i(),Sc(b,e.maxSize))if(Array.isArray(b)){const S=j0(b,e.maxSize);if(b=S.valid,t("oversize",S.invalid,r()),!b.length)return}else{t("oversize",b,r());return}b=me(b),t("update:modelValue",[...e.modelValue,...Wo(b)]),e.afterRead&&e.afterRead(b,r())},c=b=>{const{maxCount:S,modelValue:C,resultType:O}=e;if(Array.isArray(b)){const T=+S-C.length;b.length>T&&(b=b.slice(0,T)),Promise.all(b.map(E=>Ss(E,O))).then(E=>{const B=b.map((k,_)=>{const $={file:k,status:"",message:"",objectUrl:URL.createObjectURL(k)};return E[_]&&($.content=E[_]),$});l(B)})}else Ss(b,O).then(T=>{const E={file:b,status:"",message:"",objectUrl:URL.createObjectURL(b)};T&&(E.content=T),l(E)})},d=b=>{const{files:S}=b.target;if(e.disabled||!S||!S.length)return;const C=S.length===1?S[0]:[].slice.call(S);if(e.beforeRead){const O=e.beforeRead(C,r());if(!O){i();return}if(Pr(O)){O.then(T=>{c(T||C)}).catch(i);return}}c(C)};let u;const f=()=>t("close-preview"),v=b=>{if(e.previewFullImage){const S=e.modelValue.filter(Cc),C=S.map(O=>(O.objectUrl&&!O.url&&O.status!=="failed"&&(O.url=O.objectUrl,a.push(O.url)),O.url)).filter(Boolean);u=to(Z({images:C,startPosition:S.indexOf(b),onClose:f},e.previewOptions))}},p=()=>{u&&u.close()},x=(b,S)=>{const C=e.modelValue.slice(0);C.splice(S,1),t("update:modelValue",C),t("delete",b,r(S))},g=(b,S)=>{const C=["imageFit","deletable","previewSize","beforeDelete"],O=Z(de(e,C),de(b,C,!0));return s(K0,se({item:b,index:S,onClick:()=>t("click-preview",b,r(S)),onDelete:()=>x(b,S),onPreview:()=>v(b)},de(e,["name","lazyLoad"]),O),de(n,["preview-cover","preview-delete"]))},h=()=>{if(e.previewImage)return e.modelValue.map(g)},y=b=>t("click-upload",b),m=()=>{if(e.modelValue.length>=e.maxCount||!e.showUpload)return;const b=e.readonly?null:s("input",{ref:o,type:"file",class:pe("input"),accept:e.accept,capture:e.capture,multiple:e.multiple,disabled:e.disabled,onChange:d},null);return n.default?s("div",{class:pe("input-wrapper"),onClick:y},[n.default(),b]):s("div",{class:pe("upload",{readonly:e.readonly}),style:zt(e.previewSize),onClick:y},[s(ae,{name:e.uploadIcon,class:pe("upload-icon")},null),e.uploadText&&s("span",{class:pe("upload-text")},[e.uploadText]),b])},w=()=>{o.value&&!e.disabled&&o.value.click()};return en(()=>{a.forEach(b=>URL.revokeObjectURL(b))}),le({chooseFile:w,closeImagePreview:p}),Ht(()=>e.modelValue),()=>s("div",{class:pe()},[s("div",{class:pe("wrapper",{disabled:e.disabled})},[h(),m()])])}});const Z0=U(G0),J0="3.6.16";function Q0(e){[fl,sr,vf,Bf,wh,Mh,wl,on,Fe,Gh,ov,$v,lt,Iv,zl,zv,Kv,nm,im,dm,fm,gm,wm,Tm,Pm,hr,Lm,Ym,tg,Se,ug,gg,bg,ql,ft,Nr,xg,Tg,ae,ga,to,Lg,Fg,jg,it,rl,Xg,Qg,je,fb,bl,gb,wb,ca,yy,st,Sy,By,Ur,zr,Dy,Iy,Ly,jy,vc,mc,n0,i0,u0,m0,x0,S0,Il,O0,Yr,P0,qr,Hr,Ko,I0,N0,Kr,va,He,z0,Z0].forEach(n=>{n.install?e.use(n):n.name&&e.component(n.name,n)})}var Zp={install:Q0,version:J0};(function(){if(typeof window>"u")return;var e,t="ontouchstart"in window;document.createTouch||(document.createTouch=function(u,f,v,p,x,g,h){return new n(f,v,{pageX:p,pageY:x,screenX:g,screenY:h,clientX:p-window.pageXOffset,clientY:x-window.pageYOffset},0,0)}),document.createTouchList||(document.createTouchList=function(){for(var u=o(),f=0;f<arguments.length;f++)u[f]=arguments[f];return u.length=arguments.length,u}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(u){var f=this;do{if(f.matches(u))return f;f=f.parentElement||f.parentNode}while(f!==null&&f.nodeType===1);return null});var n=function(f,v,p,x,g){x=x||0,g=g||0,this.identifier=v,this.target=f,this.clientX=p.clientX+x,this.clientY=p.clientY+g,this.screenX=p.screenX+x,this.screenY=p.screenY+g,this.pageX=p.pageX+x,this.pageY=p.pageY+g};function o(){var u=[];return u.item=function(f){return this[f]||null},u.identifiedTouch=function(f){return this[f+1]||null},u}var a=!1;function r(u){return function(f){f.type==="mousedown"&&(a=!0),f.type==="mouseup"&&(a=!1),!(f.type==="mousemove"&&!a)&&((f.type==="mousedown"||!e||e&&!e.dispatchEvent)&&(e=f.target),e.closest("[data-no-touch-simulate]")==null&&i(u,f),f.type==="mouseup"&&(e=null))}}function i(u,f){var v=document.createEvent("Event");v.initEvent(u,!0,!0),v.altKey=f.altKey,v.ctrlKey=f.ctrlKey,v.metaKey=f.metaKey,v.shiftKey=f.shiftKey,v.touches=c(f),v.targetTouches=c(f),v.changedTouches=l(f),e.dispatchEvent(v)}function l(u){var f=o();return f.push(new n(e,1,u,0,0)),f}function c(u){return u.type==="mouseup"?o():l(u)}function d(){window.addEventListener("mousedown",r("touchstart"),!0),window.addEventListener("mousemove",r("touchmove"),!0),window.addEventListener("mouseup",r("touchend"),!0)}d.multiTouchOffset=75,t||new d})();const bt=Object.create(null);bt.open="0";bt.close="1";bt.ping="2";bt.pong="3";bt.message="4";bt.upgrade="5";bt.noop="6";const Lo=Object.create(null);Object.keys(bt).forEach(e=>{Lo[bt[e]]=e});const br={type:"error",data:"parser error"},kc=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Tc=typeof ArrayBuffer=="function",Ec=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,ei=({type:e,data:t},n,o)=>kc&&t instanceof Blob?n?o(t):Cs(t,o):Tc&&(t instanceof ArrayBuffer||Ec(t))?n?o(t):Cs(new Blob([t]),o):o(bt[e]+(t||"")),Cs=(e,t)=>{const n=new FileReader;return n.onload=function(){const o=n.result.split(",")[1];t("b"+(o||""))},n.readAsDataURL(e)};function ks(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let za;function ep(e,t){if(kc&&e.data instanceof Blob)return e.data.arrayBuffer().then(ks).then(t);if(Tc&&(e.data instanceof ArrayBuffer||Ec(e.data)))return t(ks(e.data));ei(e,!1,n=>{za||(za=new TextEncoder),t(za.encode(n))})}const Ts="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Un=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Ts.length;e++)Un[Ts.charCodeAt(e)]=e;const tp=e=>{let t=e.length*.75,n=e.length,o,a=0,r,i,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(o=0;o<n;o+=4)r=Un[e.charCodeAt(o)],i=Un[e.charCodeAt(o+1)],l=Un[e.charCodeAt(o+2)],c=Un[e.charCodeAt(o+3)],u[a++]=r<<2|i>>4,u[a++]=(i&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},np=typeof ArrayBuffer=="function",ti=(e,t)=>{if(typeof e!="string")return{type:"message",data:Oc(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:op(e.substring(1),t)}:Lo[n]?e.length>1?{type:Lo[n],data:e.substring(1)}:{type:Lo[n]}:br},op=(e,t)=>{if(np){const n=tp(e);return Oc(n,t)}else return{base64:!0,data:e}},Oc=(e,t)=>t==="blob"?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,Bc="",ap=(e,t)=>{const n=e.length,o=new Array(n);let a=0;e.forEach((r,i)=>{ei(r,!1,l=>{o[i]=l,++a===n&&t(o.join(Bc))})})},rp=(e,t)=>{const n=e.split(Bc),o=[];for(let a=0;a<n.length;a++){const r=ti(n[a],t);if(o.push(r),r.type==="error")break}return o};function ip(){return new TransformStream({transform(e,t){ep(e,n=>{const o=n.length;let a;if(o<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,o);else if(o<65536){a=new Uint8Array(3);const r=new DataView(a.buffer);r.setUint8(0,126),r.setUint16(1,o)}else{a=new Uint8Array(9);const r=new DataView(a.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(o))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let Wa;function Po(e){return e.reduce((t,n)=>t+n.length,0)}function _o(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let o=0;for(let a=0;a<t;a++)n[a]=e[0][o++],o===e[0].length&&(e.shift(),o=0);return e.length&&o<e[0].length&&(e[0]=e[0].slice(o)),n}function sp(e,t){Wa||(Wa=new TextDecoder);const n=[];let o=0,a=-1,r=!1;return new TransformStream({transform(i,l){for(n.push(i);;){if(o===0){if(Po(n)<1)break;const c=_o(n,1);r=(c[0]&128)===128,a=c[0]&127,a<126?o=3:a===126?o=1:o=2}else if(o===1){if(Po(n)<2)break;const c=_o(n,2);a=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),o=3}else if(o===2){if(Po(n)<8)break;const c=_o(n,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(br);break}a=u*Math.pow(2,32)+d.getUint32(4),o=3}else{if(Po(n)<a)break;const c=_o(n,a);l.enqueue(ti(r?c:Wa.decode(c),t)),o=0}if(a===0||a>e){l.enqueue(br);break}}}})}const Ac=4;function ke(e){if(e)return lp(e)}function lp(e){for(var t in ke.prototype)e[t]=ke.prototype[t];return e}ke.prototype.on=ke.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ke.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};ke.prototype.off=ke.prototype.removeListener=ke.prototype.removeAllListeners=ke.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var o,a=0;a<n.length;a++)if(o=n[a],o===t||o.fn===t){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+e],this};ke.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],o=1;o<arguments.length;o++)t[o-1]=arguments[o];if(n){n=n.slice(0);for(var o=0,a=n.length;o<a;++o)n[o].apply(this,t)}return this};ke.prototype.emitReserved=ke.prototype.emit;ke.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ke.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ni=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Ke=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),cp="arraybuffer";function $c(e,...t){return t.reduce((n,o)=>(e.hasOwnProperty(o)&&(n[o]=e[o]),n),{})}const up=Ke.setTimeout,dp=Ke.clearTimeout;function oi(e,t){t.useNativeTimers?(e.setTimeoutFn=up.bind(Ke),e.clearTimeoutFn=dp.bind(Ke)):(e.setTimeoutFn=Ke.setTimeout.bind(Ke),e.clearTimeoutFn=Ke.clearTimeout.bind(Ke))}const fp=1.33;function hp(e){return typeof e=="string"?vp(e):Math.ceil((e.byteLength||e.size)*fp)}function vp(e){let t=0,n=0;for(let o=0,a=e.length;o<a;o++)t=e.charCodeAt(o),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(o++,n+=4);return n}function Pc(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function mp(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function gp(e){let t={},n=e.split("&");for(let o=0,a=n.length;o<a;o++){let r=n[o].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}class bp extends Error{constructor(t,n,o){super(t),this.description=n,this.context=o,this.type="TransportError"}}class ai extends ke{constructor(t){super(),this.writable=!1,oi(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,o){return super.emitReserved("error",new bp(t,n,o)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=ti(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=mp(t);return n.length?"?"+n:""}}class yp extends ai{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let o=0;this._polling&&(o++,this.once("pollComplete",function(){--o||n()})),this.writable||(o++,this.once("drain",function(){--o||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=o=>{if(this.readyState==="opening"&&o.type==="open"&&this.onOpen(),o.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(o)};rp(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,ap(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Pc()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let _c=!1;try{_c=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const pp=_c;function wp(){}class xp extends yp{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let o=location.port;o||(o=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||o!==t.port}}doWrite(t,n){const o=this.request({method:"POST",data:t});o.on("success",n),o.on("error",(a,r)=>{this.onError("xhr post error",a,r)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,o)=>{this.onError("xhr poll error",n,o)}),this.pollXhr=t}}class mt extends ke{constructor(t,n,o){super(),this.createRequest=t,oi(this,o),this._opts=o,this._method=o.method||"GET",this._uri=n,this._data=o.data!==void 0?o.data:null,this._create()}_create(){var t;const n=$c(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const o=this._xhr=this.createRequest(n);try{o.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&o.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{o.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(o),"withCredentials"in o&&(o.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(o.timeout=this._opts.requestTimeout),o.onreadystatechange=()=>{var a;o.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(o.getResponseHeader("set-cookie"))),o.readyState===4&&(o.status===200||o.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof o.status=="number"?o.status:0)},0))},o.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=mt.requestsCount++,mt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=wp,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete mt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}mt.requestsCount=0;mt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Es);else if(typeof addEventListener=="function"){const e="onpagehide"in Ke?"pagehide":"unload";addEventListener(e,Es,!1)}}function Es(){for(let e in mt.requests)mt.requests.hasOwnProperty(e)&&mt.requests[e].abort()}const Sp=(function(){const e=Dc({xdomain:!1});return e&&e.responseType!==null})();class Cp extends xp{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=Sp&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new mt(Dc,this.uri(),t)}}function Dc(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||pp))return new XMLHttpRequest}catch{}if(!t)try{return new Ke[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Ic=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class kp extends ai{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,o=Ic?{}:$c(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(o.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,o)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const o=t[n],a=n===t.length-1;ei(o,this.supportsBinary,r=>{try{this.doWrite(o,r)}catch{}a&&ni(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Pc()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Ua=Ke.WebSocket||Ke.MozWebSocket;class Tp extends kp{createSocket(t,n,o){return Ic?new Ua(t,n,o):n?new Ua(t,n):new Ua(t)}doWrite(t,n){this.ws.send(n)}}class Ep extends ai{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=sp(Number.MAX_SAFE_INTEGER,this.socket.binaryType),o=t.readable.pipeThrough(n).getReader(),a=ip();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const r=()=>{o.read().then(({done:l,value:c})=>{l||(this.onPacket(c),r())}).catch(l=>{})};r();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const o=t[n],a=n===t.length-1;this._writer.write(o).then(()=>{a&&ni(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Op={websocket:Tp,webtransport:Ep,polling:Cp},Bp=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ap=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Os(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),o=e.indexOf("]");n!=-1&&o!=-1&&(e=e.substring(0,n)+e.substring(n,o).replace(/:/g,";")+e.substring(o,e.length));let a=Bp.exec(e||""),r={},i=14;for(;i--;)r[Ap[i]]=a[i]||"";return n!=-1&&o!=-1&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=$p(r,r.path),r.queryKey=Pp(r,r.query),r}function $p(e,t){const n=/\/{2,9}/g,o=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&o.splice(0,1),t.slice(-1)=="/"&&o.splice(o.length-1,1),o}function Pp(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(o,a,r){a&&(n[a]=r)}),n}const yr=typeof addEventListener=="function"&&typeof removeEventListener=="function",Fo=[];yr&&addEventListener("offline",()=>{Fo.forEach(e=>e())},!1);class Rt extends ke{constructor(t,n){if(super(),this.binaryType=cp,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const o=Os(t);n.hostname=o.host,n.secure=o.protocol==="https"||o.protocol==="wss",n.port=o.port,o.query&&(n.query=o.query)}else n.host&&(n.hostname=Os(n.host).host);oi(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(o=>{const a=o.prototype.name;this.transports.push(a),this._transportsByName[a]=o}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=gp(this.opts.query)),yr&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Fo.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Ac,n.transport=t,this.id&&(n.sid=this.id);const o=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](o)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Rt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Rt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let o=0;o<this.writeBuffer.length;o++){const a=this.writeBuffer[o].data;if(a&&(n+=hp(a)),o>0&&n>this._maxPayload)return this.writeBuffer.slice(0,o);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,ni(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,o){return this._sendPacket("message",t,n,o),this}send(t,n,o){return this._sendPacket("message",t,n,o),this}_sendPacket(t,n,o,a){if(typeof n=="function"&&(a=n,n=void 0),typeof o=="function"&&(a=o,o=null),this.readyState==="closing"||this.readyState==="closed")return;o=o||{},o.compress=o.compress!==!1;const r={type:t,data:n,options:o};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},o=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?o():t()}):this.upgrading?o():t()),this}_onError(t){if(Rt.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),yr&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const o=Fo.indexOf(this._offlineEventListener);o!==-1&&Fo.splice(o,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Rt.protocol=Ac;class _p extends Rt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),o=!1;Rt.priorWebsocketSuccess=!1;const a=()=>{o||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!o)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Rt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{o||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=n.name,this.emitReserved("upgradeError",v)}}))};function r(){o||(o=!0,u(),n.close(),n=null)}const i=f=>{const v=new Error("probe error: "+f);v.transport=n.name,r(),this.emitReserved("upgradeError",v)};function l(){i("transport closed")}function c(){i("socket closed")}function d(f){n&&f.name!==n.name&&r()}const u=()=>{n.removeListener("open",a),n.removeListener("error",i),n.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};n.once("open",a),n.once("error",i),n.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{o||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let o=0;o<t.length;o++)~this.transports.indexOf(t[o])&&n.push(t[o]);return n}}class Jp extends _p{constructor(t,n={}){const o=typeof t=="object"?t:n;(!o.transports||o.transports&&typeof o.transports[0]=="string")&&(o.transports=(o.transports||["polling","websocket","webtransport"]).map(a=>Op[a]).filter(a=>!!a)),super(t,o)}}const Dp=typeof ArrayBuffer=="function",Ip=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Rc=Object.prototype.toString,Rp=typeof Blob=="function"||typeof Blob<"u"&&Rc.call(Blob)==="[object BlobConstructor]",Mp=typeof File=="function"||typeof File<"u"&&Rc.call(File)==="[object FileConstructor]";function ri(e){return Dp&&(e instanceof ArrayBuffer||Ip(e))||Rp&&e instanceof Blob||Mp&&e instanceof File}function Ho(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,o=e.length;n<o;n++)if(Ho(e[n]))return!0;return!1}if(ri(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Ho(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ho(e[n]))return!0;return!1}function Vp(e){const t=[],n=e.data,o=e;return o.data=pr(n,t),o.attachments=t.length,{packet:o,buffers:t}}function pr(e,t){if(!e)return e;if(ri(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let o=0;o<e.length;o++)n[o]=pr(e[o],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=pr(e[o],t));return n}return e}function Np(e,t){return e.data=wr(e.data,t),delete e.attachments,e}function wr(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=wr(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=wr(e[n],t));return e}const Mc=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Lp=5;var ue;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ue||(ue={}));class Fp{constructor(t){this.replacer=t}encode(t){return(t.type===ue.EVENT||t.type===ue.ACK)&&Ho(t)?this.encodeAsBinary({type:t.type===ue.EVENT?ue.BINARY_EVENT:ue.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===ue.BINARY_EVENT||t.type===ue.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Vp(t),o=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(o),a}}class ii extends ke{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const o=n.type===ue.BINARY_EVENT;o||n.type===ue.BINARY_ACK?(n.type=o?ue.EVENT:ue.ACK,this.reconstructor=new Hp(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(ri(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const o={type:Number(t.charAt(0))};if(ue[o.type]===void 0)throw new Error("unknown packet type "+o.type);if(o.type===ue.BINARY_EVENT||o.type===ue.BINARY_ACK){const r=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const i=t.substring(r,n);if(i!=Number(i)||t.charAt(n)!=="-")throw new Error("Illegal attachments");o.attachments=Number(i)}if(t.charAt(n+1)==="/"){const r=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););o.nsp=t.substring(r,n)}else o.nsp="/";const a=t.charAt(n+1);if(a!==""&&Number(a)==a){const r=n+1;for(;++n;){const i=t.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===t.length)break}o.id=Number(t.substring(r,n+1))}if(t.charAt(++n)){const r=this.tryParse(t.substr(n));if(ii.isPayloadValid(o.type,r))o.data=r;else throw new Error("invalid payload")}return o}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case ue.CONNECT:return Jo(n);case ue.DISCONNECT:return n===void 0;case ue.CONNECT_ERROR:return typeof n=="string"||Jo(n);case ue.EVENT:case ue.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Mc.indexOf(n[0])===-1);case ue.ACK:case ue.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Hp{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Np(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function zp(e){return typeof e=="string"}const Wp=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function Up(e){return e===void 0||Wp(e)}function Jo(e){return Object.prototype.toString.call(e)==="[object Object]"}function jp(e,t){switch(e){case ue.CONNECT:return t===void 0||Jo(t);case ue.DISCONNECT:return t===void 0;case ue.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Mc.indexOf(t[0])===-1);case ue.ACK:return Array.isArray(t);case ue.CONNECT_ERROR:return typeof t=="string"||Jo(t);default:return!1}}function Yp(e){return zp(e.nsp)&&Up(e.id)&&jp(e.type,e.data)}const Qp=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ii,Encoder:Fp,get PacketType(){return ue},isPacketValid:Yp,protocol:Lp},Symbol.toStringTag,{value:"Module"}));export{$s as E,ue as P,Jp as S,Xp as T,Gp as Y,ke as a,Qp as b,oi as i,ni as n,Os as p,Zp as s,Kp as y};
