import{j as Ae,r as $,t as Ue,n as f,o,s as a,Q as n,D as P,G as r,$ as w,J as x,M as et,l as S,u as A,aa as Le,ai as tt,c as U,y as Ge,q as E,F as Se,a6 as Fe,E as Pe,I as ee}from"./vue-vendor-C-hNZ0TW.js";import{c as Re,K as st,q as at,z as lt,C as nt,a7 as Oe,u as qe,A as ot,a0 as Ne,f as Ie,E as d,ak as te,L as Je,i as rt,a9 as He,al as We,a8 as Qe,ab as it,J as ut,am as dt,ae as ct,an as ft,$ as vt,W as pt,D as gt,B as _t,ao as mt,ap as xt,aj as yt,ah as ht}from"./element-plus-BuOeJSdF.js";import{m as Xe,a as k,k as Ke}from"./utils-shared-D8R-KWQB.js";import{n as kt,u as bt,o as wt,q as Ct,r as Tt,t as $t,v as Mt,w as Dt,x as St,y as Ft,z as Pt,A as At,B as Bt,C as Vt,D as zt,E as Et,F as Lt,G as jt,H as De,I as Ut,J as Rt,K as Ot}from"./api-shared-BjY1fDmA.js";import{u as Nt,b as Ze,M as Ye,_ as je}from"./useInterval-CVPjsBuj.js";import{c as It,C as Kt}from"./constants-shared-BwcKRbUv.js";import"./utils-BjcahYMR.js";import"./vendor-CJeEfH0b.js";import"./types-shared-BfhRjD1-.js";import"./index-Cufc-qwa.js";import"./vant-Bv_herco.js";const Yt={class:"p-4 flex flex-col h-full"},Gt={class:"mb-4 flex-shrink-0 border rounded p-3 bg-gray-50"},qt={class:"flex items-center gap-3"},Jt={key:0,class:"flex-1 min-w-0"},Ht=["title"],Wt={class:"flex items-center justify-between"},Qt={class:"flex-1 overflow-auto"},Xt=["onClick"],Zt={key:1,class:"text-gray-400"},es={key:0,class:"flex flex-col gap-1"},ts={class:"text-sm"},ss={class:"text-xs text-gray-500"},as={key:1,class:"text-gray-400"},ls={key:0,class:"flex flex-col gap-1"},ns={class:"text-sm"},os={class:"text-xs text-gray-500"},rs={key:1,class:"text-gray-400"},is={class:"flex flex-col gap-1 items-center"},us=["onClick"],ds=["title"],cs={class:"flex items-center gap-2"},fs=Ae({__name:"PdfTool",setup(me){const u=$(!1),C=$([]),e=$(null),V=$(""),M=async()=>{try{u.value=!0;const v=await kt();if(v.code===0){const p=v.data||[];C.value=p.map(m=>({...m,_decrypting:m.status==="processing"||!1,_password:""}))}else d.error(v.msg||"获取任务列表失败")}catch(v){k(v,"获取任务列表失败")}finally{u.value=!1}},T=v=>{v.raw&&(e.value=v.raw,V.value=v.raw.name)},R=async()=>{if(!e.value){d.warning("请选择要上传的文件");return}const v=e.value;if(!v.name.toLowerCase().endsWith(".pdf")){d.error("只支持 PDF 文件");return}try{u.value=!0;const p=await bt(v);p.code===0?(d.success("文件上传成功"),e.value=null,V.value="",await M()):d.error(p.msg||"文件上传失败")}catch(p){k(p,"文件上传失败")}finally{u.value=!1}},b=async v=>{if(!v.uploaded_info){d.warning("请先上传文件");return}if(!(v._decrypting||v.status==="processing")&&!(v.status==="success"&&!await te.confirm("已解密的文件已存在，是否重新解密？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(()=>!1)))try{v._decrypting=!0;const p=v._password?.trim()||void 0,m=await wt(v.task_id,p);m.code===0?(d.success(m.data?.message||"解密任务已提交，正在后台处理"),v._password="",await I(v)):d.error(m.msg||"提交解密任务失败")}catch(p){k(p,"提交解密任务失败")}finally{v._decrypting=!1}},I=async(v,p=30)=>{let m=0;const N=async()=>{if(m>=p){d.warning("任务处理超时，请手动刷新查看状态"),await M();return}try{const B=await $t(v.task_id);if(B.code===0){const z=B.data;v.status=z.status,v.unlocked_info=z.unlocked_info,v.error_message=z.error_message,z.status==="success"?(d.success("文件解密成功"),v._decrypting=!1,await M()):z.status==="failed"?(d.error(z.error_message||"文件解密失败"),v._decrypting=!1):z.status==="processing"?(m++,setTimeout(N,1e3)):v._decrypting=!1}}catch(B){k(B,"查询任务状态失败"),v._decrypting=!1}};N()},L=async(v,p)=>{const m=p==="uploaded"?v.uploaded_info:v.unlocked_info;if(!m){d.warning("文件不存在");return}try{const N=Ct(m.name,p);window.open(N,"_blank")}catch(N){k(N,"下载文件失败")}},K=async v=>{if(!v.uploaded_info){d.warning("请先上传文件");return}if(v.status==="processing"){d.warning("任务正在处理中，无法删除");return}if(await te.confirm("确定要删除该任务吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(()=>!1))try{u.value=!0;const m=await Tt(v.task_id);m.code===0?(d.success(m.data?.message||"任务删除成功"),await M()):d.error(m.msg||"任务删除失败")}catch(m){k(m,"删除任务失败")}finally{u.value=!1}},O=Xe,Y=v=>v?new Date(v*1e3).toLocaleString():"-";return Ue(()=>{M()}),(v,p)=>{const m=Re,N=st,B=Ie,z=nt,H=Oe,j=qe,ie=ot,ue=at,se=lt;return o(),f("div",Yt,[p[11]||(p[11]=a("h2",{class:"text-xl font-semibold mb-4"},"PDF 解密工具",-1)),a("div",Gt,[a("div",qt,[a("div",null,[n(m,{type:"success",size:"small",onClick:R,loading:u.value,disabled:!e.value},{default:r(()=>[...p[0]||(p[0]=[w(" 上传 ",-1)])]),_:1},8,["loading","disabled"])]),n(N,{"auto-upload":!1,"on-change":T,"show-file-list":!1,accept:".pdf"},{trigger:r(()=>[n(m,{type:"primary",size:"small",class:"!m-0"},{default:r(()=>[...p[1]||(p[1]=[w("选择文件",-1)])]),_:1})]),_:1}),e.value?(o(),f("div",Jt,[a("div",{class:"text-sm text-gray-600 truncate",title:V.value||e.value.name},x(V.value||e.value.name),9,Ht)])):P("",!0)])]),n(ue,{class:"flex-1 flex flex-col overflow-hidden",shadow:"hover"},{header:r(()=>[a("div",Wt,[p[3]||(p[3]=a("span",null,"文件列表",-1)),n(m,{type:"info",size:"small",plain:"",onClick:M,loading:u.value},{default:r(()=>[u.value?P("",!0):(o(),S(B,{key:0},{default:r(()=>[n(A(Ne))]),_:1})),p[2]||(p[2]=w(" 刷新 ",-1))]),_:1},8,["loading"])])]),default:r(()=>[a("div",Qt,[et((o(),S(ie,{data:C.value,stripe:"",class:"w-full"},{empty:r(()=>[...p[10]||(p[10]=[a("div",{class:"text-center text-gray-400 py-8"},"暂无文件，请上传 PDF 文件",-1)])]),default:r(()=>[n(z,{prop:"filename",label:"文件名","min-width":"200"},{default:r(({row:_})=>[_.uploaded_info?(o(),f("span",{key:0,class:"text-blue-600 cursor-pointer hover:underline",onClick:G=>L(_,"uploaded")},x(_.filename),9,Xt)):(o(),f("span",Zt,"-"))]),_:1}),n(z,{label:"上传文件","min-width":"150"},{default:r(({row:_})=>[_.uploaded_info?(o(),f("div",es,[a("span",ts,x(A(O)(_.uploaded_info.size)),1),a("span",ss,x(Y(_.uploaded_info.modified)),1)])):(o(),f("span",as,"-"))]),_:1}),n(z,{label:"已解密文件","min-width":"150"},{default:r(({row:_})=>[_.unlocked_info?(o(),f("div",ls,[a("span",ns,x(A(O)(_.unlocked_info.size)),1),a("span",os,x(Y(_.unlocked_info.modified)),1)])):(o(),f("span",rs,"未解密"))]),_:1}),n(z,{label:"状态",width:"140",align:"center"},{default:r(({row:_})=>[a("div",is,[_.status==="success"?(o(),S(H,{key:0,type:"success",size:"small"},{default:r(()=>[...p[4]||(p[4]=[w("已解密",-1)])]),_:1})):_.status==="processing"?(o(),S(H,{key:1,type:"warning",size:"small"},{default:r(()=>[...p[5]||(p[5]=[w("处理中",-1)])]),_:1})):_.status==="pending"?(o(),S(H,{key:2,type:"info",size:"small"},{default:r(()=>[...p[6]||(p[6]=[w("等待中",-1)])]),_:1})):_.status==="failed"?(o(),S(H,{key:3,type:"danger",size:"small"},{default:r(()=>[...p[7]||(p[7]=[w("失败",-1)])]),_:1})):(o(),S(H,{key:4,type:"info",size:"small"},{default:r(()=>[...p[8]||(p[8]=[w("已上传",-1)])]),_:1})),_.unlocked_info?(o(),f("span",{key:5,class:"text-xs text-blue-600 cursor-pointer hover:underline",onClick:G=>L(_,"unlocked")}," 下载 ",8,us)):P("",!0),_.error_message?(o(),f("span",{key:6,class:"text-xs text-red-500",title:_.error_message}," 错误 ",8,ds)):P("",!0)])]),_:1}),n(z,{label:"操作",width:"280",fixed:"right"},{default:r(({row:_})=>[a("div",cs,[_.uploaded_info?(o(),S(j,{key:0,modelValue:_._password,"onUpdate:modelValue":G=>_._password=G,type:"password",size:"small",placeholder:"密码（可选）","show-password":"",clearable:"",class:"w-30",disabled:_._decrypting||_.status==="processing",onKeyup:Le(G=>b(_),["enter"])},null,8,["modelValue","onUpdate:modelValue","disabled","onKeyup"])):P("",!0),_.uploaded_info&&_.status!=="processing"?(o(),S(m,{key:1,type:"primary",size:"small",onClick:G=>b(_),loading:_._decrypting,disabled:_._decrypting||_.status==="processing"},{default:r(()=>[w(x(_.status==="success"?"重新解密":"解密"),1)]),_:2},1032,["onClick","loading","disabled"])):P("",!0),_.uploaded_info?(o(),S(m,{key:2,type:"danger",size:"small",plain:"",onClick:G=>K(_),disabled:_.status==="processing"},{default:r(()=>[...p[9]||(p[9]=[w(" 删除 ",-1)])]),_:1},8,["onClick","disabled"])):P("",!0)])]),_:1})]),_:1},8,["data"])),[[se,u.value]])])]),_:1})])}}}),vs={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"};function ps(me,u){return o(),f("svg",vs,[...u[0]||(u[0]=[a("path",{fill:"none",stroke:"currentColor","stroke-linecap":"square","stroke-width":"48",d:"m136 208l120-104l120 104m-240 96l120 104l120-104"},null,-1)])])}const gs=tt({name:"ion-chevron-expand-sharp",render:ps}),_s={class:"flex gap-4 h-full"},ms={class:"w-64 border rounded p-3 flex flex-col"},xs={class:"flex items-center justify-between mb-3"},ys={class:"flex items-center gap-1"},hs={key:0,class:"flex-1 overflow-y-auto space-y-2 pr-1 min-h-[400px]"},ks=["onClick"],bs={class:"flex items-center justify-between gap-2"},ws={class:"text-sm font-medium truncate flex-1 min-w-0"},Cs={class:"text-xs text-gray-500 whitespace-nowrap flex items-center gap-1 flex-shrink-0"},Ts={class:"whitespace-nowrap w-5 flex items-center justify-center"},$s={class:"flex items-center justify-between gap-2 min-h-[20px]"},Ms={class:"flex items-center gap-1 flex-shrink-0"},Ds={key:1,class:"flex-1 flex items-center justify-center text-sm text-gray-400"},Ss={key:0,class:"flex-1 border rounded p-3 flex flex-col max-w-2xl"},Fs={class:"flex items-center justify-between mb-3 flex-shrink-0"},Ps={class:"text-base font-semibold"},As={class:"text-sm text-gray-500"},Bs={class:"flex-1 overflow-auto flex flex-col gap-3"},Vs={class:"flex items-center justify-between gap-4 flex-shrink-0"},zs={class:"flex items-center gap-4"},Es={class:"text-red-500 text-xs truncate max-w-xs inline-block cursor-help"},Ls={class:"flex items-center gap-2"},js={class:"border rounded p-2 flex-1 flex flex-col overflow-hidden"},Us={class:"flex items-center justify-between mb-2 flex-shrink-0"},Rs={class:"flex items-center gap-1 pr-1"},Os={class:"flex-1 overflow-auto"},Ns={key:0},Is=["draggable","onDragstart","onDrop"],Ks={class:"text-xs text-gray-500 w-8"},Ys=["title"],Gs={key:0,class:"text-xs text-gray-500 whitespace-nowrap w-20 text-right"},qs={key:1,class:"w-20"},Js={key:1,class:"text-sm text-gray-400 text-center py-1"},Hs={key:1,class:"flex-1 border rounded p-3 flex flex-col max-w-2xl"},Ws=Ae({__name:"AudioMerge",setup(me){const u=$(!1),C=$([]),e=$(null),V=$(!1),M=$(!1),T=$(!1),R=$(null),b=Nt({callbacks:{onPlay:()=>{d.success("开始播放")},onError:()=>{k(new Error("音频播放失败"),"播放失败"),X()},onEnded:()=>{X()}}}),I={size:"small",plain:!0,class:"!w-8 !h-6 !p-0"},L={size:"small",plain:!0,class:"!h-5 !text-xs !px-2"},K={size:"small",plain:!0,class:"!h-7 !text-xs"},O=["bg-gray-100","border-t-2","border-b-2","border-blue-500"],Y=t=>{t&&t.classList.remove(...O)},v=t=>{if(!t)return;t.querySelectorAll('[draggable="true"]').forEach(c=>Y(c))},p=async t=>{if(e.value&&t.length!==0)try{u.value=!0;for(const l of t){const c=await Mt(e.value.task_id,l);if(c.code!==0){d.error(`添加文件失败: ${c.msg||"未知错误"}`);break}}d.success(`成功添加 ${t.length} 个文件`),await B(e.value.task_id)}catch(l){k(l,"添加文件失败")}finally{u.value=!1}},m=async()=>{try{u.value=!0;const t=await Dt();t.code===0?(C.value=t.data.tasks||[],C.value.length>0&&!e.value&&await B(C.value[0].task_id)):d.error(t.msg||"获取任务列表失败")}catch(t){k(t,"获取任务列表失败")}finally{u.value=!1}},N=async()=>{try{u.value=!0;const t=await St();t.code===0?(d.success("任务创建成功"),await m(),B(t.data.task_id)):d.error(t.msg||"创建任务失败")}catch(t){k(t,"创建任务失败")}finally{u.value=!1}},B=async t=>{e.value&&e.value.task_id!==t&&de();try{u.value=!0;const l=await Ft(t);l.code===0?e.value=l.data:d.error(l.msg||"获取任务信息失败")}catch(l){k(l,"获取任务信息失败")}finally{u.value=!1}},z=async t=>{if(await te.confirm("确定要删除该任务吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(()=>!1))try{u.value=!0;const c=await Vt(t);c.code===0?(d.success("任务删除成功"),await m(),e.value&&e.value.task_id===t&&(C.value&&C.value.length>0?await B(C.value[0].task_id):e.value=null)):d.error(c.msg||"删除任务失败")}catch(c){k(c,"删除任务失败")}finally{u.value=!1}},H=()=>{if(!e.value){d.warning("请先创建或选择任务");return}V.value=!0},j=async t=>{if(!(!e.value||!await te.confirm("确定要删除该文件吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(()=>!1)))try{u.value=!0;const c=await zt(e.value.task_id,t);c.code===0?(b.playingFileIndex.value===t?de():b.playingFileIndex.value!==null&&b.playingFileIndex.value>t&&(b.playingFileIndex.value=b.playingFileIndex.value-1),d.success("文件删除成功"),await B(e.value.task_id)):d.error(c.msg||"删除文件失败")}catch(c){k(c,"删除文件失败")}finally{u.value=!1}},ie=async()=>{if(!(!e.value||!await te.confirm(`确定要开始合成吗？将合并 ${ne.value} 个音频文件。`,"确认合成",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(()=>!1)))try{u.value=!0;const l=await Pt(e.value.task_id);l.code===0?(d.success("合成任务已启动"),await m(),await B(e.value.task_id),_()):d.error(l.msg||"启动任务失败")}catch(l){k(l,"启动任务失败")}finally{u.value=!1}},{start:ue,stop:se}=Ze(async()=>{if(!e.value||e.value.status!=="processing"){se();return}await m(),await B(e.value.task_id)},It,{immediate:!1}),_=()=>{ue()},G=t=>{if(!t)return;const l=Et(t);window.open(l,"_blank")},Be=()=>{e.value?.result_file&&G(e.value.task_id)},Ve=t=>{t?.result_file&&G(t.task_id)},X=()=>{b.clear()},xe=(t,l)=>{if(!t)return;const c=t?.path||t?.name||"";b.seekFile(c,l)},ze=(t,l)=>{e.value?.result_file&&xe({path:e.value.result_file},l)},ye=t=>{if(!e.value||!e.value.files||t<0||t>=e.value.files.length)return;const l=e.value.files[t],c=l.path||l.name||"";if(!c){d.warning("文件路径不存在");return}if(b.playingFilePath.value===c&&b.audio&&!b.audio.paused){X(),d.info("已停止播放");return}const D=Ke(c);if(!D){d.error("无法生成媒体文件URL");return}b.load(D,{playingFilePath:c,playingFileIndex:t}),b.play().catch(W=>{k(W,"播放失败"),X()})},de=()=>{X()},he=()=>{if(!e.value||!e.value.result_file){d.warning("结果文件不存在");return}const t=e.value.result_file;if(b.playingFilePath.value===t&&b.audio&&!b.audio.paused){X(),d.info("已停止播放");return}const l=Ke(t);if(!l){d.error("无法生成媒体文件URL");return}b.load(l,{playingFilePath:t}),b.play().catch(c=>{k(c,"播放失败"),X()})},ke=()=>{if(!e.value||!e.value.result_file){d.warning("结果文件不存在");return}M.value=!0},be=async t=>{if(!e.value||!e.value.result_file)return;if(t.length===0){d.warning("请选择转存目录");return}const l=t[0];try{u.value=!0;const c=await At(e.value.task_id,l);c.code===0?(d.success("转存成功"),M.value=!1):d.error(c.msg||"转存失败")}catch(c){k(c,"转存失败")}finally{u.value=!1}},ce=Xe,we={pending:{tag:"info",text:"等待中"},processing:{tag:"warning",text:"处理中"},success:{tag:"success",text:"成功"},failed:{tag:"danger",text:"失败"}},Z=t=>we[t]?.tag||"info",ae=t=>we[t]?.text||"未知",le=U(()=>e.value?.status==="processing"),q=U(()=>(e.value?.files||[]).length>0),ne=U(()=>(e.value?.files||[]).length),fe=U(()=>e.value?.result_file),Ce=U(()=>!fe.value||e.value?.status!=="success"||T.value),i=U(()=>!q.value||le.value||T.value),s=U(()=>le.value||T.value),h=U(()=>!e.value||!q.value||le.value),F=U(()=>T.value?"点击退出拖拽排序模式":"点击进入拖拽排序模式"),oe=U(()=>({path:fe.value||""})),re=(t,l)=>!t||!l||t.length!==l.length?!0:t.some((c,D)=>{const W=c?.path||c?.name,ge=l[D]?.path||l[D]?.name;return W!==ge}),ve=async()=>{if(T.value){if(e.value&&e.value.files&&e.value.files.length>0){if(re(R.value||[],e.value.files))try{u.value=!0;const l=e.value.files.map((D,W)=>W),c=await Bt(e.value.task_id,l);c.code===0?(d.success("排序已保存"),await B(e.value.task_id)):d.error(c.msg||"保存排序失败")}catch(l){k(l,"保存排序失败")}finally{u.value=!1}R.value=null}}else e.value&&e.value.files&&e.value.files.length>0&&(R.value=[...e.value.files||[]]);T.value=!T.value},pe=(t,l)=>{if(!T.value)return t.preventDefault(),!1;try{t.dataTransfer&&(t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/plain",l.toString()))}catch(c){console.error("拖拽开始失败:",c)}},Ee=t=>{t.currentTarget&&Y(t.currentTarget)},Te=t=>{t.currentTarget&&Y(t.currentTarget)},$e=t=>{if(T.value&&(t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.currentTarget)){const l=t.currentTarget.getBoundingClientRect(),c=t.clientY,D=l.top+l.height/2;Y(t.currentTarget),c<D?t.currentTarget.classList.add("border-t-2","border-blue-500"):t.currentTarget.classList.add("border-b-2","border-blue-500")}},Me=(t,l)=>{if(!T.value||(t.preventDefault(),t.currentTarget&&(Y(t.currentTarget),v(t.currentTarget.parentElement)),!t.dataTransfer))return;const c=parseInt(t.dataTransfer.getData("text/plain"),10);if(c===l||isNaN(c)||!e.value||!e.value.files||c<0||c>=e.value.files.length||l<0||l>=e.value.files.length)return;const D=t.currentTarget?.getBoundingClientRect(),W=t.clientY,ge=D?D.top+D.height/2:0,_e=W<ge?l:l+1,y=[...e.value.files||[]],[J]=y.splice(c,1),Q=c<_e?_e-1:_e;y.splice(Q,0,J),e.value={...e.value,files:y}},g=()=>{V.value=!1};return Ue(()=>{m()}),Ge(()=>{de(),se()}),(t,l)=>{const c=Ie,D=Re,W=Oe,ge=We,_e=gs;return o(),f("div",_s,[a("div",ms,[a("div",xs,[l[7]||(l[7]=a("h3",{class:"text-base font-semibold"},"任务列表",-1)),a("div",ys,[n(D,E({type:"info"},I,{onClick:m,loading:u.value}),{default:r(()=>[u.value?P("",!0):(o(),S(c,{key:0},{default:r(()=>[n(A(Ne))]),_:1}))]),_:1},16,["loading"]),n(D,E({type:"success"},I,{onClick:N,loading:u.value}),{default:r(()=>[n(c,null,{default:r(()=>[n(A(Je))]),_:1})]),_:1},16,["loading"])])]),C.value&&C.value.length>0?(o(),f("div",hs,[(o(!0),f(Se,null,Fe(C.value,y=>(o(),f("div",{key:y.task_id,class:Pe(["border rounded px-3 py-2 cursor-pointer hover:bg-gray-50 group min-h-[60px] flex flex-col justify-between",{"border-blue-500 bg-blue-50":e.value&&y.task_id===e.value.task_id}]),onClick:J=>B(y.task_id)},[a("div",bs,[a("div",ws,x(y.name),1),a("span",Cs,[n(c,null,{default:r(()=>[n(A(rt),{class:"!w-3 !h-3"})]),_:1}),a("span",Ts,x(y.files?y.files.length:0),1)])]),a("div",$s,[n(W,{type:Z(y.status),size:"small",class:"!h-5 !text-xs w-16 text-center"},{default:r(()=>[w(x(ae(y.status)),1)]),_:2},1032,["type"]),a("div",Ms,[y.status==="success"&&y.result_file?(o(),S(D,E({key:0,type:"primary"},{ref_for:!0},L,{onClick:ee(J=>Ve(y),["stop"])}),{default:r(()=>[...l[8]||(l[8]=[w(" 下载 ",-1)])]),_:1},16,["onClick"])):P("",!0),n(D,E({type:"danger"},{ref_for:!0},L,{onClick:ee(J=>z(y.task_id),["stop"]),disabled:y.status==="processing"}),{default:r(()=>[n(c,null,{default:r(()=>[n(A(He))]),_:1})]),_:1},16,["onClick","disabled"])])])],10,ks))),128))])):(o(),f("div",Ds,' 暂无任务，请点击"新建"创建 '))]),e.value?(o(),f("div",Ss,[a("div",Fs,[a("h3",Ps,"任务详情: "+x(e.value.name),1),a("span",As," 共 "+x(ne.value)+" 个文件 ",1)]),a("div",Bs,[a("div",Vs,[a("div",zs,[n(W,{type:Z(e.value.status),size:"small",class:"w-16 text-center"},{default:r(()=>[w(x(ae(e.value.status)),1)]),_:1},8,["type"]),fe.value?(o(),S(Ye,{key:0,file:oe.value,player:A(b),disabled:T.value,onPlay:he,onSeek:ze},null,8,["file","player","disabled"])):P("",!0),n(D,E({type:"primary"},K,{onClick:Be,disabled:Ce.value}),{default:r(()=>[...l[9]||(l[9]=[w(" 下载 ",-1)])]),_:1},16,["disabled"]),n(D,E({type:"success"},K,{onClick:ke,disabled:Ce.value}),{default:r(()=>[...l[10]||(l[10]=[w(" 转存 ",-1)])]),_:1},16,["disabled"]),e.value.error_message?(o(),S(ge,{key:1,content:`错误: ${e.value.error_message}`,placement:"top"},{default:r(()=>[a("span",Es," 错误: "+x(e.value.error_message),1)]),_:1},8,["content"])):P("",!0)]),a("div",Ls,[n(D,E({type:"success"},K,{onClick:ie,disabled:i.value,loading:le.value}),{default:r(()=>[...l[11]||(l[11]=[w(" 开始合成 ",-1)])]),_:1},16,["disabled","loading"])])]),a("div",js,[a("div",Us,[l[13]||(l[13]=a("h4",{class:"text-sm font-semibold"},"文件列表",-1)),a("div",Rs,[n(D,E({type:"primary"},L,{disabled:s.value,onClick:H}),{default:r(()=>[...l[12]||(l[12]=[w(" + ",-1)])]),_:1},16,["disabled"]),n(D,E({type:T.value?"success":"default"},I,{onClick:ve,disabled:h.value,title:F.value}),{default:r(()=>[T.value?(o(),S(c,{key:0},{default:r(()=>[n(A(Qe))]),_:1})):(o(),S(_e,{key:1,class:"!w-3.5 !h-3.5"}))]),_:1},16,["type","disabled","title"])])]),a("div",Os,[q.value?(o(),f("div",Ns,[(o(!0),f(Se,null,Fe(e.value.files,(y,J)=>(o(),f("div",{key:J,class:Pe(["flex items-center gap-2 p-1 hover:bg-gray-100 rounded",{"cursor-move":T.value,"cursor-default":!T.value,"select-none":!0}]),draggable:T.value,onDragstart:Q=>pe(Q,Number(J)),onDragend:l[2]||(l[2]=Q=>Ee(Q)),onDragover:l[3]||(l[3]=ee(Q=>$e(Q),["prevent"])),onDragleave:Te,onDrop:ee(Q=>Me(Q,Number(J)),["prevent"])},[a("span",Ks,x(Number(J)+1),1),a("span",{class:"flex-1 text-sm truncate",title:y.path||y.name},x(y.name),9,Ys),y.size?(o(),f("span",Gs,x(A(ce)(y.size)),1)):(o(),f("div",qs)),a("div",{class:"flex items-center gap-1 flex-shrink-0",onMousedown:l[0]||(l[0]=ee(()=>{},["stop"])),onClick:l[1]||(l[1]=ee(()=>{},["stop"]))},[n(Ye,{file:y,player:A(b),disabled:s.value,onPlay:()=>ye(Number(J)),onSeek:xe},null,8,["file","player","disabled","onPlay"]),n(D,{type:"info",size:"small",plain:"",circle:"",onClick:ee(Q=>j(Number(J)),["stop"]),disabled:s.value,class:"!h-6 !text-xs"},{default:r(()=>[n(c,null,{default:r(()=>[n(A(it))]),_:1})]),_:1},8,["onClick","disabled"])],32)],42,Is))),128))])):(o(),f("div",Js,"文件列表为空"))])])])])):(o(),f("div",Hs,[...l[14]||(l[14]=[a("div",{class:"flex items-center justify-between mb-3 flex-shrink-0"},[a("h3",{class:"text-base font-semibold"},"任务详情")],-1),a("div",{class:"flex-1 flex items-center justify-center text-sm text-gray-400"}," 请从左侧选择一个任务查看详情 ",-1)])])),n(je,{visible:V.value,"onUpdate:visible":l[4]||(l[4]=y=>V.value=y),title:"选择文件添加到任务","confirm-button-text":"添加","confirm-loading":u.value,onConfirm:p,onClose:g},null,8,["visible","confirm-loading"]),n(je,{visible:M.value,"onUpdate:visible":l[5]||(l[5]=y=>M.value=y),title:"选择转存目录","confirm-button-text":"转存",mode:"directory","confirm-loading":u.value,onConfirm:be,onClose:l[6]||(l[6]=y=>M.value=!1)},null,8,["visible","confirm-loading"])])}}}),Qs={class:"flex gap-4 h-[calc(100vh-250px)]"},Xs={class:"w-64 border rounded p-3 flex flex-col"},Zs={class:"flex items-center justify-between mb-3"},ea={class:"flex items-center gap-1"},ta={key:0,class:"flex-1 overflow-y-auto space-y-2 pr-1 min-h-[400px]"},sa=["onClick"],aa={class:"flex items-center justify-between gap-2"},la=["title"],na={class:"flex items-center justify-between gap-2 min-h-[20px]"},oa={class:"flex items-center gap-1 flex-shrink-0"},ra={key:1,class:"flex-1 flex items-center justify-center text-sm text-gray-400 min-h-[400px]"},ia={key:0,class:"flex-1 border rounded p-3 flex flex-col min-h-0"},ua={class:"flex items-center justify-between mb-3 flex-shrink-0"},da={class:"flex items-center gap-2 flex-1"},ca={class:"text-base font-semibold"},fa={class:"flex-1 flex flex-col gap-3 min-h-0"},va={class:"flex items-center gap-4 flex-shrink-0"},pa={class:"text-red-500 text-xs truncate block max-w-md cursor-help"},ga={class:"border rounded p-3 flex flex-col gap-2"},_a={class:"flex items-center justify-between"},ma={class:"flex items-center gap-2"},xa={key:0,class:"text-xs text-gray-500"},ya={key:0,class:"text-sm text-gray-600"},ha=["title"],ka={key:1,class:"text-sm text-gray-400"},ba={class:"border rounded p-3 flex flex-col gap-2 flex-1 min-h-0 overflow-hidden"},wa={key:0,class:"flex-1 overflow-y-scroll scrollbar-overlay space-y-1 min-h-0"},Ca={class:"flex-1 min-w-0 flex items-center gap-3 text-sm"},Ta=["title"],$a={class:"flex items-center gap-2 text-xs text-gray-500 flex-shrink-0"},Ma={key:0},Da={key:1},Sa=["title"],Fa={key:1,class:"flex-1 flex items-center justify-center text-sm text-gray-400 min-h-0"},Pa={key:1,class:"flex-1 border rounded p-3 flex flex-col"},Aa={key:2,class:"w-80 border rounded p-3 flex flex-col"},Ba={class:"flex-1 overflow-auto flex flex-col gap-3"},Va={class:"border rounded p-3 flex flex-col gap-2"},za={class:"flex items-center gap-2"},Ea={class:"border rounded p-3 flex flex-col gap-2"},La={class:"flex items-center gap-2"},ja={class:"text-xs text-gray-400 flex items-center gap-1"},Ua={key:0,class:"border rounded p-3 flex flex-col gap-2"},Ra={key:0,class:"space-y-2"},Oa={class:"text-sm text-gray-600"},Na=["title"],Ia={key:1,class:"text-sm text-gray-400"},Ka={key:1,class:"border rounded p-3 flex flex-col gap-2"},Ya={class:"text-sm text-gray-600"},Ga={key:0,class:"mt-2"},qa={key:3,class:"w-80 border rounded p-3 flex flex-col"},Ja=Ae({__name:"AudioConvert",setup(me){const u=$(!1),C=$([]),e=$(null),V=$(!1),M=$("mp3"),T=$(!1),R=$(!0),b=$(!1),I=$(!1),L=$(""),K=$(!1),O=$(""),Y={size:"small",plain:!0,class:"!w-8 !h-6 !p-0"},v={size:"small",plain:!0,class:"!h-5 !text-xs !px-2"},p={size:"small",plain:!0,class:"!h-7 !text-xs"},m=async()=>{try{u.value=!0;const i=await Lt();i.code===0?(C.value=i.data.tasks||[],C.value.length>0&&!e.value&&await j(C.value[0].task_id)):d.error(i.msg||"获取任务列表失败")}catch(i){k(i,"获取任务列表失败")}finally{u.value=!1}},N=()=>{const i=new Date,s=i.getFullYear(),h=String(i.getMonth()+1).padStart(2,"0"),F=String(i.getDate()).padStart(2,"0"),oe=String(i.getHours()).padStart(2,"0"),re=String(i.getMinutes()).padStart(2,"0"),ve=String(i.getSeconds()).padStart(2,"0");L.value=`${s}-${h}-${F} ${oe}:${re}:${ve}`,I.value=!0},B=async()=>{if(!L.value.trim()){d.warning("请输入任务名称");return}try{u.value=!0;const i=await jt({name:L.value.trim()});i.code===0?(d.success("任务创建成功"),I.value=!1,L.value="",await m(),j(i.data.task_id)):d.error(i.msg||"创建任务失败")}catch(i){k(i,"创建任务失败")}finally{u.value=!1}},z=()=>{e.value&&(O.value=e.value.name,K.value=!0)},H=async()=>{if(e.value){if(!O.value.trim()){d.warning("请输入任务名称");return}try{u.value=!0;const i=await De(e.value.task_id,{name:O.value.trim()});i.code===0?(d.success("任务名称修改成功"),K.value=!1,O.value="",await j(e.value.task_id)):d.error(i.msg||"修改任务名称失败")}catch(i){k(i,"修改任务名称失败")}finally{u.value=!1}}},j=async i=>{try{u.value=!0;const s=await Ut(i);s.code===0?(e.value=s.data,M.value=s.data.output_dir||"mp3",T.value=!1,R.value=s.data.overwrite!==!1,b.value=!1):d.error(s.msg||"获取任务信息失败")}catch(s){k(s,"获取任务信息失败")}finally{u.value=!1}},ie=async i=>{if(await te.confirm("确定要删除该任务吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(()=>!1))try{u.value=!0;const h=await Ot(i);h.code===0?(d.success("任务删除成功"),await m(),e.value&&e.value.task_id===i&&(C.value&&C.value.length>0?await j(C.value[0].task_id):e.value=null)):d.error(h.msg||"删除任务失败")}catch(h){k(h,"删除任务失败")}finally{u.value=!1}},ue=()=>{if(!e.value){d.warning("请先创建或选择任务");return}V.value=!0},se=async i=>{if(!e.value||i.length===0)return;const s=i[0];try{u.value=!0;const h=await De(e.value.task_id,{directory:s});h.code===0?(d.success("目录设置成功"),await j(e.value.task_id),V.value=!1):d.error(h.msg||"设置目录失败")}catch(h){k(h,"设置目录失败")}finally{u.value=!1}},_=()=>{V.value=!1},G=()=>{if(!e.value)return;const i=e.value.output_dir||"mp3";T.value=M.value!==i},Be=async()=>{if(e.value){if(!M.value.trim()){d.error("输出目录名称不能为空");return}try{u.value=!0;const i=await De(e.value.task_id,{output_dir:M.value.trim()});i.code===0?(d.success("输出目录名称保存成功"),await j(e.value.task_id)):d.error(i.msg||"保存输出目录名称失败")}catch(i){k(i,"保存输出目录名称失败")}finally{u.value=!1}}},Ve=()=>{if(!e.value)return;const i=e.value.overwrite!==!1;b.value=R.value!==i,b.value&&X()},X=async()=>{if(e.value)try{u.value=!0;const i=await De(e.value.task_id,{overwrite:R.value});i.code===0?(d.success("覆盖选项保存成功"),await j(e.value.task_id)):d.error(i.msg||"保存覆盖选项失败")}catch(i){k(i,"保存覆盖选项失败")}finally{u.value=!1}},xe=async()=>{if(!e.value)return;if(!e.value.directory){d.warning("请先选择转码目录");return}if(await te.confirm(`确定要开始转码吗？将转换目录 "${e.value.name}" 下的所有音频文件为 MP3 格式。`,"确认转码",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(()=>!1))try{u.value=!0;const s=await Rt(e.value.task_id);s.code===0?(d.success("转码任务已启动"),await m(),await j(e.value.task_id),de()):d.error(s.msg||"启动任务失败")}catch(s){k(s,"启动任务失败")}finally{u.value=!1}},{start:ze,stop:ye}=Ze(async()=>{if(!e.value||e.value.status!=="processing"){ye();return}await m(),await j(e.value.task_id)},Kt,{immediate:!1}),de=()=>{ze()},he={pending:{tag:"info",text:"等待中"},processing:{tag:"warning",text:"处理中"},success:{tag:"success",text:"成功"},failed:{tag:"danger",text:"失败"}},ke=i=>he[i]?.tag||"info",be=i=>he[i]?.text||"未知",ce=U(()=>e.value?.status==="processing"),we=U(()=>!e.value?.directory||ce.value),Z=U(()=>ce.value),ae=U(()=>e.value?.file_status?Object.keys(e.value.file_status).map(i=>{const s=e.value.file_status[i];return{path:i,status:s.status||"pending",error:s.error,size:s.size,duration:s.duration}}):[]),le=i=>i.path.split("/").pop()||i.path,q=i=>i.status,ne=i=>i.error,fe=i=>{if(!i)return"";const s=["B","KB","MB","GB"];let h=i,F=0;for(;h>=1024&&F<s.length-1;)h/=1024,F++;return`${h.toFixed(1)} ${s[F]}`},Ce=i=>{if(!i)return"";const s=Math.floor(i/3600),h=Math.floor(i%3600/60),F=i%60;return s>0?`${s}:${h.toString().padStart(2,"0")}:${F.toString().padStart(2,"0")}`:`${h}:${F.toString().padStart(2,"0")}`};return Ue(()=>{m()}),Ge(()=>{ye()}),(i,s)=>{const h=Ie,F=Re,oe=Oe,re=We,ve=vt,pe=qe,Ee=gt,Te=xt,$e=mt,Me=_t;return o(),f("div",Qs,[a("div",Xs,[a("div",Zs,[s[11]||(s[11]=a("h3",{class:"text-base font-semibold"},"任务列表",-1)),a("div",ea,[n(F,E({type:"info"},Y,{onClick:m,loading:u.value}),{default:r(()=>[u.value?P("",!0):(o(),S(h,{key:0},{default:r(()=>[n(A(Ne))]),_:1}))]),_:1},16,["loading"]),n(F,E({type:"success"},Y,{onClick:N,loading:u.value}),{default:r(()=>[n(h,null,{default:r(()=>[n(A(Je))]),_:1})]),_:1},16,["loading"])])]),C.value&&C.value.length>0?(o(),f("div",ta,[(o(!0),f(Se,null,Fe(C.value,g=>(o(),f("div",{key:g.task_id,class:Pe(["border rounded px-3 py-2 cursor-pointer hover:bg-gray-50 group min-h-[60px] flex flex-col justify-between",{"border-blue-500 bg-blue-50":e.value&&g.task_id===e.value.task_id}]),onClick:t=>j(g.task_id)},[a("div",aa,[a("div",{class:"text-sm font-medium truncate flex-1 min-w-0",title:g.name},x(g.name),9,la)]),a("div",na,[n(oe,{type:ke(g.status),size:"small",class:"!h-5 !text-xs w-16 text-center"},{default:r(()=>[w(x(be(g.status)),1)]),_:2},1032,["type"]),a("div",oa,[n(F,E({type:"danger"},{ref_for:!0},v,{onClick:ee(t=>ie(g.task_id),["stop"]),disabled:g.status==="processing"}),{default:r(()=>[n(h,null,{default:r(()=>[n(A(He))]),_:1})]),_:1},16,["onClick","disabled"])])])],10,sa))),128))])):(o(),f("div",ra,' 暂无任务，请点击"新建"创建 '))]),e.value?(o(),f("div",ia,[a("div",ua,[a("div",da,[a("h3",ca,"文件列表: "+x(e.value.name),1),n(F,{type:"default",size:"small",plain:"",circle:"",disabled:Z.value,onClick:z,title:"编辑名称"},{default:r(()=>[n(h,null,{default:r(()=>[n(A(ut))]),_:1})]),_:1},8,["disabled"])])]),a("div",fa,[a("div",va,[n(oe,{type:ke(e.value.status),size:"small",class:"w-16 text-center flex-shrink-0"},{default:r(()=>[w(x(be(e.value.status)),1)]),_:1},8,["type"]),e.value.error_message?(o(),S(re,{key:0,content:`错误: ${e.value.error_message}`,placement:"top",class:"flex-1 min-w-0 max-w-md"},{default:r(()=>[a("span",pa," 错误: "+x(e.value.error_message),1)]),_:1},8,["content"])):P("",!0)]),a("div",ga,[a("div",_a,[a("div",ma,[s[12]||(s[12]=a("h4",{class:"text-sm font-semibold"},"转码目录",-1)),e.value.total_files!==null&&e.value.total_files!==void 0?(o(),f("span",xa," 可处理文件数: "+x(e.value.total_files),1)):P("",!0)]),n(F,E({type:"primary"},v,{disabled:Z.value,onClick:ue}),{default:r(()=>[...s[13]||(s[13]=[w(" 选择目录 ",-1)])]),_:1},16,["disabled"])]),e.value.directory?(o(),f("div",ya,[a("div",{class:"truncate",title:e.value.directory},x(e.value.directory),9,ha)])):(o(),f("div",ka," 请选择一个目录，该目录下的所有媒体文件将被转换为 MP3 格式 "))]),a("div",ba,[s[14]||(s[14]=a("h4",{class:"text-sm font-semibold flex-shrink-0"},"文件列表",-1)),ae.value&&ae.value.length>0?(o(),f("div",wa,[(o(!0),f(Se,null,Fe(ae.value,(g,t)=>(o(),f("div",{key:t,class:"flex items-center gap-2 p-2 rounded hover:bg-gray-50 border-b border-gray-100"},[n(h,{class:Pe(["flex-shrink-0",{"text-green-500":q(g)==="success","text-red-500":q(g)==="failed","text-yellow-500":q(g)==="processing","text-gray-400":q(g)==="pending"}])},{default:r(()=>[q(g)==="success"?(o(),S(A(Qe),{key:0})):q(g)==="failed"?(o(),S(A(dt),{key:1})):q(g)==="processing"?(o(),S(A(ct),{key:2})):(o(),S(A(ft),{key:3}))]),_:2},1032,["class"]),a("div",Ca,[a("div",{class:"flex-1 min-w-0 truncate",title:g.path},x(le(g)),9,Ta),a("div",$a,[g.size?(o(),f("span",Ma,x(fe(g.size)),1)):P("",!0),g.duration?(o(),f("span",Da,x(Ce(g.duration)),1)):P("",!0)]),ne(g)?(o(),f("div",{key:0,class:"text-xs text-red-500 truncate max-w-xs",title:ne(g)},x(ne(g)),9,Sa)):P("",!0)])]))),128))])):(o(),f("div",Fa," 暂无文件，请先选择转码目录 "))])])])):(o(),f("div",Pa,[...s[15]||(s[15]=[a("div",{class:"flex items-center justify-between mb-3 flex-shrink-0"},[a("h3",{class:"text-base font-semibold"},"文件列表")],-1),a("div",{class:"flex-1 flex items-center justify-center text-sm text-gray-400"}," 请从左侧选择一个任务查看文件列表 ",-1)])])),e.value?(o(),f("div",Aa,[s[24]||(s[24]=a("div",{class:"flex items-center justify-between mb-3"},[a("h3",{class:"text-base font-semibold"},"输出信息")],-1)),a("div",Ba,[a("div",Va,[a("div",za,[s[16]||(s[16]=a("span",{class:"text-sm text-gray-600"},"覆盖同名文件",-1)),n(ve,{modelValue:R.value,"onUpdate:modelValue":s[0]||(s[0]=g=>R.value=g),disabled:Z.value,onChange:Ve},null,8,["modelValue","disabled"])]),n(F,E({type:"success"},p,{onClick:xe,disabled:we.value,loading:ce.value,class:"w-full"}),{default:r(()=>[...s[17]||(s[17]=[w(" 开始转码 ",-1)])]),_:1},16,["disabled","loading"])]),a("div",Ea,[s[20]||(s[20]=a("div",{class:"flex items-center justify-between"},[a("h4",{class:"text-sm font-semibold"},"输出目录名称")],-1)),a("div",La,[n(pe,{modelValue:M.value,"onUpdate:modelValue":s[1]||(s[1]=g=>M.value=g),placeholder:"输出目录名称",size:"small",disabled:Z.value,onBlur:G},null,8,["modelValue","disabled"]),n(F,E({type:"primary"},v,{disabled:Z.value||!T.value,onClick:Be}),{default:r(()=>[...s[18]||(s[18]=[w(" 保存 ",-1)])]),_:1},16,["disabled"])]),a("div",ja,[s[19]||(s[19]=a("span",null,"文件将保存在转码目录下的此文件夹中",-1)),e.value?.directory&&e.value?.output_dir?(o(),S(re,{key:0,content:`${e.value.directory}/${e.value.output_dir}`,placement:"top"},{default:r(()=>[n(h,{class:"cursor-help text-gray-400 hover:text-gray-600"},{default:r(()=>[n(A(pt))]),_:1})]),_:1},8,["content"])):P("",!0)])]),e.value.status==="processing"||e.value.progress?(o(),f("div",Ua,[s[21]||(s[21]=a("h4",{class:"text-sm font-semibold"},"转码进度",-1)),e.value.progress?(o(),f("div",Ra,[a("div",Oa," 已处理: "+x(e.value.progress.processed??0)+" / "+x(e.value.total_files??e.value.progress.total??0),1),n(Ee,{percentage:(e.value.total_files??e.value.progress.total??0)>0?Math.round((e.value.progress.processed??0)/(e.value.total_files??e.value.progress.total??1)*100):0,status:e.value.status==="processing"?void 0:"success"},null,8,["percentage","status"]),e.value.progress.current_file?(o(),f("div",{key:0,class:"text-xs text-gray-500 truncate",title:e.value.progress.current_file}," 正在处理: "+x(e.value.progress.current_file),9,Na)):P("",!0)])):(o(),f("div",Ia,"等待开始转码..."))])):P("",!0),e.value.status==="success"?(o(),f("div",Ka,[s[23]||(s[23]=a("h4",{class:"text-sm font-semibold"},"转码结果",-1)),a("div",Ya,[s[22]||(s[22]=a("div",null,"转码完成！所有文件已保存到输出目录",-1)),e.value.progress?(o(),f("div",Ga," 共转换 "+x(e.value.total_files??e.value.progress.total??0)+" 个文件 ",1)):P("",!0)])])):P("",!0)])])):(o(),f("div",qa,[...s[25]||(s[25]=[a("h3",{class:"text-base font-semibold mb-3"},"输出信息",-1),a("div",{class:"flex-1 flex items-center justify-center text-sm text-gray-400"}," 请从左侧选择一个任务查看输出信息 ",-1)])])),n(je,{visible:V.value,"onUpdate:visible":s[2]||(s[2]=g=>V.value=g),title:"选择转码目录","confirm-button-text":"确定",mode:"directory","default-path":e.value?.directory||void 0,"confirm-loading":u.value,onConfirm:se,onClose:_},null,8,["visible","default-path","confirm-loading"]),n(Me,{modelValue:I.value,"onUpdate:modelValue":s[5]||(s[5]=g=>I.value=g),title:"创建转码任务",width:"400px",onClose:s[6]||(s[6]=g=>L.value="")},{footer:r(()=>[n(F,{onClick:s[4]||(s[4]=g=>I.value=!1)},{default:r(()=>[...s[26]||(s[26]=[w("取消",-1)])]),_:1}),n(F,{type:"primary",onClick:B,loading:u.value},{default:r(()=>[...s[27]||(s[27]=[w(" 确定 ",-1)])]),_:1},8,["loading"])]),default:r(()=>[n($e,null,{default:r(()=>[n(Te,{label:"任务名称"},{default:r(()=>[n(pe,{modelValue:L.value,"onUpdate:modelValue":s[3]||(s[3]=g=>L.value=g),placeholder:"请输入任务名称",onKeyup:Le(B,["enter"])},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(Me,{modelValue:K.value,"onUpdate:modelValue":s[9]||(s[9]=g=>K.value=g),title:"重命名任务",width:"400px",onClose:s[10]||(s[10]=g=>O.value="")},{footer:r(()=>[n(F,{onClick:s[8]||(s[8]=g=>K.value=!1)},{default:r(()=>[...s[28]||(s[28]=[w("取消",-1)])]),_:1}),n(F,{type:"primary",onClick:H,loading:u.value},{default:r(()=>[...s[29]||(s[29]=[w(" 确定 ",-1)])]),_:1},8,["loading"])]),default:r(()=>[n($e,null,{default:r(()=>[n(Te,{label:"任务名称"},{default:r(()=>[n(pe,{modelValue:O.value,"onUpdate:modelValue":s[7]||(s[7]=g=>O.value=g),placeholder:"请输入任务名称",onKeyup:Le(H,["enter"])},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),Ha={class:"p-1"},rl=Ae({__name:"index",setup(me){const u=$("pdf_tool"),C=e=>{console.log("切换到页签:",e)};return(e,V)=>{const M=ht,T=yt;return o(),f("div",Ha,[n(T,{modelValue:u.value,"onUpdate:modelValue":V[0]||(V[0]=R=>u.value=R),onTabChange:C,class:"flex-1 flex flex-col overflow-hidden h-[calc(100vh-150px)]"},{default:r(()=>[n(M,{label:"PDF 工具",name:"pdf_tool"},{default:r(()=>[n(fs)]),_:1}),n(M,{label:"音频合成",name:"audio_merge"},{default:r(()=>[n(Ws)]),_:1}),n(M,{label:"音频转码",name:"audio_convert"},{default:r(()=>[n(Ja)]),_:1})]),_:1},8,["modelValue"])])}}});export{rl as default};
