import{U as R,S as U,p as h}from"./shared-1TZFBAIg.js";import"./utils-B-B_-3AX.js";import{H as k,S as B,R as M,T,E as V}from"./element-plus-CEI_9LYZ.js";import{B as I,o as x,G as t,I as d,Z as f,Q as n,r as c,D as l,O as p,aa as i,E as g,a3 as N,U as o,u as w,e as b}from"./vue-vendor-Bzw_s7xI.js";import"./vendor-B3rMqREe.js";const G={class:"m-4"},Q=I({__name:"Info",setup(L){const r=c(1),u=c([{id:1,name:"灿灿日程"},{id:2,name:"昭昭日程"}]),_=c(new R),v=b(()=>u.value.find(s=>s.id===r.value)||u.value[0]),D=async()=>{const s=v.value;console.log("onUserChange",s);try{const a=await h(s.id);console.log("getSave",a),_.value=a}catch(a){console.error(a),V.error(JSON.stringify(a))}};return x(()=>{console.log("Info组件已挂载")}),(s,a)=>{const E=M,y=k,S=T,Y=B;return l(),t("div",G,[a[1]||(a[1]=d("h1",null,"选择用户",-1)),f(y,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),size:"large",class:"mt-4",onChange:D},{default:n(()=>[(l(!0),t(p,null,i(u.value,e=>(l(),g(E,{key:e.id,value:e.id},{default:n(()=>[N(o(e.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),f(Y,null,{default:n(()=>[(l(!0),t(p,null,i(_.value.schedules,e=>(l(),g(S,{key:e.id,title:"["+e.id+"]"+e.title},{default:n(()=>[d("p",null," range: "+o(e?.startTs?.format("YYYY-MM-DD"))+" - "+o(e?.endTs?.format("YYYY-MM-DD"))+" allDay:"+o(e.allDay)+" order:"+o(e.order),1),d("p",null," Remind: "+o(e.reminder)+" | Repeat: "+o(e.repeat)+" | RepeatEnd: "+o(w(U)(e.repeatEndTs)),1),(l(!0),t(p,null,i(e.subtasks,(m,C)=>(l(),t("p",{key:C},"["+o(m.id)+"]"+o(m.name),1))),128))]),_:2},1032,["title"]))),128))]),_:1})])}}});export{Q as default};
