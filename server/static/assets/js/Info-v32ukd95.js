import{o as R}from"./api-shared-Ck0d04nJ.js";import{a as h}from"./types-shared-Bz3Myoqd.js";import"./utils-BjcahYMR.js";import{S as k}from"./utils-shared-CiBNfTfb.js";import{I as M,S as T,R as V,T as B,E as I}from"./element-plus-38DTshaM.js";import{j as U,r as d,c as x,t as N,n as s,s as c,Q as f,G as n,o as t,F as p,a6 as i,l as g,$ as w,J as o,u as b}from"./vue-vendor-C-hNZ0TW.js";import"./vendor-4xlYshH7.js";const F={class:"m-4"},q=U({__name:"Info",setup(G){const r=d(1),u=d([{id:1,name:"灿灿日程"},{id:2,name:"昭昭日程"}]),m=d(new h),v=x(()=>u.value.find(l=>l.id===r.value)||u.value[0]),D=async()=>{const l=v.value;console.log("onUserChange",l);try{const a=await R(l.id);console.log("getSave",a),m.value=a}catch(a){console.error(a),I.error(JSON.stringify(a))}};return N(()=>{console.log("Info组件已挂载")}),(l,a)=>{const y=V,E=M,S=B,Y=T;return t(),s("div",F,[a[1]||(a[1]=c("h1",null,"选择用户",-1)),f(E,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),size:"large",class:"mt-4",onChange:D},{default:n(()=>[(t(!0),s(p,null,i(u.value,e=>(t(),g(y,{key:e.id,value:e.id},{default:n(()=>[w(o(e.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),f(Y,null,{default:n(()=>[(t(!0),s(p,null,i(m.value.schedules,e=>(t(),g(S,{key:e.id,title:"["+e.id+"]"+e.title},{default:n(()=>[c("p",null," range: "+o(e?.startTs?.format("YYYY-MM-DD"))+" - "+o(e?.endTs?.format("YYYY-MM-DD"))+" allDay:"+o(e.allDay)+" order:"+o(e.order),1),c("p",null," Remind: "+o(e.reminder)+" | Repeat: "+o(e.repeat)+" | RepeatEnd: "+o(b(k)(e.repeatEndTs)),1),(t(!0),s(p,null,i(e.subtasks,(_,C)=>(t(),s("p",{key:C},"["+o(_.id)+"]"+o(_.name),1))),128))]),_:2},1032,["title"]))),128))]),_:1})])}}});export{q as default};
