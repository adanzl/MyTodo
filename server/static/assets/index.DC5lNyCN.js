import{b_ as x,d as se,z as le,s as ae,b as V,v as Me,cL as Q,J as D,A as q,aN as Be,r as P,o as ge,cH as Pe,bd as De,q as oe,_ as ye,U as Ae,y as ue,cM as Oe,c as h,a as ee,g as N,k as X,l as te,I as _,B as o,t as _e,f as F,e as ne,a9 as Fe,cN as $e,a3 as ze,O as pe,aL as Ne,aI as be,cO as Ye,bJ as Re,aM as Ue,Z as W,cP as Ve,cE as je,cG as He,cQ as Xe,cR as We,cF as qe,b5 as Ke,V as Ge,bo as ce,cS as Je,cT as Ze,ce as xe,al as Qe,c3 as de,cU as fe,ak as eo,ag as oo,H as to,b7 as no,a0 as so,an as ve,w as lo,a1 as ao,ao as io,aQ as ro,ac as uo,L as co,M as fo}from"./index.e2k-DlDj.js";const Ce=e=>{if(!e)return{onClick:x,onMousedown:x,onMouseup:x};let l=!1,c=!1;return{onClick:u=>{l&&c&&e(u),l=c=!1},onMousedown:u=>{l=u.target===u.currentTarget},onMouseup:u=>{c=u.target===u.currentTarget}}},vo=le({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:q([String,Array,Object])},zIndex:{type:q([String,Number])}}),mo={click:e=>e instanceof MouseEvent},go="overlay";var yo=se({name:"ElOverlay",props:vo,emits:mo,setup(e,{slots:l,emit:c}){const y=ae(go),t=r=>{c("click",r)},{onClick:d,onMousedown:u,onMouseup:g}=Ce(e.customMaskEvent?void 0:t);return()=>e.mask?V("div",{class:[y.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:d,onMousedown:u,onMouseup:g},[D(l,"default")],Q.STYLE|Q.CLASS|Q.PROPS,["onClick","onMouseup","onMousedown"]):Me("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[D(l,"default")])}});const po=yo,he=Symbol("dialogInjectionKey"),me="dialog-fade",we=le({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:Be},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),bo={close:()=>!0},Co=(e,l,c,y)=>{const t={offsetX:0,offsetY:0},d=P(!1),u=(f,m)=>{if(e.value){const{offsetX:p,offsetY:b}=t,w=e.value.getBoundingClientRect(),I=w.left,a=w.top,E=w.width,M=w.height,A=document.documentElement.clientWidth,z=document.documentElement.clientHeight,Y=-I+p,R=-a+b,$=A-I-E+p,T=z-a-(M<z?M:0)+b;y?.value||(f=Math.min(Math.max(f,Y),$),m=Math.min(Math.max(m,R),T)),t.offsetX=f,t.offsetY=m,e.value.style.transform=`translate(${oe(f)}, ${oe(m)})`}},g=f=>{const m=f.clientX,p=f.clientY,{offsetX:b,offsetY:w}=t,I=E=>{d.value||(d.value=!0);const M=b+E.clientX-m,A=w+E.clientY-p;u(M,A)},a=()=>{d.value=!1,document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",a)};document.addEventListener("mousemove",I),document.addEventListener("mouseup",a)},r=()=>{l.value&&e.value&&(l.value.addEventListener("mousedown",g),window.addEventListener("resize",S))},v=()=>{l.value&&e.value&&(l.value.removeEventListener("mousedown",g),window.removeEventListener("resize",S))},k=()=>{t.offsetX=0,t.offsetY=0,e.value&&(e.value.style.transform="")},S=()=>{const{offsetX:f,offsetY:m}=t;u(f,m)};return ge(()=>{Pe(()=>{c.value?r():v()})}),De(()=>{v()}),{isDragging:d,resetPosition:k,updatePosition:S}},ho=(...e)=>l=>{e.forEach(c=>{c.value=l})},wo=["aria-level"],Eo=["aria-label"],ko=["id"],So=se({name:"ElDialogContent",__name:"dialog-content",props:we,emits:bo,setup(e,{expose:l}){const{t:c}=Ae(),{Close:y}=$e,t=e,{dialogRef:d,headerRef:u,bodyId:g,ns:r,style:v}=ue(he),{focusTrapRef:k}=ue(Oe),S=ho(k,d),f=h(()=>!!t.draggable),m=h(()=>!!t.overflow),{resetPosition:p,updatePosition:b,isDragging:w}=Co(d,u,f,m),I=h(()=>[r.b(),r.is("fullscreen",t.fullscreen),r.is("draggable",f.value),r.is("dragging",w.value),r.is("align-center",!!t.alignCenter),{[r.m("center")]:t.center}]);return l({resetPosition:p,updatePosition:b}),(a,E)=>(N(),ee("div",{ref:o(S),class:_(I.value),style:pe(o(v)),tabindex:"-1"},[X("header",{ref_key:"headerRef",ref:u,class:_([o(r).e("header"),a.headerClass,{"show-close":a.showClose}])},[D(a.$slots,"header",{},()=>[X("span",{role:"heading","aria-level":a.ariaLevel,class:_(o(r).e("title"))},_e(a.title),11,wo)]),a.showClose?(N(),ee("button",{key:0,"aria-label":o(c)("el.dialog.close"),class:_(o(r).e("headerbtn")),type:"button",onClick:E[0]||(E[0]=M=>a.$emit("close"))},[V(o(ze),{class:_(o(r).e("close"))},{default:F(()=>[(N(),ne(Fe(a.closeIcon||o(y))))]),_:1},8,["class"])],10,Eo)):te("v-if",!0)],2),X("div",{id:o(g),class:_([o(r).e("body"),a.bodyClass])},[D(a.$slots,"default")],10,ko),a.$slots.footer?(N(),ee("footer",{key:0,class:_([o(r).e("footer"),a.footerClass])},[D(a.$slots,"footer")],2)):te("v-if",!0)],6))}});var To=ye(So,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Io=le({...we,appendToBody:Boolean,appendTo:{type:Ye.to.type,default:"body"},beforeClose:{type:q(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:q([String,Object]),default:void 0}}),Lo={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[be]:e=>Ne(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Mo=(e,l={})=>{Re(e)||Ue("[useLockscreen]","You need to pass a ref param to this function");const c=l.ns||ae("popup"),y=h(()=>c.bm("parent","hidden"));let t=0,d=!1,u="0";const g=()=>{setTimeout(()=>{typeof document>"u"||d&&document&&(document.body.style.width=u,qe(document.body,y.value))},200)};W(e,r=>{if(!r){g();return}d=!je(document.body,y.value),d&&(u=document.body.style.width,He(document.body,y.value)),t=Xe(c.namespace.value);const v=document.documentElement.clientHeight<document.body.scrollHeight,k=We(document.body,"overflowY");t>0&&(v||k==="scroll")&&d&&(document.body.style.width=`calc(100% - ${t}px)`)}),Ve(()=>g())},Bo=(e,l)=>{var c;const t=Ke().emit,{nextZIndex:d}=Ge();let u="";const g=ce(),r=ce(),v=P(!1),k=P(!1),S=P(!1),f=P((c=e.zIndex)!=null?c:d()),m=P(!1);let p,b;const w=Je(),I=h(()=>{var n,i;return(i=(n=w.value)==null?void 0:n.namespace)!=null?i:Ze}),a=h(()=>{var n;return(n=w.value)==null?void 0:n.dialog}),E=h(()=>{const n={},i=`--${I.value}-dialog`;if(!e.fullscreen){e.top&&(n[`${i}-margin-top`]=e.top);const C=oe(e.width);C&&(n[`${i}-width`]=C)}return n}),M=h(()=>{var n,i,C;return((C=(i=e.draggable)!=null?i:(n=a.value)==null?void 0:n.draggable)!=null?C:!1)&&!e.fullscreen}),A=h(()=>{var n,i,C;return(C=(i=e.alignCenter)!=null?i:(n=a.value)==null?void 0:n.alignCenter)!=null?C:!1}),z=h(()=>{var n,i,C;return(C=(i=e.overflow)!=null?i:(n=a.value)==null?void 0:n.overflow)!=null?C:!1}),Y=h(()=>A.value?{display:"flex"}:{}),R=h(()=>{var n,i,C;const J=(C=(i=e.transition)!=null?i:(n=a.value)==null?void 0:n.transition)!=null?C:me,Ie={name:J,onAfterEnter:$,onBeforeLeave:U,onAfterLeave:T};if(xe(J)){const B={...J},Z=(H,Le)=>ie=>{Qe(H)?H.forEach(re=>{de(re)&&re(ie)}):de(H)&&H(ie),Le()};return B.onAfterEnter=Z(B.onAfterEnter,$),B.onBeforeLeave=Z(B.onBeforeLeave,U),B.onAfterLeave=Z(B.onAfterLeave,T),B.name||(B.name=me),B}return Ie});function $(){t("opened")}function T(){t("closed"),t(be,!1),e.destroyOnClose&&(S.value=!1),m.value=!1}function U(){m.value=!0,t("close")}function K(){b?.(),p?.(),e.openDelay&&e.openDelay>0?{stop:p}=fe(()=>O(),e.openDelay):O()}function s(){p?.(),b?.(),e.closeDelay&&e.closeDelay>0?{stop:b}=fe(()=>G(),e.closeDelay):G()}function L(){function n(i){i||(k.value=!0,v.value=!1)}e.beforeClose?e.beforeClose(n):s()}function j(){e.closeOnClickModal&&L()}function O(){eo&&(v.value=!0)}function G(){v.value=!1}function Ee(){t("openAutoFocus")}function ke(){t("closeAutoFocus")}function Se(n){var i;((i=n.detail)==null?void 0:i.focusReason)==="pointer"&&n.preventDefault()}e.lockScroll&&Mo(v);function Te(){e.closeOnPressEscape&&L()}return W(()=>e.zIndex,()=>{var n;f.value=(n=e.zIndex)!=null?n:d()}),W(()=>e.modelValue,n=>{var i;n?(k.value=!1,K(),S.value=!0,f.value=(i=e.zIndex)!=null?i:d(),oo(()=>{t("open"),l.value&&(l.value.parentElement.scrollTop=0,l.value.parentElement.scrollLeft=0,l.value.scrollTop=0)})):v.value&&s()}),W(()=>e.fullscreen,n=>{l.value&&(n?(u=l.value.style.transform,l.value.style.transform=""):l.value.style.transform=u)}),ge(()=>{e.modelValue&&(v.value=!0,S.value=!0,K())}),{afterEnter:$,afterLeave:T,beforeLeave:U,handleClose:L,onModalClick:j,close:s,doClose:G,onOpenAutoFocus:Ee,onCloseAutoFocus:ke,onCloseRequested:Te,onFocusoutPrevented:Se,titleId:g,bodyId:r,closed:k,style:E,overlayDialogStyle:Y,rendered:S,visible:v,zIndex:f,transitionConfig:R,_draggable:M,_alignCenter:A,_overflow:z,closing:m}},Po=["aria-label","aria-labelledby","aria-describedby"],Do=se({name:"ElDialog",inheritAttrs:!1,__name:"dialog",props:Io,emits:Lo,setup(e,{expose:l}){const c=e,y=to();no({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},h(()=>!!y.title));const t=ae("dialog"),d=P(),u=P(),g=P(),{visible:r,titleId:v,bodyId:k,style:S,overlayDialogStyle:f,rendered:m,transitionConfig:p,zIndex:b,_draggable:w,_alignCenter:I,_overflow:a,handleClose:E,onModalClick:M,onOpenAutoFocus:A,onCloseAutoFocus:z,onCloseRequested:Y,onFocusoutPrevented:R,closing:$}=Bo(c,d);co(he,{dialogRef:d,headerRef:u,bodyId:k,ns:t,rendered:m,style:S});const T=Ce(M),U=h(()=>c.modalPenetrable&&!c.modal&&!c.fullscreen);return l({visible:r,dialogContentRef:g,resetPosition:()=>{var s;(s=g.value)==null||s.resetPosition()},handleClose:E}),(s,L)=>(N(),ne(o(uo),{to:s.appendTo,disabled:s.appendTo!=="body"?!1:!s.appendToBody},{default:F(()=>[V(so,ve(o(p),{persisted:""}),{default:F(()=>{var j;return[lo(V(o(po),{"custom-mask-event":"",mask:s.modal,"overlay-class":[(j=s.modalClass)!=null?j:"",`${o(t).namespace.value}-modal-dialog`,o(t).is("penetrable",U.value)],"z-index":o(b)},{default:F(()=>[X("div",{role:"dialog","aria-modal":"true","aria-label":s.title||void 0,"aria-labelledby":s.title?void 0:o(v),"aria-describedby":o(k),class:_([`${o(t).namespace.value}-overlay-dialog`,o(t).is("closing",o($))]),style:pe(o(f)),onClick:L[0]||(L[0]=(...O)=>o(T).onClick&&o(T).onClick(...O)),onMousedown:L[1]||(L[1]=(...O)=>o(T).onMousedown&&o(T).onMousedown(...O)),onMouseup:L[2]||(L[2]=(...O)=>o(T).onMouseup&&o(T).onMouseup(...O))},[V(o(ao),{loop:"",trapped:o(r),"focus-start-el":"container",onFocusAfterTrapped:o(A),onFocusAfterReleased:o(z),onFocusoutPrevented:o(R),onReleaseRequested:o(Y)},{default:F(()=>[o(m)?(N(),ne(To,ve({key:0,ref_key:"dialogContentRef",ref:g},s.$attrs,{center:s.center,"align-center":o(I),"close-icon":s.closeIcon,draggable:o(w),overflow:o(a),fullscreen:s.fullscreen,"header-class":s.headerClass,"body-class":s.bodyClass,"footer-class":s.footerClass,"show-close":s.showClose,title:s.title,"aria-level":s.headerAriaLevel,onClose:o(E)}),io({header:F(()=>[s.$slots.title?D(s.$slots,"title",{key:1}):D(s.$slots,"header",{key:0,close:o(E),titleId:o(v),titleClass:o(t).e("title")})]),default:F(()=>[D(s.$slots,"default")]),_:2},[s.$slots.footer?{name:"footer",fn:F(()=>[D(s.$slots,"footer")]),key:"0"}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):te("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Po)]),_:3},8,["mask","overlay-class","z-index"]),[[ro,o(r)]])]}),_:3},16)]),_:3},8,["to","disabled"]))}});var Ao=ye(Do,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const _o=fo(Ao);export{_o as E,Io as a,Bo as b,po as c,Lo as d,ho as e,Co as f,Ce as g,Mo as u};
