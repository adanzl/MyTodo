# .env.example
# 本文件包含应用所需的所有环境变量。
# 请复制本文件为 .env，并填写真实值。
# 不要将 .env 文件提交到版本控制系统。

# ========== 环境配置 (Environment) ==========
# development 或 production
ENV=development

# ========== 服务器配置 (Server) ==========
HOST=127.0.0.1
PORT=8000

# ========== Flask 配置 ==========
# 最大上传文件大小 (默认 2000MB)
MAX_CONTENT_LENGTH=2097152000

# ========== 数据库配置 (Database) ==========
DB_NAME=data.db

# ========== Redis 配置 ==========
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# ========== AI 服务配置 (AI Services) ==========
# Dify AI 服务
AI_DIFY_API_URL=http://192.168.50.171:9098/v1
AI_DIFY_API_KEY=

# 火山引擎豆包
DOUBAO_API_URL=https://ark.cn-beijing.volces.com
DOUBAO_AK=
DOUBAO_MODEL=ep-20250205111100-zhcpq

# ========== TTS 服务配置 (TTS Services) ==========
# 阿里云 DashScope (用于 TTS 和语音克隆)
ALI_KEY=

# 豆包 TTS
DOUBAO_TTS_API_URL=https://openspeech.bytedance.com/api/v1/tts
DOUBAO_TTS_API_ID=
DOUBAO_TTS_API_TOKEN=

# Zero TTS FastAPI 服务
ZERO_TTS_FASTAPI_URL=http://192.168.50.171:9099/inference_zero_shot

# ========== ASR 服务配置 (ASR Service) ==========
ASR_SERVER=ws://192.168.50.171:9096
ASR_MODE=offline

# ========== 设备配置 (Devices) ==========
# 小米设备
MI_USER=
MI_PASS=

# Agent 设备
DEVICE_AGENT_BASE_URL=http://192.168.50.184:8000
DEVICE_AGENT_TIMEOUT=30

# ========== 文件路径配置 (File Paths) ==========
# BASE_TMP_DIR: 临时文件目录，用于保存 TTS、PDF、媒体处理等任务产生的临时文件
BASE_TMP_DIR=/tmp/my_todo
# DEFAULT_BASE_DIR: 项目文件目录，用于保存用户访问的项目文件
DEFAULT_BASE_DIR=/opt/my_todo/data
LOG_DIR=logs

# ========== 工具配置 (Tools) ==========
FFMPEG_PATH=/usr/bin/ffmpeg
FFMPEG_TIMEOUT=300

# ========== JWT / Auth 配置 ==========
# 重点：本地、远程、natapp 等多环境必须使用相同的 JWT_SECRET_KEY，否则 token 验证会失败（Signature verification failed）
# 建议：生成随机字符串，如 openssl rand -hex 32
JWT_SECRET_KEY=change-me-in-prod

# ========== CORS 配置 ==========
# 多个源用逗号分隔。需与前端实际 origin 一致：
# - 浏览器开发：http://localhost:5174（Vite）、http://localhost:8100 等
# - Ionic/Capacitor（8100 或真机）：实际 origin 常为 capacitor://localhost 或 ionic://localhost，需一并加入
# 使用 "*" 表示允许所有源（与 JWT credentials 不兼容，不推荐）
CORS_ORIGINS=*
